{"version":3,"file":"examples/dist/bundle.js","mappings":"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","sources":["webpack://@livingdocs/editable.js/webpack/universalModuleDefinition","webpack://@livingdocs/editable.js/./node_modules/react-dom/cjs/react-dom.production.js","webpack://@livingdocs/editable.js/./node_modules/react/index.js","webpack://@livingdocs/editable.js/./node_modules/prop-types/index.js","webpack://@livingdocs/editable.js/./node_modules/prop-types/factoryWithThrowingShims.js","webpack://@livingdocs/editable.js/./node_modules/prismjs/prism.js","webpack://@livingdocs/editable.js/./node_modules/react/cjs/react.production.js","webpack://@livingdocs/editable.js/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://@livingdocs/editable.js/./node_modules/react-dom/index.js","webpack://@livingdocs/editable.js/webpack/bootstrap","webpack://@livingdocs/editable.js/webpack/runtime/compat get default export","webpack://@livingdocs/editable.js/webpack/runtime/define property getters","webpack://@livingdocs/editable.js/webpack/runtime/global","webpack://@livingdocs/editable.js/webpack/runtime/hasOwnProperty shorthand","webpack://@livingdocs/editable.js/webpack/runtime/make namespace object","webpack://@livingdocs/editable.js/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://@livingdocs/editable.js/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://@livingdocs/editable.js/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://@livingdocs/editable.js/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://@livingdocs/editable.js/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://@livingdocs/editable.js/./src/config.js","webpack://@livingdocs/editable.js/./src/util/error.js","webpack://@livingdocs/editable.js/./src/util/string.js","webpack://@livingdocs/editable.js/./src/node-type.js","webpack://@livingdocs/editable.js/./src/node-iterator.js","webpack://@livingdocs/editable.js/./src/util/dom.js","webpack://@livingdocs/editable.js/./src/parser.js","webpack://@livingdocs/editable.js/./src/range-save-restore.js","webpack://@livingdocs/editable.js/./src/content.js","webpack://@livingdocs/editable.js/./src/block.js","webpack://@livingdocs/editable.js/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://@livingdocs/editable.js/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://@livingdocs/editable.js/./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack://@livingdocs/editable.js/./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://@livingdocs/editable.js/./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://@livingdocs/editable.js/./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack://@livingdocs/editable.js/./src/quotes.js","webpack://@livingdocs/editable.js/./src/clipboard.js","webpack://@livingdocs/editable.js/./src/feature-detection.js","webpack://@livingdocs/editable.js/./src/eventable.js","webpack://@livingdocs/editable.js/./src/util/viewport.js","webpack://@livingdocs/editable.js/./src/cursor.js","webpack://@livingdocs/editable.js/./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://@livingdocs/editable.js/./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://@livingdocs/editable.js/./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://@livingdocs/editable.js/./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://@livingdocs/editable.js/./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://@livingdocs/editable.js/./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://@livingdocs/editable.js/./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://@livingdocs/editable.js/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@livingdocs/editable.js/./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://@livingdocs/editable.js/./src/highlight-text.js","webpack://@livingdocs/editable.js/./src/plugins/highlighting/text-search.js","webpack://@livingdocs/editable.js/./src/highlight-support.js","webpack://@livingdocs/editable.js/./src/selection.js","webpack://@livingdocs/editable.js/./src/range-container.js","webpack://@livingdocs/editable.js/./src/selection-watcher.js","webpack://@livingdocs/editable.js/./src/keyboard.js","webpack://@livingdocs/editable.js/./src/smartQuotes.js","webpack://@livingdocs/editable.js/./src/dispatcher.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_listCacheClear.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/eq.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_assocIndexOf.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_listCacheDelete.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_ListCache.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_listCacheGet.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_listCacheHas.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_listCacheSet.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_freeGlobal.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_root.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_Symbol.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_getRawTag.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_objectToString.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_baseGetTag.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/isObject.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/isFunction.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_coreJsData.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_isMasked.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_toSource.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_baseIsNative.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_getNative.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_getValue.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_Map.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_nativeCreate.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_hashGet.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_hashHas.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_Hash.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_hashClear.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_hashDelete.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_hashSet.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_getMapData.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_isKeyable.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_MapCache.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_mapCacheClear.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_mapCacheDelete.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_mapCacheGet.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_mapCacheHas.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_mapCacheSet.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_Stack.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_stackClear.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_stackDelete.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_stackGet.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_stackHas.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_stackSet.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_defineProperty.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_baseAssignValue.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_assignMergeValue.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_baseFor.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_createBaseFor.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_cloneBuffer.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_Uint8Array.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_cloneTypedArray.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_cloneArrayBuffer.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_baseCreate.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_getPrototype.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_overArg.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_isPrototype.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/isObjectLike.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_baseIsArguments.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/isArguments.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/isArray.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/isLength.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/isArrayLike.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/isBuffer.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/stubFalse.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/isPlainObject.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_baseIsTypedArray.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_nodeUtil.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/isTypedArray.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_baseUnary.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_safeGet.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_assignValue.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_isIndex.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_arrayLikeKeys.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_baseTimes.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_baseKeysIn.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_nativeKeysIn.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/keysIn.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/toPlainObject.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_copyObject.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_baseMergeDeep.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/isArrayLikeObject.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_copyArray.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_initCloneObject.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_baseMerge.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/identity.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_overRest.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_baseSetToString.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/constant.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_shortOut.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_setToString.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_baseRest.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_apply.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/merge.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_createAssigner.js","webpack://@livingdocs/editable.js/./node_modules/lodash-es/_isIterateeCall.js","webpack://@livingdocs/editable.js/./src/plugins/highlighting/spellcheck-service.js","webpack://@livingdocs/editable.js/./src/plugins/highlighting/whitespace-highlighting.js","webpack://@livingdocs/editable.js/./src/plugins/highlighting/match-collection.js","webpack://@livingdocs/editable.js/./src/monitored-highlighting.js","webpack://@livingdocs/editable.js/./src/util/log.js","webpack://@livingdocs/editable.js/./src/util/element.js","webpack://@livingdocs/editable.js/./src/util/binary_search.js","webpack://@livingdocs/editable.js/./src/core.js","webpack://@livingdocs/editable.js/./src/create-default-events.js","webpack://@livingdocs/editable.js/./src/create-default-behavior.js","webpack://@livingdocs/editable.js/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@livingdocs/editable.js/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://@livingdocs/editable.js/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@livingdocs/editable.js/./node_modules/dom-helpers/esm/removeClass.js","webpack://@livingdocs/editable.js/./node_modules/react-transition-group/esm/config.js","webpack://@livingdocs/editable.js/./node_modules/react-transition-group/esm/TransitionGroupContext.js","webpack://@livingdocs/editable.js/./node_modules/react-transition-group/esm/utils/reflow.js","webpack://@livingdocs/editable.js/./node_modules/react-transition-group/esm/Transition.js","webpack://@livingdocs/editable.js/./node_modules/react-transition-group/esm/CSSTransition.js","webpack://@livingdocs/editable.js/./node_modules/dom-helpers/esm/addClass.js","webpack://@livingdocs/editable.js/./node_modules/dom-helpers/esm/hasClass.js","webpack://@livingdocs/editable.js/./node_modules/react-transition-group/esm/utils/ChildMapping.js","webpack://@livingdocs/editable.js/./node_modules/react-transition-group/esm/TransitionGroup.js","webpack://@livingdocs/editable.js/./examples/events.js","webpack://@livingdocs/editable.js/./examples/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(self, () => {\nreturn ","/**\n * @license React\n * react-dom.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction formatProdErrorMessage(code) {\n  var url = \"https://react.dev/errors/\" + code;\n  if (1 < arguments.length) {\n    url += \"?args[]=\" + encodeURIComponent(arguments[1]);\n    for (var i = 2; i < arguments.length; i++)\n      url += \"&args[]=\" + encodeURIComponent(arguments[i]);\n  }\n  return (\n    \"Minified React error #\" +\n    code +\n    \"; visit \" +\n    url +\n    \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"\n  );\n}\nfunction noop() {}\nvar Internals = {\n    d: {\n      f: noop,\n      r: function () {\n        throw Error(formatProdErrorMessage(522));\n      },\n      D: noop,\n      C: noop,\n      L: noop,\n      m: noop,\n      X: noop,\n      S: noop,\n      M: noop\n    },\n    p: 0,\n    findDOMNode: null\n  },\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\");\nfunction createPortal$1(children, containerInfo, implementation) {\n  var key =\n    3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null;\n  return {\n    $$typeof: REACT_PORTAL_TYPE,\n    key: null == key ? null : \"\" + key,\n    children: children,\n    containerInfo: containerInfo,\n    implementation: implementation\n  };\n}\nvar ReactSharedInternals =\n  React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;\nfunction getCrossOriginStringAs(as, input) {\n  if (\"font\" === as) return \"\";\n  if (\"string\" === typeof input)\n    return \"use-credentials\" === input ? input : \"\";\n}\nexports.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  Internals;\nexports.createPortal = function (children, container) {\n  var key =\n    2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null;\n  if (\n    !container ||\n    (1 !== container.nodeType &&\n      9 !== container.nodeType &&\n      11 !== container.nodeType)\n  )\n    throw Error(formatProdErrorMessage(299));\n  return createPortal$1(children, container, null, key);\n};\nexports.flushSync = function (fn) {\n  var previousTransition = ReactSharedInternals.T,\n    previousUpdatePriority = Internals.p;\n  try {\n    if (((ReactSharedInternals.T = null), (Internals.p = 2), fn)) return fn();\n  } finally {\n    (ReactSharedInternals.T = previousTransition),\n      (Internals.p = previousUpdatePriority),\n      Internals.d.f();\n  }\n};\nexports.preconnect = function (href, options) {\n  \"string\" === typeof href &&\n    (options\n      ? ((options = options.crossOrigin),\n        (options =\n          \"string\" === typeof options\n            ? \"use-credentials\" === options\n              ? options\n              : \"\"\n            : void 0))\n      : (options = null),\n    Internals.d.C(href, options));\n};\nexports.prefetchDNS = function (href) {\n  \"string\" === typeof href && Internals.d.D(href);\n};\nexports.preinit = function (href, options) {\n  if (\"string\" === typeof href && options && \"string\" === typeof options.as) {\n    var as = options.as,\n      crossOrigin = getCrossOriginStringAs(as, options.crossOrigin),\n      integrity =\n        \"string\" === typeof options.integrity ? options.integrity : void 0,\n      fetchPriority =\n        \"string\" === typeof options.fetchPriority\n          ? options.fetchPriority\n          : void 0;\n    \"style\" === as\n      ? Internals.d.S(\n          href,\n          \"string\" === typeof options.precedence ? options.precedence : void 0,\n          {\n            crossOrigin: crossOrigin,\n            integrity: integrity,\n            fetchPriority: fetchPriority\n          }\n        )\n      : \"script\" === as &&\n        Internals.d.X(href, {\n          crossOrigin: crossOrigin,\n          integrity: integrity,\n          fetchPriority: fetchPriority,\n          nonce: \"string\" === typeof options.nonce ? options.nonce : void 0\n        });\n  }\n};\nexports.preinitModule = function (href, options) {\n  if (\"string\" === typeof href)\n    if (\"object\" === typeof options && null !== options) {\n      if (null == options.as || \"script\" === options.as) {\n        var crossOrigin = getCrossOriginStringAs(\n          options.as,\n          options.crossOrigin\n        );\n        Internals.d.M(href, {\n          crossOrigin: crossOrigin,\n          integrity:\n            \"string\" === typeof options.integrity ? options.integrity : void 0,\n          nonce: \"string\" === typeof options.nonce ? options.nonce : void 0\n        });\n      }\n    } else null == options && Internals.d.M(href);\n};\nexports.preload = function (href, options) {\n  if (\n    \"string\" === typeof href &&\n    \"object\" === typeof options &&\n    null !== options &&\n    \"string\" === typeof options.as\n  ) {\n    var as = options.as,\n      crossOrigin = getCrossOriginStringAs(as, options.crossOrigin);\n    Internals.d.L(href, as, {\n      crossOrigin: crossOrigin,\n      integrity:\n        \"string\" === typeof options.integrity ? options.integrity : void 0,\n      nonce: \"string\" === typeof options.nonce ? options.nonce : void 0,\n      type: \"string\" === typeof options.type ? options.type : void 0,\n      fetchPriority:\n        \"string\" === typeof options.fetchPriority\n          ? options.fetchPriority\n          : void 0,\n      referrerPolicy:\n        \"string\" === typeof options.referrerPolicy\n          ? options.referrerPolicy\n          : void 0,\n      imageSrcSet:\n        \"string\" === typeof options.imageSrcSet ? options.imageSrcSet : void 0,\n      imageSizes:\n        \"string\" === typeof options.imageSizes ? options.imageSizes : void 0,\n      media: \"string\" === typeof options.media ? options.media : void 0\n    });\n  }\n};\nexports.preloadModule = function (href, options) {\n  if (\"string\" === typeof href)\n    if (options) {\n      var crossOrigin = getCrossOriginStringAs(options.as, options.crossOrigin);\n      Internals.d.m(href, {\n        as:\n          \"string\" === typeof options.as && \"script\" !== options.as\n            ? options.as\n            : void 0,\n        crossOrigin: crossOrigin,\n        integrity:\n          \"string\" === typeof options.integrity ? options.integrity : void 0\n      });\n    } else Internals.d.m(href);\n};\nexports.requestFormReset = function (form) {\n  Internals.d.r(form);\n};\nexports.unstable_batchedUpdates = function (fn, a) {\n  return fn(a);\n};\nexports.useFormState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useFormState(action, initialState, permalink);\n};\nexports.useFormStatus = function () {\n  return ReactSharedInternals.H.useHostTransitionStatus();\n};\nexports.version = \"19.0.0\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","\n/* **********************************************\n     Begin prism-core.js\n********************************************** */\n\n/// <reference lib=\"WebWorker\"/>\n\nvar _self = (typeof window !== 'undefined')\n\t? window   // if in browser\n\t: (\n\t\t(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)\n\t\t\t? self // if in worker\n\t\t\t: {}   // if in node js\n\t);\n\n/**\n * Prism: Lightweight, robust, elegant syntax highlighting\n *\n * @license MIT <https://opensource.org/licenses/MIT>\n * @author Lea Verou <https://lea.verou.me>\n * @namespace\n * @public\n */\nvar Prism = (function (_self) {\n\n\t// Private helper vars\n\tvar lang = /(?:^|\\s)lang(?:uage)?-([\\w-]+)(?=\\s|$)/i;\n\tvar uniqueId = 0;\n\n\t// The grammar object for plaintext\n\tvar plainTextGrammar = {};\n\n\n\tvar _ = {\n\t\t/**\n\t\t * By default, Prism will attempt to highlight all code elements (by calling {@link Prism.highlightAll}) on the\n\t\t * current page after the page finished loading. This might be a problem if e.g. you wanted to asynchronously load\n\t\t * additional languages or plugins yourself.\n\t\t *\n\t\t * By setting this value to `true`, Prism will not automatically highlight all code elements on the page.\n\t\t *\n\t\t * You obviously have to change this value before the automatic highlighting started. To do this, you can add an\n\t\t * empty Prism object into the global scope before loading the Prism script like this:\n\t\t *\n\t\t * ```js\n\t\t * window.Prism = window.Prism || {};\n\t\t * Prism.manual = true;\n\t\t * // add a new <script> to load Prism's script\n\t\t * ```\n\t\t *\n\t\t * @default false\n\t\t * @type {boolean}\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tmanual: _self.Prism && _self.Prism.manual,\n\t\t/**\n\t\t * By default, if Prism is in a web worker, it assumes that it is in a worker it created itself, so it uses\n\t\t * `addEventListener` to communicate with its parent instance. However, if you're using Prism manually in your\n\t\t * own worker, you don't want it to do this.\n\t\t *\n\t\t * By setting this value to `true`, Prism will not add its own listeners to the worker.\n\t\t *\n\t\t * You obviously have to change this value before Prism executes. To do this, you can add an\n\t\t * empty Prism object into the global scope before loading the Prism script like this:\n\t\t *\n\t\t * ```js\n\t\t * window.Prism = window.Prism || {};\n\t\t * Prism.disableWorkerMessageHandler = true;\n\t\t * // Load Prism's script\n\t\t * ```\n\t\t *\n\t\t * @default false\n\t\t * @type {boolean}\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tdisableWorkerMessageHandler: _self.Prism && _self.Prism.disableWorkerMessageHandler,\n\n\t\t/**\n\t\t * A namespace for utility methods.\n\t\t *\n\t\t * All function in this namespace that are not explicitly marked as _public_ are for __internal use only__ and may\n\t\t * change or disappear at any time.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t */\n\t\tutil: {\n\t\t\tencode: function encode(tokens) {\n\t\t\t\tif (tokens instanceof Token) {\n\t\t\t\t\treturn new Token(tokens.type, encode(tokens.content), tokens.alias);\n\t\t\t\t} else if (Array.isArray(tokens)) {\n\t\t\t\t\treturn tokens.map(encode);\n\t\t\t\t} else {\n\t\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the name of the type of the given value.\n\t\t\t *\n\t\t\t * @param {any} o\n\t\t\t * @returns {string}\n\t\t\t * @example\n\t\t\t * type(null)      === 'Null'\n\t\t\t * type(undefined) === 'Undefined'\n\t\t\t * type(123)       === 'Number'\n\t\t\t * type('foo')     === 'String'\n\t\t\t * type(true)      === 'Boolean'\n\t\t\t * type([1, 2])    === 'Array'\n\t\t\t * type({})        === 'Object'\n\t\t\t * type(String)    === 'Function'\n\t\t\t * type(/abc+/)    === 'RegExp'\n\t\t\t */\n\t\t\ttype: function (o) {\n\t\t\t\treturn Object.prototype.toString.call(o).slice(8, -1);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns a unique number for the given object. Later calls will still return the same number.\n\t\t\t *\n\t\t\t * @param {Object} obj\n\t\t\t * @returns {number}\n\t\t\t */\n\t\t\tobjId: function (obj) {\n\t\t\t\tif (!obj['__id']) {\n\t\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\n\t\t\t\t}\n\t\t\t\treturn obj['__id'];\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Creates a deep clone of the given object.\n\t\t\t *\n\t\t\t * The main intended use of this function is to clone language definitions.\n\t\t\t *\n\t\t\t * @param {T} o\n\t\t\t * @param {Record<number, any>} [visited]\n\t\t\t * @returns {T}\n\t\t\t * @template T\n\t\t\t */\n\t\t\tclone: function deepClone(o, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar clone; var id;\n\t\t\t\tswitch (_.util.type(o)) {\n\t\t\t\t\tcase 'Object':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = /** @type {Record<string, any>} */ ({});\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\tfor (var key in o) {\n\t\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\tclone[key] = deepClone(o[key], visited);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tcase 'Array':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\t(/** @type {Array} */(/** @type {any} */(o))).forEach(function (v, i) {\n\t\t\t\t\t\t\tclone[i] = deepClone(v, visited);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the Prism language of the given element set by a `language-xxxx` or `lang-xxxx` class.\n\t\t\t *\n\t\t\t * If no language is set for the element or the element is `null` or `undefined`, `none` will be returned.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @returns {string}\n\t\t\t */\n\t\t\tgetLanguage: function (element) {\n\t\t\t\twhile (element) {\n\t\t\t\t\tvar m = lang.exec(element.className);\n\t\t\t\t\tif (m) {\n\t\t\t\t\t\treturn m[1].toLowerCase();\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\treturn 'none';\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Sets the Prism `language-xxxx` class of the given element.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @param {string} language\n\t\t\t * @returns {void}\n\t\t\t */\n\t\t\tsetLanguage: function (element, language) {\n\t\t\t\t// remove all `language-xxxx` classes\n\t\t\t\t// (this might leave behind a leading space)\n\t\t\t\telement.className = element.className.replace(RegExp(lang, 'gi'), '');\n\n\t\t\t\t// add the new `language-xxxx` class\n\t\t\t\t// (using `classList` will automatically clean up spaces for us)\n\t\t\t\telement.classList.add('language-' + language);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the script element that is currently executing.\n\t\t\t *\n\t\t\t * This does __not__ work for line script element.\n\t\t\t *\n\t\t\t * @returns {HTMLScriptElement | null}\n\t\t\t */\n\t\t\tcurrentScript: function () {\n\t\t\t\tif (typeof document === 'undefined') {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tif ('currentScript' in document && 1 < 2 /* hack to trip TS' flow analysis */) {\n\t\t\t\t\treturn /** @type {any} */ (document.currentScript);\n\t\t\t\t}\n\n\t\t\t\t// IE11 workaround\n\t\t\t\t// we'll get the src of the current script by parsing IE11's error stack trace\n\t\t\t\t// this will not work for inline scripts\n\n\t\t\t\ttry {\n\t\t\t\t\tthrow new Error();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Get file src url from stack. Specifically works with the format of stack traces in IE.\n\t\t\t\t\t// A stack will look like this:\n\t\t\t\t\t//\n\t\t\t\t\t// Error\n\t\t\t\t\t//    at _.util.currentScript (http://localhost/components/prism-core.js:119:5)\n\t\t\t\t\t//    at Global code (http://localhost/components/prism-core.js:606:1)\n\n\t\t\t\t\tvar src = (/at [^(\\r\\n]*\\((.*):[^:]+:[^:]+\\)$/i.exec(err.stack) || [])[1];\n\t\t\t\t\tif (src) {\n\t\t\t\t\t\tvar scripts = document.getElementsByTagName('script');\n\t\t\t\t\t\tfor (var i in scripts) {\n\t\t\t\t\t\t\tif (scripts[i].src == src) {\n\t\t\t\t\t\t\t\treturn scripts[i];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns whether a given class is active for `element`.\n\t\t\t *\n\t\t\t * The class can be activated if `element` or one of its ancestors has the given class and it can be deactivated\n\t\t\t * if `element` or one of its ancestors has the negated version of the given class. The _negated version_ of the\n\t\t\t * given class is just the given class with a `no-` prefix.\n\t\t\t *\n\t\t\t * Whether the class is active is determined by the closest ancestor of `element` (where `element` itself is\n\t\t\t * closest ancestor) that has the given class or the negated version of it. If neither `element` nor any of its\n\t\t\t * ancestors have the given class or the negated version of it, then the default activation will be returned.\n\t\t\t *\n\t\t\t * In the paradoxical situation where the closest ancestor contains __both__ the given class and the negated\n\t\t\t * version of it, the class is considered active.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @param {string} className\n\t\t\t * @param {boolean} [defaultActivation=false]\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tisActive: function (element, className, defaultActivation) {\n\t\t\t\tvar no = 'no-' + className;\n\n\t\t\t\twhile (element) {\n\t\t\t\t\tvar classList = element.classList;\n\t\t\t\t\tif (classList.contains(className)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tif (classList.contains(no)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\treturn !!defaultActivation;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * This namespace contains all currently loaded languages and the some helper functions to create and modify languages.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tlanguages: {\n\t\t\t/**\n\t\t\t * The grammar for plain, unformatted text.\n\t\t\t */\n\t\t\tplain: plainTextGrammar,\n\t\t\tplaintext: plainTextGrammar,\n\t\t\ttext: plainTextGrammar,\n\t\t\ttxt: plainTextGrammar,\n\n\t\t\t/**\n\t\t\t * Creates a deep copy of the language with the given id and appends the given tokens.\n\t\t\t *\n\t\t\t * If a token in `redef` also appears in the copied language, then the existing token in the copied language\n\t\t\t * will be overwritten at its original position.\n\t\t\t *\n\t\t\t * ## Best practices\n\t\t\t *\n\t\t\t * Since the position of overwriting tokens (token in `redef` that overwrite tokens in the copied language)\n\t\t\t * doesn't matter, they can technically be in any order. However, this can be confusing to others that trying to\n\t\t\t * understand the language definition because, normally, the order of tokens matters in Prism grammars.\n\t\t\t *\n\t\t\t * Therefore, it is encouraged to order overwriting tokens according to the positions of the overwritten tokens.\n\t\t\t * Furthermore, all non-overwriting tokens should be placed after the overwriting ones.\n\t\t\t *\n\t\t\t * @param {string} id The id of the language to extend. This has to be a key in `Prism.languages`.\n\t\t\t * @param {Grammar} redef The new tokens to append.\n\t\t\t * @returns {Grammar} The new language created.\n\t\t\t * @public\n\t\t\t * @example\n\t\t\t * Prism.languages['css-with-colors'] = Prism.languages.extend('css', {\n\t\t\t *     // Prism.languages.css already has a 'comment' token, so this token will overwrite CSS' 'comment' token\n\t\t\t *     // at its original position\n\t\t\t *     'comment': { ... },\n\t\t\t *     // CSS doesn't have a 'color' token, so this token will be appended\n\t\t\t *     'color': /\\b(?:red|green|blue)\\b/\n\t\t\t * });\n\t\t\t */\n\t\t\textend: function (id, redef) {\n\t\t\t\tvar lang = _.util.clone(_.languages[id]);\n\n\t\t\t\tfor (var key in redef) {\n\t\t\t\t\tlang[key] = redef[key];\n\t\t\t\t}\n\n\t\t\t\treturn lang;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Inserts tokens _before_ another token in a language definition or any other grammar.\n\t\t\t *\n\t\t\t * ## Usage\n\t\t\t *\n\t\t\t * This helper method makes it easy to modify existing languages. For example, the CSS language definition\n\t\t\t * not only defines CSS highlighting for CSS documents, but also needs to define highlighting for CSS embedded\n\t\t\t * in HTML through `<style>` elements. To do this, it needs to modify `Prism.languages.markup` and add the\n\t\t\t * appropriate tokens. However, `Prism.languages.markup` is a regular JavaScript object literal, so if you do\n\t\t\t * this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.markup.style = {\n\t\t\t *     // token\n\t\t\t * };\n\t\t\t * ```\n\t\t\t *\n\t\t\t * then the `style` token will be added (and processed) at the end. `insertBefore` allows you to insert tokens\n\t\t\t * before existing tokens. For the CSS example above, you would use it like this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'cdata', {\n\t\t\t *     'style': {\n\t\t\t *         // token\n\t\t\t *     }\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Special cases\n\t\t\t *\n\t\t\t * If the grammars of `inside` and `insert` have tokens with the same name, the tokens in `inside`'s grammar\n\t\t\t * will be ignored.\n\t\t\t *\n\t\t\t * This behavior can be used to insert tokens after `before`:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'comment', {\n\t\t\t *     'comment': Prism.languages.markup.comment,\n\t\t\t *     // tokens after 'comment'\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Limitations\n\t\t\t *\n\t\t\t * The main problem `insertBefore` has to solve is iteration order. Since ES2015, the iteration order for object\n\t\t\t * properties is guaranteed to be the insertion order (except for integer keys) but some browsers behave\n\t\t\t * differently when keys are deleted and re-inserted. So `insertBefore` can't be implemented by temporarily\n\t\t\t * deleting properties which is necessary to insert at arbitrary positions.\n\t\t\t *\n\t\t\t * To solve this problem, `insertBefore` doesn't actually insert the given tokens into the target object.\n\t\t\t * Instead, it will create a new object and replace all references to the target object with the new one. This\n\t\t\t * can be done without temporarily deleting properties, so the iteration order is well-defined.\n\t\t\t *\n\t\t\t * However, only references that can be reached from `Prism.languages` or `insert` will be replaced. I.e. if\n\t\t\t * you hold the target object in a variable, then the value of the variable will not change.\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * var oldMarkup = Prism.languages.markup;\n\t\t\t * var newMarkup = Prism.languages.insertBefore('markup', 'comment', { ... });\n\t\t\t *\n\t\t\t * assert(oldMarkup !== Prism.languages.markup);\n\t\t\t * assert(newMarkup === Prism.languages.markup);\n\t\t\t * ```\n\t\t\t *\n\t\t\t * @param {string} inside The property of `root` (e.g. a language id in `Prism.languages`) that contains the\n\t\t\t * object to be modified.\n\t\t\t * @param {string} before The key to insert before.\n\t\t\t * @param {Grammar} insert An object containing the key-value pairs to be inserted.\n\t\t\t * @param {Object<string, any>} [root] The object containing `inside`, i.e. the object that contains the\n\t\t\t * object to be modified.\n\t\t\t *\n\t\t\t * Defaults to `Prism.languages`.\n\t\t\t * @returns {Grammar} The new grammar object.\n\t\t\t * @public\n\t\t\t */\n\t\t\tinsertBefore: function (inside, before, insert, root) {\n\t\t\t\troot = root || /** @type {any} */ (_.languages);\n\t\t\t\tvar grammar = root[inside];\n\t\t\t\t/** @type {Grammar} */\n\t\t\t\tvar ret = {};\n\n\t\t\t\tfor (var token in grammar) {\n\t\t\t\t\tif (grammar.hasOwnProperty(token)) {\n\n\t\t\t\t\t\tif (token == before) {\n\t\t\t\t\t\t\tfor (var newToken in insert) {\n\t\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Do not insert token which also occur in insert. See #1525\n\t\t\t\t\t\tif (!insert.hasOwnProperty(token)) {\n\t\t\t\t\t\t\tret[token] = grammar[token];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar old = root[inside];\n\t\t\t\troot[inside] = ret;\n\n\t\t\t\t// Update references in other language definitions\n\t\t\t\t_.languages.DFS(_.languages, function (key, value) {\n\t\t\t\t\tif (value === old && key != inside) {\n\t\t\t\t\t\tthis[key] = ret;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn ret;\n\t\t\t},\n\n\t\t\t// Traverse a language definition with Depth First Search\n\t\t\tDFS: function DFS(o, callback, type, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar objId = _.util.objId;\n\n\t\t\t\tfor (var i in o) {\n\t\t\t\t\tif (o.hasOwnProperty(i)) {\n\t\t\t\t\t\tcallback.call(o, i, o[i], type || i);\n\n\t\t\t\t\t\tvar property = o[i];\n\t\t\t\t\t\tvar propertyType = _.util.type(property);\n\n\t\t\t\t\t\tif (propertyType === 'Object' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, null, visited);\n\t\t\t\t\t\t} else if (propertyType === 'Array' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, i, visited);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tplugins: {},\n\n\t\t/**\n\t\t * This is the most high-level function in Prisms API.\n\t\t * It fetches all the elements that have a `.language-xxxx` class and then calls {@link Prism.highlightElement} on\n\t\t * each one of them.\n\t\t *\n\t\t * This is equivalent to `Prism.highlightAllUnder(document, async, callback)`.\n\t\t *\n\t\t * @param {boolean} [async=false] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @param {HighlightCallback} [callback] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAll: function (async, callback) {\n\t\t\t_.highlightAllUnder(document, async, callback);\n\t\t},\n\n\t\t/**\n\t\t * Fetches all the descendants of `container` that have a `.language-xxxx` class and then calls\n\t\t * {@link Prism.highlightElement} on each one of them.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-highlightall`\n\t\t * 2. `before-all-elements-highlight`\n\t\t * 3. All hooks of {@link Prism.highlightElement} for each element.\n\t\t *\n\t\t * @param {ParentNode} container The root element, whose descendants that have a `.language-xxxx` class will be highlighted.\n\t\t * @param {boolean} [async=false] Whether each element is to be highlighted asynchronously using Web Workers.\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked on each element after its highlighting is done.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAllUnder: function (container, async, callback) {\n\t\t\tvar env = {\n\t\t\t\tcallback: callback,\n\t\t\t\tcontainer: container,\n\t\t\t\tselector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n\t\t\t};\n\n\t\t\t_.hooks.run('before-highlightall', env);\n\n\t\t\tenv.elements = Array.prototype.slice.apply(env.container.querySelectorAll(env.selector));\n\n\t\t\t_.hooks.run('before-all-elements-highlight', env);\n\n\t\t\tfor (var i = 0, element; (element = env.elements[i++]);) {\n\t\t\t\t_.highlightElement(element, async === true, env.callback);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Highlights the code inside a single element.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-sanity-check`\n\t\t * 2. `before-highlight`\n\t\t * 3. All hooks of {@link Prism.highlight}. These hooks will be run by an asynchronous worker if `async` is `true`.\n\t\t * 4. `before-insert`\n\t\t * 5. `after-highlight`\n\t\t * 6. `complete`\n\t\t *\n\t\t * Some the above hooks will be skipped if the element doesn't contain any text or there is no grammar loaded for\n\t\t * the element's language.\n\t\t *\n\t\t * @param {Element} element The element containing the code.\n\t\t * It must have a class of `language-xxxx` to be processed, where `xxxx` is a valid language identifier.\n\t\t * @param {boolean} [async=false] Whether the element is to be highlighted asynchronously using Web Workers\n\t\t * to improve performance and avoid blocking the UI when highlighting very large chunks of code. This option is\n\t\t * [disabled by default](https://prismjs.com/faq.html#why-is-asynchronous-highlighting-disabled-by-default).\n\t\t *\n\t\t * Note: All language definitions required to highlight the code must be included in the main `prism.js` file for\n\t\t * asynchronous highlighting to work. You can build your own bundle on the\n\t\t * [Download page](https://prismjs.com/download.html).\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked after the highlighting is done.\n\t\t * Mostly useful when `async` is `true`, since in that case, the highlighting is done asynchronously.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightElement: function (element, async, callback) {\n\t\t\t// Find language\n\t\t\tvar language = _.util.getLanguage(element);\n\t\t\tvar grammar = _.languages[language];\n\n\t\t\t// Set language on the element, if not present\n\t\t\t_.util.setLanguage(element, language);\n\n\t\t\t// Set language on the parent, for styling\n\t\t\tvar parent = element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre') {\n\t\t\t\t_.util.setLanguage(parent, language);\n\t\t\t}\n\n\t\t\tvar code = element.textContent;\n\n\t\t\tvar env = {\n\t\t\t\telement: element,\n\t\t\t\tlanguage: language,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tcode: code\n\t\t\t};\n\n\t\t\tfunction insertHighlightedCode(highlightedCode) {\n\t\t\t\tenv.highlightedCode = highlightedCode;\n\n\t\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t}\n\n\t\t\t_.hooks.run('before-sanity-check', env);\n\n\t\t\t// plugins may change/add the parent/element\n\t\t\tparent = env.element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre' && !parent.hasAttribute('tabindex')) {\n\t\t\t\tparent.setAttribute('tabindex', '0');\n\t\t\t}\n\n\t\t\tif (!env.code) {\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_.hooks.run('before-highlight', env);\n\n\t\t\tif (!env.grammar) {\n\t\t\t\tinsertHighlightedCode(_.util.encode(env.code));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (async && _self.Worker) {\n\t\t\t\tvar worker = new Worker(_.filename);\n\n\t\t\t\tworker.onmessage = function (evt) {\n\t\t\t\t\tinsertHighlightedCode(evt.data);\n\t\t\t\t};\n\n\t\t\t\tworker.postMessage(JSON.stringify({\n\t\t\t\t\tlanguage: env.language,\n\t\t\t\t\tcode: env.code,\n\t\t\t\t\timmediateClose: true\n\t\t\t\t}));\n\t\t\t} else {\n\t\t\t\tinsertHighlightedCode(_.highlight(env.code, env.grammar, env.language));\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Low-level function, only use if you know what youre doing. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns a string with the HTML produced.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-tokenize`\n\t\t * 2. `after-tokenize`\n\t\t * 3. `wrap`: On each {@link Token}.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @param {string} language The name of the language definition passed to `grammar`.\n\t\t * @returns {string} The highlighted HTML.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * Prism.highlight('var foo = true;', Prism.languages.javascript, 'javascript');\n\t\t */\n\t\thighlight: function (text, grammar, language) {\n\t\t\tvar env = {\n\t\t\t\tcode: text,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tlanguage: language\n\t\t\t};\n\t\t\t_.hooks.run('before-tokenize', env);\n\t\t\tif (!env.grammar) {\n\t\t\t\tthrow new Error('The language \"' + env.language + '\" has no grammar.');\n\t\t\t}\n\t\t\tenv.tokens = _.tokenize(env.code, env.grammar);\n\t\t\t_.hooks.run('after-tokenize', env);\n\t\t\treturn Token.stringify(_.util.encode(env.tokens), env.language);\n\t\t},\n\n\t\t/**\n\t\t * This is the heart of Prism, and the most low-level function you can use. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns an array with the tokenized code.\n\t\t *\n\t\t * When the language definition includes nested tokens, the function is called recursively on each of these tokens.\n\t\t *\n\t\t * This method could be useful in other contexts as well, as a very crude parser.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @returns {TokenStream} An array of strings and tokens, a token stream.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * let code = `var foo = 0;`;\n\t\t * let tokens = Prism.tokenize(code, Prism.languages.javascript);\n\t\t * tokens.forEach(token => {\n\t\t *     if (token instanceof Prism.Token && token.type === 'number') {\n\t\t *         console.log(`Found numeric literal: ${token.content}`);\n\t\t *     }\n\t\t * });\n\t\t */\n\t\ttokenize: function (text, grammar) {\n\t\t\tvar rest = grammar.rest;\n\t\t\tif (rest) {\n\t\t\t\tfor (var token in rest) {\n\t\t\t\t\tgrammar[token] = rest[token];\n\t\t\t\t}\n\n\t\t\t\tdelete grammar.rest;\n\t\t\t}\n\n\t\t\tvar tokenList = new LinkedList();\n\t\t\taddAfter(tokenList, tokenList.head, text);\n\n\t\t\tmatchGrammar(text, tokenList, grammar, tokenList.head, 0);\n\n\t\t\treturn toArray(tokenList);\n\t\t},\n\n\t\t/**\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thooks: {\n\t\t\tall: {},\n\n\t\t\t/**\n\t\t\t * Adds the given callback to the list of callbacks for the given hook.\n\t\t\t *\n\t\t\t * The callback will be invoked when the hook it is registered for is run.\n\t\t\t * Hooks are usually directly run by a highlight function but you can also run hooks yourself.\n\t\t\t *\n\t\t\t * One callback function can be registered to multiple hooks and the same hook multiple times.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {HookCallback} callback The callback function which is given environment variables.\n\t\t\t * @public\n\t\t\t */\n\t\t\tadd: function (name, callback) {\n\t\t\t\tvar hooks = _.hooks.all;\n\n\t\t\t\thooks[name] = hooks[name] || [];\n\n\t\t\t\thooks[name].push(callback);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Runs a hook invoking all registered callbacks with the given environment variables.\n\t\t\t *\n\t\t\t * Callbacks will be invoked synchronously and in the order in which they were registered.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {Object<string, any>} env The environment variables of the hook passed to all callbacks registered.\n\t\t\t * @public\n\t\t\t */\n\t\t\trun: function (name, env) {\n\t\t\t\tvar callbacks = _.hooks.all[name];\n\n\t\t\t\tif (!callbacks || !callbacks.length) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, callback; (callback = callbacks[i++]);) {\n\t\t\t\t\tcallback(env);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tToken: Token\n\t};\n\t_self.Prism = _;\n\n\n\t// Typescript note:\n\t// The following can be used to import the Token type in JSDoc:\n\t//\n\t//   @typedef {InstanceType<import(\"./prism-core\")[\"Token\"]>} Token\n\n\t/**\n\t * Creates a new token.\n\t *\n\t * @param {string} type See {@link Token#type type}\n\t * @param {string | TokenStream} content See {@link Token#content content}\n\t * @param {string|string[]} [alias] The alias(es) of the token.\n\t * @param {string} [matchedStr=\"\"] A copy of the full string this token was created from.\n\t * @class\n\t * @global\n\t * @public\n\t */\n\tfunction Token(type, content, alias, matchedStr) {\n\t\t/**\n\t\t * The type of the token.\n\t\t *\n\t\t * This is usually the key of a pattern in a {@link Grammar}.\n\t\t *\n\t\t * @type {string}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.type = type;\n\t\t/**\n\t\t * The strings or tokens contained by this token.\n\t\t *\n\t\t * This will be a token stream if the pattern matched also defined an `inside` grammar.\n\t\t *\n\t\t * @type {string | TokenStream}\n\t\t * @public\n\t\t */\n\t\tthis.content = content;\n\t\t/**\n\t\t * The alias(es) of the token.\n\t\t *\n\t\t * @type {string|string[]}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.alias = alias;\n\t\t// Copy of the full string this token was created from\n\t\tthis.length = (matchedStr || '').length | 0;\n\t}\n\n\t/**\n\t * A token stream is an array of strings and {@link Token Token} objects.\n\t *\n\t * Token streams have to fulfill a few properties that are assumed by most functions (mostly internal ones) that process\n\t * them.\n\t *\n\t * 1. No adjacent strings.\n\t * 2. No empty strings.\n\t *\n\t *    The only exception here is the token stream that only contains the empty string and nothing else.\n\t *\n\t * @typedef {Array<string | Token>} TokenStream\n\t * @global\n\t * @public\n\t */\n\n\t/**\n\t * Converts the given token or token stream to an HTML representation.\n\t *\n\t * The following hooks will be run:\n\t * 1. `wrap`: On each {@link Token}.\n\t *\n\t * @param {string | Token | TokenStream} o The token or token stream to be converted.\n\t * @param {string} language The name of current language.\n\t * @returns {string} The HTML representation of the token or token stream.\n\t * @memberof Token\n\t * @static\n\t */\n\tToken.stringify = function stringify(o, language) {\n\t\tif (typeof o == 'string') {\n\t\t\treturn o;\n\t\t}\n\t\tif (Array.isArray(o)) {\n\t\t\tvar s = '';\n\t\t\to.forEach(function (e) {\n\t\t\t\ts += stringify(e, language);\n\t\t\t});\n\t\t\treturn s;\n\t\t}\n\n\t\tvar env = {\n\t\t\ttype: o.type,\n\t\t\tcontent: stringify(o.content, language),\n\t\t\ttag: 'span',\n\t\t\tclasses: ['token', o.type],\n\t\t\tattributes: {},\n\t\t\tlanguage: language\n\t\t};\n\n\t\tvar aliases = o.alias;\n\t\tif (aliases) {\n\t\t\tif (Array.isArray(aliases)) {\n\t\t\t\tArray.prototype.push.apply(env.classes, aliases);\n\t\t\t} else {\n\t\t\t\tenv.classes.push(aliases);\n\t\t\t}\n\t\t}\n\n\t\t_.hooks.run('wrap', env);\n\n\t\tvar attributes = '';\n\t\tfor (var name in env.attributes) {\n\t\t\tattributes += ' ' + name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n\t\t}\n\n\t\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + attributes + '>' + env.content + '</' + env.tag + '>';\n\t};\n\n\t/**\n\t * @param {RegExp} pattern\n\t * @param {number} pos\n\t * @param {string} text\n\t * @param {boolean} lookbehind\n\t * @returns {RegExpExecArray | null}\n\t */\n\tfunction matchPattern(pattern, pos, text, lookbehind) {\n\t\tpattern.lastIndex = pos;\n\t\tvar match = pattern.exec(text);\n\t\tif (match && lookbehind && match[1]) {\n\t\t\t// change the match to remove the text matched by the Prism lookbehind group\n\t\t\tvar lookbehindLength = match[1].length;\n\t\t\tmatch.index += lookbehindLength;\n\t\t\tmatch[0] = match[0].slice(lookbehindLength);\n\t\t}\n\t\treturn match;\n\t}\n\n\t/**\n\t * @param {string} text\n\t * @param {LinkedList<string | Token>} tokenList\n\t * @param {any} grammar\n\t * @param {LinkedListNode<string | Token>} startNode\n\t * @param {number} startPos\n\t * @param {RematchOptions} [rematch]\n\t * @returns {void}\n\t * @private\n\t *\n\t * @typedef RematchOptions\n\t * @property {string} cause\n\t * @property {number} reach\n\t */\n\tfunction matchGrammar(text, tokenList, grammar, startNode, startPos, rematch) {\n\t\tfor (var token in grammar) {\n\t\t\tif (!grammar.hasOwnProperty(token) || !grammar[token]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar patterns = grammar[token];\n\t\t\tpatterns = Array.isArray(patterns) ? patterns : [patterns];\n\n\t\t\tfor (var j = 0; j < patterns.length; ++j) {\n\t\t\t\tif (rematch && rematch.cause == token + ',' + j) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar patternObj = patterns[j];\n\t\t\t\tvar inside = patternObj.inside;\n\t\t\t\tvar lookbehind = !!patternObj.lookbehind;\n\t\t\t\tvar greedy = !!patternObj.greedy;\n\t\t\t\tvar alias = patternObj.alias;\n\n\t\t\t\tif (greedy && !patternObj.pattern.global) {\n\t\t\t\t\t// Without the global flag, lastIndex won't work\n\t\t\t\t\tvar flags = patternObj.pattern.toString().match(/[imsuy]*$/)[0];\n\t\t\t\t\tpatternObj.pattern = RegExp(patternObj.pattern.source, flags + 'g');\n\t\t\t\t}\n\n\t\t\t\t/** @type {RegExp} */\n\t\t\t\tvar pattern = patternObj.pattern || patternObj;\n\n\t\t\t\tfor ( // iterate the token list and keep track of the current token/string position\n\t\t\t\t\tvar currentNode = startNode.next, pos = startPos;\n\t\t\t\t\tcurrentNode !== tokenList.tail;\n\t\t\t\t\tpos += currentNode.value.length, currentNode = currentNode.next\n\t\t\t\t) {\n\n\t\t\t\t\tif (rematch && pos >= rematch.reach) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar str = currentNode.value;\n\n\t\t\t\t\tif (tokenList.length > text.length) {\n\t\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (str instanceof Token) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeCount = 1; // this is the to parameter of removeBetween\n\t\t\t\t\tvar match;\n\n\t\t\t\t\tif (greedy) {\n\t\t\t\t\t\tmatch = matchPattern(pattern, pos, text, lookbehind);\n\t\t\t\t\t\tif (!match || match.index >= text.length) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar from = match.index;\n\t\t\t\t\t\tvar to = match.index + match[0].length;\n\t\t\t\t\t\tvar p = pos;\n\n\t\t\t\t\t\t// find the node that contains the match\n\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\twhile (from >= p) {\n\t\t\t\t\t\t\tcurrentNode = currentNode.next;\n\t\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// adjust pos (and p)\n\t\t\t\t\t\tp -= currentNode.value.length;\n\t\t\t\t\t\tpos = p;\n\n\t\t\t\t\t\t// the current node is a Token, then the match starts inside another Token, which is invalid\n\t\t\t\t\t\tif (currentNode.value instanceof Token) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// find the last node which is affected by this match\n\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\tvar k = currentNode;\n\t\t\t\t\t\t\tk !== tokenList.tail && (p < to || typeof k.value === 'string');\n\t\t\t\t\t\t\tk = k.next\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tremoveCount++;\n\t\t\t\t\t\t\tp += k.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tremoveCount--;\n\n\t\t\t\t\t\t// replace with the new match\n\t\t\t\t\t\tstr = text.slice(pos, p);\n\t\t\t\t\t\tmatch.index -= pos;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmatch = matchPattern(pattern, 0, str, lookbehind);\n\t\t\t\t\t\tif (!match) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// eslint-disable-next-line no-redeclare\n\t\t\t\t\tvar from = match.index;\n\t\t\t\t\tvar matchStr = match[0];\n\t\t\t\t\tvar before = str.slice(0, from);\n\t\t\t\t\tvar after = str.slice(from + matchStr.length);\n\n\t\t\t\t\tvar reach = pos + str.length;\n\t\t\t\t\tif (rematch && reach > rematch.reach) {\n\t\t\t\t\t\trematch.reach = reach;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeFrom = currentNode.prev;\n\n\t\t\t\t\tif (before) {\n\t\t\t\t\t\tremoveFrom = addAfter(tokenList, removeFrom, before);\n\t\t\t\t\t\tpos += before.length;\n\t\t\t\t\t}\n\n\t\t\t\t\tremoveRange(tokenList, removeFrom, removeCount);\n\n\t\t\t\t\tvar wrapped = new Token(token, inside ? _.tokenize(matchStr, inside) : matchStr, alias, matchStr);\n\t\t\t\t\tcurrentNode = addAfter(tokenList, removeFrom, wrapped);\n\n\t\t\t\t\tif (after) {\n\t\t\t\t\t\taddAfter(tokenList, currentNode, after);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (removeCount > 1) {\n\t\t\t\t\t\t// at least one Token object was removed, so we have to do some rematching\n\t\t\t\t\t\t// this can only happen if the current pattern is greedy\n\n\t\t\t\t\t\t/** @type {RematchOptions} */\n\t\t\t\t\t\tvar nestedRematch = {\n\t\t\t\t\t\t\tcause: token + ',' + j,\n\t\t\t\t\t\t\treach: reach\n\t\t\t\t\t\t};\n\t\t\t\t\t\tmatchGrammar(text, tokenList, grammar, currentNode.prev, pos, nestedRematch);\n\n\t\t\t\t\t\t// the reach might have been extended because of the rematching\n\t\t\t\t\t\tif (rematch && nestedRematch.reach > rematch.reach) {\n\t\t\t\t\t\t\trematch.reach = nestedRematch.reach;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @typedef LinkedListNode\n\t * @property {T} value\n\t * @property {LinkedListNode<T> | null} prev The previous node.\n\t * @property {LinkedListNode<T> | null} next The next node.\n\t * @template T\n\t * @private\n\t */\n\n\t/**\n\t * @template T\n\t * @private\n\t */\n\tfunction LinkedList() {\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar head = { value: null, prev: null, next: null };\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar tail = { value: null, prev: head, next: null };\n\t\thead.next = tail;\n\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.head = head;\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.tail = tail;\n\t\tthis.length = 0;\n\t}\n\n\t/**\n\t * Adds a new node with the given value to the list.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {T} value\n\t * @returns {LinkedListNode<T>} The added node.\n\t * @template T\n\t */\n\tfunction addAfter(list, node, value) {\n\t\t// assumes that node != list.tail && values.length >= 0\n\t\tvar next = node.next;\n\n\t\tvar newNode = { value: value, prev: node, next: next };\n\t\tnode.next = newNode;\n\t\tnext.prev = newNode;\n\t\tlist.length++;\n\n\t\treturn newNode;\n\t}\n\t/**\n\t * Removes `count` nodes after the given node. The given node will not be removed.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {number} count\n\t * @template T\n\t */\n\tfunction removeRange(list, node, count) {\n\t\tvar next = node.next;\n\t\tfor (var i = 0; i < count && next !== list.tail; i++) {\n\t\t\tnext = next.next;\n\t\t}\n\t\tnode.next = next;\n\t\tnext.prev = node;\n\t\tlist.length -= i;\n\t}\n\t/**\n\t * @param {LinkedList<T>} list\n\t * @returns {T[]}\n\t * @template T\n\t */\n\tfunction toArray(list) {\n\t\tvar array = [];\n\t\tvar node = list.head.next;\n\t\twhile (node !== list.tail) {\n\t\t\tarray.push(node.value);\n\t\t\tnode = node.next;\n\t\t}\n\t\treturn array;\n\t}\n\n\n\tif (!_self.document) {\n\t\tif (!_self.addEventListener) {\n\t\t\t// in Node.js\n\t\t\treturn _;\n\t\t}\n\n\t\tif (!_.disableWorkerMessageHandler) {\n\t\t\t// In worker\n\t\t\t_self.addEventListener('message', function (evt) {\n\t\t\t\tvar message = JSON.parse(evt.data);\n\t\t\t\tvar lang = message.language;\n\t\t\t\tvar code = message.code;\n\t\t\t\tvar immediateClose = message.immediateClose;\n\n\t\t\t\t_self.postMessage(_.highlight(code, _.languages[lang], lang));\n\t\t\t\tif (immediateClose) {\n\t\t\t\t\t_self.close();\n\t\t\t\t}\n\t\t\t}, false);\n\t\t}\n\n\t\treturn _;\n\t}\n\n\t// Get current script and highlight\n\tvar script = _.util.currentScript();\n\n\tif (script) {\n\t\t_.filename = script.src;\n\n\t\tif (script.hasAttribute('data-manual')) {\n\t\t\t_.manual = true;\n\t\t}\n\t}\n\n\tfunction highlightAutomaticallyCallback() {\n\t\tif (!_.manual) {\n\t\t\t_.highlightAll();\n\t\t}\n\t}\n\n\tif (!_.manual) {\n\t\t// If the document state is \"loading\", then we'll use DOMContentLoaded.\n\t\t// If the document state is \"interactive\" and the prism.js script is deferred, then we'll also use the\n\t\t// DOMContentLoaded event because there might be some plugins or languages which have also been deferred and they\n\t\t// might take longer one animation frame to execute which can create a race condition where only some plugins have\n\t\t// been loaded when Prism.highlightAll() is executed, depending on how fast resources are loaded.\n\t\t// See https://github.com/PrismJS/prism/issues/2102\n\t\tvar readyState = document.readyState;\n\t\tif (readyState === 'loading' || readyState === 'interactive' && script && script.defer) {\n\t\t\tdocument.addEventListener('DOMContentLoaded', highlightAutomaticallyCallback);\n\t\t} else {\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\twindow.requestAnimationFrame(highlightAutomaticallyCallback);\n\t\t\t} else {\n\t\t\t\twindow.setTimeout(highlightAutomaticallyCallback, 16);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn _;\n\n}(_self));\n\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = Prism;\n}\n\n// hack for components to work correctly in node.js\nif (typeof global !== 'undefined') {\n\tglobal.Prism = Prism;\n}\n\n// some additional documentation/types\n\n/**\n * The expansion of a simple `RegExp` literal to support additional properties.\n *\n * @typedef GrammarToken\n * @property {RegExp} pattern The regular expression of the token.\n * @property {boolean} [lookbehind=false] If `true`, then the first capturing group of `pattern` will (effectively)\n * behave as a lookbehind group meaning that the captured text will not be part of the matched text of the new token.\n * @property {boolean} [greedy=false] Whether the token is greedy.\n * @property {string|string[]} [alias] An optional alias or list of aliases.\n * @property {Grammar} [inside] The nested grammar of this token.\n *\n * The `inside` grammar will be used to tokenize the text value of each token of this kind.\n *\n * This can be used to make nested and even recursive language definitions.\n *\n * Note: This can cause infinite recursion. Be careful when you embed different languages or even the same language into\n * each another.\n * @global\n * @public\n */\n\n/**\n * @typedef Grammar\n * @type {Object<string, RegExp | GrammarToken | Array<RegExp | GrammarToken>>}\n * @property {Grammar} [rest] An optional grammar object that will be appended to this grammar.\n * @global\n * @public\n */\n\n/**\n * A function which will invoked after an element was successfully highlighted.\n *\n * @callback HighlightCallback\n * @param {Element} element The element successfully highlighted.\n * @returns {void}\n * @global\n * @public\n */\n\n/**\n * @callback HookCallback\n * @param {Object<string, any>} env The environment variables of the hook.\n * @returns {void}\n * @global\n * @public\n */\n\n\n/* **********************************************\n     Begin prism-markup.js\n********************************************** */\n\nPrism.languages.markup = {\n\t'comment': {\n\t\tpattern: /<!--(?:(?!<!--)[\\s\\S])*?-->/,\n\t\tgreedy: true\n\t},\n\t'prolog': {\n\t\tpattern: /<\\?[\\s\\S]+?\\?>/,\n\t\tgreedy: true\n\t},\n\t'doctype': {\n\t\t// https://www.w3.org/TR/xml/#NT-doctypedecl\n\t\tpattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'internal-subset': {\n\t\t\t\tpattern: /(^[^\\[]*\\[)[\\s\\S]+(?=\\]>$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: null // see below\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\tpattern: /\"[^\"]*\"|'[^']*'/,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t'punctuation': /^<!|>$|[[\\]]/,\n\t\t\t'doctype-tag': /^DOCTYPE/i,\n\t\t\t'name': /[^\\s<>'\"]+/\n\t\t}\n\t},\n\t'cdata': {\n\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\tgreedy: true\n\t},\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'special-attr': [],\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^(\\s*)[\"']|[\"']$/,\n\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': [\n\t\t{\n\t\t\tpattern: /&[\\da-z]{1,8};/i,\n\t\t\talias: 'named-entity'\n\t\t},\n\t\t/&#x?[\\da-f]{1,8};/i\n\t]\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\nPrism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup;\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function (env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n\t/**\n\t * Adds an inlined language to markup.\n\t *\n\t * An example of an inlined language is CSS with `<style>` tags.\n\t *\n\t * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addInlined('style', 'css');\n\t */\n\tvalue: function addInlined(tagName, lang) {\n\t\tvar includedCdataInside = {};\n\t\tincludedCdataInside['language-' + lang] = {\n\t\t\tpattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\t\tincludedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n\n\t\tvar inside = {\n\t\t\t'included-cdata': {\n\t\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\t\tinside: includedCdataInside\n\t\t\t}\n\t\t};\n\t\tinside['language-' + lang] = {\n\t\t\tpattern: /[\\s\\S]+/,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\n\t\tvar def = {};\n\t\tdef[tagName] = {\n\t\t\tpattern: RegExp(/(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () { return tagName; }), 'i'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: inside\n\t\t};\n\n\t\tPrism.languages.insertBefore('markup', 'cdata', def);\n\t}\n});\nObject.defineProperty(Prism.languages.markup.tag, 'addAttribute', {\n\t/**\n\t * Adds an pattern to highlight languages embedded in HTML attributes.\n\t *\n\t * An example of an inlined language is CSS with `style` attributes.\n\t *\n\t * @param {string} attrName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addAttribute('style', 'css');\n\t */\n\tvalue: function (attrName, lang) {\n\t\tPrism.languages.markup.tag.inside['special-attr'].push({\n\t\t\tpattern: RegExp(\n\t\t\t\t/(^|[\"'\\s])/.source + '(?:' + attrName + ')' + /\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))/.source,\n\t\t\t\t'i'\n\t\t\t),\n\t\t\tlookbehind: true,\n\t\t\tinside: {\n\t\t\t\t'attr-name': /^[^\\s=]+/,\n\t\t\t\t'attr-value': {\n\t\t\t\t\tpattern: /=[\\s\\S]+/,\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'value': {\n\t\t\t\t\t\t\tpattern: /(^=\\s*([\"']|(?![\"'])))\\S[\\s\\S]*(?=\\2$)/,\n\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\talias: [lang, 'language-' + lang],\n\t\t\t\t\t\t\tinside: Prism.languages[lang]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/\"|'/\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n});\n\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.ssml = Prism.languages.xml;\nPrism.languages.atom = Prism.languages.xml;\nPrism.languages.rss = Prism.languages.xml;\n\n\n/* **********************************************\n     Begin prism-css.js\n********************************************** */\n\n(function (Prism) {\n\n\tvar string = /(?:\"(?:\\\\(?:\\r\\n|[\\s\\S])|[^\"\\\\\\r\\n])*\"|'(?:\\\\(?:\\r\\n|[\\s\\S])|[^'\\\\\\r\\n])*')/;\n\n\tPrism.languages.css = {\n\t\t'comment': /\\/\\*[\\s\\S]*?\\*\\//,\n\t\t'atrule': {\n\t\t\tpattern: RegExp('@[\\\\w-](?:' + /[^;{\\s\"']|\\s+(?!\\s)/.source + '|' + string.source + ')*?' + /(?:;|(?=\\s*\\{))/.source),\n\t\t\tinside: {\n\t\t\t\t'rule': /^@[\\w-]+/,\n\t\t\t\t'selector-function-argument': {\n\t\t\t\t\tpattern: /(\\bselector\\s*\\(\\s*(?![\\s)]))(?:[^()\\s]|\\s+(?![\\s)])|\\((?:[^()]|\\([^()]*\\))*\\))+(?=\\s*\\))/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'selector'\n\t\t\t\t},\n\t\t\t\t'keyword': {\n\t\t\t\t\tpattern: /(^|[^\\w-])(?:and|not|only|or)(?![\\w-])/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t}\n\t\t\t\t// See rest below\n\t\t\t}\n\t\t},\n\t\t'url': {\n\t\t\t// https://drafts.csswg.org/css-values-3/#urls\n\t\t\tpattern: RegExp('\\\\burl\\\\((?:' + string.source + '|' + /(?:[^\\\\\\r\\n()\"']|\\\\[\\s\\S])*/.source + ')\\\\)', 'i'),\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'function': /^url/i,\n\t\t\t\t'punctuation': /^\\(|\\)$/,\n\t\t\t\t'string': {\n\t\t\t\t\tpattern: RegExp('^' + string.source + '$'),\n\t\t\t\t\talias: 'url'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'selector': {\n\t\t\tpattern: RegExp('(^|[{}\\\\s])[^{}\\\\s](?:[^{};\"\\'\\\\s]|\\\\s+(?![\\\\s{])|' + string.source + ')*(?=\\\\s*\\\\{)'),\n\t\t\tlookbehind: true\n\t\t},\n\t\t'string': {\n\t\t\tpattern: string,\n\t\t\tgreedy: true\n\t\t},\n\t\t'property': {\n\t\t\tpattern: /(^|[^-\\w\\xA0-\\uFFFF])(?!\\s)[-_a-z\\xA0-\\uFFFF](?:(?!\\s)[-\\w\\xA0-\\uFFFF])*(?=\\s*:)/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'important': /!important\\b/i,\n\t\t'function': {\n\t\t\tpattern: /(^|[^-a-z0-9])[-a-z0-9]+(?=\\()/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'punctuation': /[(){};:,]/\n\t};\n\n\tPrism.languages.css['atrule'].inside.rest = Prism.languages.css;\n\n\tvar markup = Prism.languages.markup;\n\tif (markup) {\n\t\tmarkup.tag.addInlined('style', 'css');\n\t\tmarkup.tag.addAttribute('style', 'css');\n\t}\n\n}(Prism));\n\n\n/* **********************************************\n     Begin prism-clike.js\n********************************************** */\n\nPrism.languages.clike = {\n\t'comment': [\n\t\t{\n\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t}\n\t],\n\t'string': {\n\t\tpattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\b(?:class|extends|implements|instanceof|interface|new|trait)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'punctuation': /[.\\\\]/\n\t\t}\n\t},\n\t'keyword': /\\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\\b/,\n\t'boolean': /\\b(?:false|true)\\b/,\n\t'function': /\\b\\w+(?=\\()/,\n\t'number': /\\b0x[\\da-f]+\\b|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n\t'operator': /[<>]=?|[!=]=?=?|--?|\\+\\+?|&&?|\\|\\|?|[?*/~^%]/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\n\n/* **********************************************\n     Begin prism-javascript.js\n********************************************** */\n\nPrism.languages.javascript = Prism.languages.extend('clike', {\n\t'class-name': [\n\t\tPrism.languages.clike['class-name'],\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$A-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\.(?:constructor|prototype))/,\n\t\t\tlookbehind: true\n\t\t}\n\t],\n\t'keyword': [\n\t\t{\n\t\t\tpattern: /((?:^|\\})\\s*)catch\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|assert(?=\\s*\\{)|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\\s*(?:\\{|$))|for|from(?=\\s*(?:['\"]|$))|function|(?:get|set)(?=\\s*(?:[#\\[$\\w\\xA0-\\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t],\n\t// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n\t'function': /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n\t'number': {\n\t\tpattern: RegExp(\n\t\t\t/(^|[^\\w$])/.source +\n\t\t\t'(?:' +\n\t\t\t(\n\t\t\t\t// constant\n\t\t\t\t/NaN|Infinity/.source +\n\t\t\t\t'|' +\n\t\t\t\t// binary integer\n\t\t\t\t/0[bB][01]+(?:_[01]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// octal integer\n\t\t\t\t/0[oO][0-7]+(?:_[0-7]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// hexadecimal integer\n\t\t\t\t/0[xX][\\dA-Fa-f]+(?:_[\\dA-Fa-f]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal bigint\n\t\t\t\t/\\d+(?:_\\d+)*n/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal number (integer or float) but no bigint\n\t\t\t\t/(?:\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\.\\d+(?:_\\d+)*)(?:[Ee][+-]?\\d+(?:_\\d+)*)?/.source\n\t\t\t) +\n\t\t\t')' +\n\t\t\t/(?![\\w$])/.source\n\t\t),\n\t\tlookbehind: true\n\t},\n\t'operator': /--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/\n});\n\nPrism.languages.javascript['class-name'][0].pattern = /(\\b(?:class|extends|implements|instanceof|interface|new)\\s+)[\\w.\\\\]+/;\n\nPrism.languages.insertBefore('javascript', 'keyword', {\n\t'regex': {\n\t\tpattern: RegExp(\n\t\t\t// lookbehind\n\t\t\t// eslint-disable-next-line regexp/no-dupe-characters-character-class\n\t\t\t/((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)/.source +\n\t\t\t// Regex pattern:\n\t\t\t// There are 2 regex patterns here. The RegExp set notation proposal added support for nested character\n\t\t\t// classes if the `v` flag is present. Unfortunately, nested CCs are both context-free and incompatible\n\t\t\t// with the only syntax, so we have to define 2 different regex patterns.\n\t\t\t/\\//.source +\n\t\t\t'(?:' +\n\t\t\t/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}/.source +\n\t\t\t'|' +\n\t\t\t// `v` flag syntax. This supports 3 levels of nested character classes.\n\t\t\t/(?:\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.)*\\])*\\])*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source +\n\t\t\t')' +\n\t\t\t// lookahead\n\t\t\t/(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/.source\n\t\t),\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'regex-source': {\n\t\t\t\tpattern: /^(\\/)[\\s\\S]+(?=\\/[a-z]*$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'language-regex',\n\t\t\t\tinside: Prism.languages.regex\n\t\t\t},\n\t\t\t'regex-delimiter': /^\\/|\\/$/,\n\t\t\t'regex-flags': /^[a-z]+$/,\n\t\t}\n\t},\n\t// This must be declared before keyword because we use \"function\" inside the look-forward\n\t'function-variable': {\n\t\tpattern: /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)\\s*=>))/,\n\t\talias: 'function'\n\t},\n\t'parameter': [\n\t\t{\n\t\t\tpattern: /(function(?:\\s+(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)?\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\))/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$a-z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*=>)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*=>)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*\\{)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t}\n\t],\n\t'constant': /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n});\n\nPrism.languages.insertBefore('javascript', 'string', {\n\t'hashbang': {\n\t\tpattern: /^#!.*/,\n\t\tgreedy: true,\n\t\talias: 'comment'\n\t},\n\t'template-string': {\n\t\tpattern: /`(?:\\\\[\\s\\S]|\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}|(?!\\$\\{)[^\\\\`])*`/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'template-punctuation': {\n\t\t\t\tpattern: /^`|`$/,\n\t\t\t\talias: 'string'\n\t\t\t},\n\t\t\t'interpolation': {\n\t\t\t\tpattern: /((?:^|[^\\\\])(?:\\\\{2})*)\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation-punctuation': {\n\t\t\t\t\t\tpattern: /^\\$\\{|\\}$/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: Prism.languages.javascript\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t},\n\t'string-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\2)[^\\\\\\r\\n])*\\2(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\talias: 'property'\n\t}\n});\n\nPrism.languages.insertBefore('javascript', 'operator', {\n\t'literal-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\talias: 'property'\n\t},\n});\n\nif (Prism.languages.markup) {\n\tPrism.languages.markup.tag.addInlined('script', 'javascript');\n\n\t// add attribute support for all DOM events.\n\t// https://developer.mozilla.org/en-US/docs/Web/Events#Standard_events\n\tPrism.languages.markup.tag.addAttribute(\n\t\t/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,\n\t\t'javascript'\n\t);\n}\n\nPrism.languages.js = Prism.languages.javascript;\n\n\n/* **********************************************\n     Begin prism-file-highlight.js\n********************************************** */\n\n(function () {\n\n\tif (typeof Prism === 'undefined' || typeof document === 'undefined') {\n\t\treturn;\n\t}\n\n\t// https://developer.mozilla.org/en-US/docs/Web/API/Element/matches#Polyfill\n\tif (!Element.prototype.matches) {\n\t\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\t}\n\n\tvar LOADING_MESSAGE = 'Loading';\n\tvar FAILURE_MESSAGE = function (status, message) {\n\t\treturn ' Error ' + status + ' while fetching file: ' + message;\n\t};\n\tvar FAILURE_EMPTY_MESSAGE = ' Error: File does not exist or is empty';\n\n\tvar EXTENSIONS = {\n\t\t'js': 'javascript',\n\t\t'py': 'python',\n\t\t'rb': 'ruby',\n\t\t'ps1': 'powershell',\n\t\t'psm1': 'powershell',\n\t\t'sh': 'bash',\n\t\t'bat': 'batch',\n\t\t'h': 'c',\n\t\t'tex': 'latex'\n\t};\n\n\tvar STATUS_ATTR = 'data-src-status';\n\tvar STATUS_LOADING = 'loading';\n\tvar STATUS_LOADED = 'loaded';\n\tvar STATUS_FAILED = 'failed';\n\n\tvar SELECTOR = 'pre[data-src]:not([' + STATUS_ATTR + '=\"' + STATUS_LOADED + '\"])'\n\t\t+ ':not([' + STATUS_ATTR + '=\"' + STATUS_LOADING + '\"])';\n\n\t/**\n\t * Loads the given file.\n\t *\n\t * @param {string} src The URL or path of the source file to load.\n\t * @param {(result: string) => void} success\n\t * @param {(reason: string) => void} error\n\t */\n\tfunction loadFile(src, success, error) {\n\t\tvar xhr = new XMLHttpRequest();\n\t\txhr.open('GET', src, true);\n\t\txhr.onreadystatechange = function () {\n\t\t\tif (xhr.readyState == 4) {\n\t\t\t\tif (xhr.status < 400 && xhr.responseText) {\n\t\t\t\t\tsuccess(xhr.responseText);\n\t\t\t\t} else {\n\t\t\t\t\tif (xhr.status >= 400) {\n\t\t\t\t\t\terror(FAILURE_MESSAGE(xhr.status, xhr.statusText));\n\t\t\t\t\t} else {\n\t\t\t\t\t\terror(FAILURE_EMPTY_MESSAGE);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\txhr.send(null);\n\t}\n\n\t/**\n\t * Parses the given range.\n\t *\n\t * This returns a range with inclusive ends.\n\t *\n\t * @param {string | null | undefined} range\n\t * @returns {[number, number | undefined] | undefined}\n\t */\n\tfunction parseRange(range) {\n\t\tvar m = /^\\s*(\\d+)\\s*(?:(,)\\s*(?:(\\d+)\\s*)?)?$/.exec(range || '');\n\t\tif (m) {\n\t\t\tvar start = Number(m[1]);\n\t\t\tvar comma = m[2];\n\t\t\tvar end = m[3];\n\n\t\t\tif (!comma) {\n\t\t\t\treturn [start, start];\n\t\t\t}\n\t\t\tif (!end) {\n\t\t\t\treturn [start, undefined];\n\t\t\t}\n\t\t\treturn [start, Number(end)];\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tPrism.hooks.add('before-highlightall', function (env) {\n\t\tenv.selector += ', ' + SELECTOR;\n\t});\n\n\tPrism.hooks.add('before-sanity-check', function (env) {\n\t\tvar pre = /** @type {HTMLPreElement} */ (env.element);\n\t\tif (pre.matches(SELECTOR)) {\n\t\t\tenv.code = ''; // fast-path the whole thing and go to complete\n\n\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADING); // mark as loading\n\n\t\t\t// add code element with loading message\n\t\t\tvar code = pre.appendChild(document.createElement('CODE'));\n\t\t\tcode.textContent = LOADING_MESSAGE;\n\n\t\t\tvar src = pre.getAttribute('data-src');\n\n\t\t\tvar language = env.language;\n\t\t\tif (language === 'none') {\n\t\t\t\t// the language might be 'none' because there is no language set;\n\t\t\t\t// in this case, we want to use the extension as the language\n\t\t\t\tvar extension = (/\\.(\\w+)$/.exec(src) || [, 'none'])[1];\n\t\t\t\tlanguage = EXTENSIONS[extension] || extension;\n\t\t\t}\n\n\t\t\t// set language classes\n\t\t\tPrism.util.setLanguage(code, language);\n\t\t\tPrism.util.setLanguage(pre, language);\n\n\t\t\t// preload the language\n\t\t\tvar autoloader = Prism.plugins.autoloader;\n\t\t\tif (autoloader) {\n\t\t\t\tautoloader.loadLanguages(language);\n\t\t\t}\n\n\t\t\t// load file\n\t\t\tloadFile(\n\t\t\t\tsrc,\n\t\t\t\tfunction (text) {\n\t\t\t\t\t// mark as loaded\n\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADED);\n\n\t\t\t\t\t// handle data-range\n\t\t\t\t\tvar range = parseRange(pre.getAttribute('data-range'));\n\t\t\t\t\tif (range) {\n\t\t\t\t\t\tvar lines = text.split(/\\r\\n?|\\n/g);\n\n\t\t\t\t\t\t// the range is one-based and inclusive on both ends\n\t\t\t\t\t\tvar start = range[0];\n\t\t\t\t\t\tvar end = range[1] == null ? lines.length : range[1];\n\n\t\t\t\t\t\tif (start < 0) { start += lines.length; }\n\t\t\t\t\t\tstart = Math.max(0, Math.min(start - 1, lines.length));\n\t\t\t\t\t\tif (end < 0) { end += lines.length; }\n\t\t\t\t\t\tend = Math.max(0, Math.min(end, lines.length));\n\n\t\t\t\t\t\ttext = lines.slice(start, end).join('\\n');\n\n\t\t\t\t\t\t// add data-start for line numbers\n\t\t\t\t\t\tif (!pre.hasAttribute('data-start')) {\n\t\t\t\t\t\t\tpre.setAttribute('data-start', String(start + 1));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// highlight code\n\t\t\t\t\tcode.textContent = text;\n\t\t\t\t\tPrism.highlightElement(code);\n\t\t\t\t},\n\t\t\t\tfunction (error) {\n\t\t\t\t\t// mark as failed\n\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_FAILED);\n\n\t\t\t\t\tcode.textContent = error;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t});\n\n\tPrism.plugins.fileHighlight = {\n\t\t/**\n\t\t * Executes the File Highlight plugin for all matching `pre` elements under the given container.\n\t\t *\n\t\t * Note: Elements which are already loaded or currently loading will not be touched by this method.\n\t\t *\n\t\t * @param {ParentNode} [container=document]\n\t\t */\n\t\thighlight: function highlight(container) {\n\t\t\tvar elements = (container || document).querySelectorAll(SELECTOR);\n\n\t\t\tfor (var i = 0, element; (element = elements[i++]);) {\n\t\t\t\tPrism.highlightElement(element);\n\t\t\t}\n\t\t}\n\t};\n\n\tvar logged = false;\n\t/** @deprecated Use `Prism.plugins.fileHighlight.highlight` instead. */\n\tPrism.fileHighlight = function () {\n\t\tif (!logged) {\n\t\t\tconsole.warn('Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead.');\n\t\t\tlogged = true;\n\t\t}\n\t\tPrism.plugins.fileHighlight.highlight.apply(this, arguments);\n\t};\n\n}());\n","/**\n * @license React\n * react.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n  MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar ReactNoopUpdateQueue = {\n    isMounted: function () {\n      return !1;\n    },\n    enqueueForceUpdate: function () {},\n    enqueueReplaceState: function () {},\n    enqueueSetState: function () {}\n  },\n  assign = Object.assign,\n  emptyObject = {};\nfunction Component(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nComponent.prototype.isReactComponent = {};\nComponent.prototype.setState = function (partialState, callback) {\n  if (\n    \"object\" !== typeof partialState &&\n    \"function\" !== typeof partialState &&\n    null != partialState\n  )\n    throw Error(\n      \"takes an object of state variables to update or a function which returns an object of state variables.\"\n    );\n  this.updater.enqueueSetState(this, partialState, callback, \"setState\");\n};\nComponent.prototype.forceUpdate = function (callback) {\n  this.updater.enqueueForceUpdate(this, callback, \"forceUpdate\");\n};\nfunction ComponentDummy() {}\nComponentDummy.prototype = Component.prototype;\nfunction PureComponent(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nvar pureComponentPrototype = (PureComponent.prototype = new ComponentDummy());\npureComponentPrototype.constructor = PureComponent;\nassign(pureComponentPrototype, Component.prototype);\npureComponentPrototype.isPureReactComponent = !0;\nvar isArrayImpl = Array.isArray,\n  ReactSharedInternals = { H: null, A: null, T: null, S: null },\n  hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction ReactElement(type, key, self, source, owner, props) {\n  self = props.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== self ? self : null,\n    props: props\n  };\n}\nfunction cloneAndReplaceKey(oldElement, newKey) {\n  return ReactElement(\n    oldElement.type,\n    newKey,\n    void 0,\n    void 0,\n    void 0,\n    oldElement.props\n  );\n}\nfunction isValidElement(object) {\n  return (\n    \"object\" === typeof object &&\n    null !== object &&\n    object.$$typeof === REACT_ELEMENT_TYPE\n  );\n}\nfunction escape(key) {\n  var escaperLookup = { \"=\": \"=0\", \":\": \"=2\" };\n  return (\n    \"$\" +\n    key.replace(/[=:]/g, function (match) {\n      return escaperLookup[match];\n    })\n  );\n}\nvar userProvidedKeyEscapeRegex = /\\/+/g;\nfunction getElementKey(element, index) {\n  return \"object\" === typeof element && null !== element && null != element.key\n    ? escape(\"\" + element.key)\n    : index.toString(36);\n}\nfunction noop$1() {}\nfunction resolveThenable(thenable) {\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      throw thenable.reason;\n    default:\n      switch (\n        (\"string\" === typeof thenable.status\n          ? thenable.then(noop$1, noop$1)\n          : ((thenable.status = \"pending\"),\n            thenable.then(\n              function (fulfilledValue) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"fulfilled\"),\n                  (thenable.value = fulfilledValue));\n              },\n              function (error) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"rejected\"), (thenable.reason = error));\n              }\n            )),\n        thenable.status)\n      ) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          throw thenable.reason;\n      }\n  }\n  throw thenable;\n}\nfunction mapIntoArray(children, array, escapedPrefix, nameSoFar, callback) {\n  var type = typeof children;\n  if (\"undefined\" === type || \"boolean\" === type) children = null;\n  var invokeCallback = !1;\n  if (null === children) invokeCallback = !0;\n  else\n    switch (type) {\n      case \"bigint\":\n      case \"string\":\n      case \"number\":\n        invokeCallback = !0;\n        break;\n      case \"object\":\n        switch (children.$$typeof) {\n          case REACT_ELEMENT_TYPE:\n          case REACT_PORTAL_TYPE:\n            invokeCallback = !0;\n            break;\n          case REACT_LAZY_TYPE:\n            return (\n              (invokeCallback = children._init),\n              mapIntoArray(\n                invokeCallback(children._payload),\n                array,\n                escapedPrefix,\n                nameSoFar,\n                callback\n              )\n            );\n        }\n    }\n  if (invokeCallback)\n    return (\n      (callback = callback(children)),\n      (invokeCallback =\n        \"\" === nameSoFar ? \".\" + getElementKey(children, 0) : nameSoFar),\n      isArrayImpl(callback)\n        ? ((escapedPrefix = \"\"),\n          null != invokeCallback &&\n            (escapedPrefix =\n              invokeCallback.replace(userProvidedKeyEscapeRegex, \"$&/\") + \"/\"),\n          mapIntoArray(callback, array, escapedPrefix, \"\", function (c) {\n            return c;\n          }))\n        : null != callback &&\n          (isValidElement(callback) &&\n            (callback = cloneAndReplaceKey(\n              callback,\n              escapedPrefix +\n                (null == callback.key ||\n                (children && children.key === callback.key)\n                  ? \"\"\n                  : (\"\" + callback.key).replace(\n                      userProvidedKeyEscapeRegex,\n                      \"$&/\"\n                    ) + \"/\") +\n                invokeCallback\n            )),\n          array.push(callback)),\n      1\n    );\n  invokeCallback = 0;\n  var nextNamePrefix = \"\" === nameSoFar ? \".\" : nameSoFar + \":\";\n  if (isArrayImpl(children))\n    for (var i = 0; i < children.length; i++)\n      (nameSoFar = children[i]),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (((i = getIteratorFn(children)), \"function\" === typeof i))\n    for (\n      children = i.call(children), i = 0;\n      !(nameSoFar = children.next()).done;\n\n    )\n      (nameSoFar = nameSoFar.value),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i++)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (\"object\" === type) {\n    if (\"function\" === typeof children.then)\n      return mapIntoArray(\n        resolveThenable(children),\n        array,\n        escapedPrefix,\n        nameSoFar,\n        callback\n      );\n    array = String(children);\n    throw Error(\n      \"Objects are not valid as a React child (found: \" +\n        (\"[object Object]\" === array\n          ? \"object with keys {\" + Object.keys(children).join(\", \") + \"}\"\n          : array) +\n        \"). If you meant to render a collection of children, use an array instead.\"\n    );\n  }\n  return invokeCallback;\n}\nfunction mapChildren(children, func, context) {\n  if (null == children) return children;\n  var result = [],\n    count = 0;\n  mapIntoArray(children, result, \"\", \"\", function (child) {\n    return func.call(context, child, count++);\n  });\n  return result;\n}\nfunction lazyInitializer(payload) {\n  if (-1 === payload._status) {\n    var ctor = payload._result;\n    ctor = ctor();\n    ctor.then(\n      function (moduleObject) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 1), (payload._result = moduleObject);\n      },\n      function (error) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 2), (payload._result = error);\n      }\n    );\n    -1 === payload._status && ((payload._status = 0), (payload._result = ctor));\n  }\n  if (1 === payload._status) return payload._result.default;\n  throw payload._result;\n}\nvar reportGlobalError =\n  \"function\" === typeof reportError\n    ? reportError\n    : function (error) {\n        if (\n          \"object\" === typeof window &&\n          \"function\" === typeof window.ErrorEvent\n        ) {\n          var event = new window.ErrorEvent(\"error\", {\n            bubbles: !0,\n            cancelable: !0,\n            message:\n              \"object\" === typeof error &&\n              null !== error &&\n              \"string\" === typeof error.message\n                ? String(error.message)\n                : String(error),\n            error: error\n          });\n          if (!window.dispatchEvent(event)) return;\n        } else if (\n          \"object\" === typeof process &&\n          \"function\" === typeof process.emit\n        ) {\n          process.emit(\"uncaughtException\", error);\n          return;\n        }\n        console.error(error);\n      };\nfunction noop() {}\nexports.Children = {\n  map: mapChildren,\n  forEach: function (children, forEachFunc, forEachContext) {\n    mapChildren(\n      children,\n      function () {\n        forEachFunc.apply(this, arguments);\n      },\n      forEachContext\n    );\n  },\n  count: function (children) {\n    var n = 0;\n    mapChildren(children, function () {\n      n++;\n    });\n    return n;\n  },\n  toArray: function (children) {\n    return (\n      mapChildren(children, function (child) {\n        return child;\n      }) || []\n    );\n  },\n  only: function (children) {\n    if (!isValidElement(children))\n      throw Error(\n        \"React.Children.only expected to receive a single React element child.\"\n      );\n    return children;\n  }\n};\nexports.Component = Component;\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.Profiler = REACT_PROFILER_TYPE;\nexports.PureComponent = PureComponent;\nexports.StrictMode = REACT_STRICT_MODE_TYPE;\nexports.Suspense = REACT_SUSPENSE_TYPE;\nexports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  ReactSharedInternals;\nexports.act = function () {\n  throw Error(\"act(...) is not supported in production builds of React.\");\n};\nexports.cache = function (fn) {\n  return function () {\n    return fn.apply(null, arguments);\n  };\n};\nexports.cloneElement = function (element, config, children) {\n  if (null === element || void 0 === element)\n    throw Error(\n      \"The argument must be a React element, but you passed \" + element + \".\"\n    );\n  var props = assign({}, element.props),\n    key = element.key,\n    owner = void 0;\n  if (null != config)\n    for (propName in (void 0 !== config.ref && (owner = void 0),\n    void 0 !== config.key && (key = \"\" + config.key),\n    config))\n      !hasOwnProperty.call(config, propName) ||\n        \"key\" === propName ||\n        \"__self\" === propName ||\n        \"__source\" === propName ||\n        (\"ref\" === propName && void 0 === config.ref) ||\n        (props[propName] = config[propName]);\n  var propName = arguments.length - 2;\n  if (1 === propName) props.children = children;\n  else if (1 < propName) {\n    for (var childArray = Array(propName), i = 0; i < propName; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  return ReactElement(element.type, key, void 0, void 0, owner, props);\n};\nexports.createContext = function (defaultValue) {\n  defaultValue = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    _currentValue: defaultValue,\n    _currentValue2: defaultValue,\n    _threadCount: 0,\n    Provider: null,\n    Consumer: null\n  };\n  defaultValue.Provider = defaultValue;\n  defaultValue.Consumer = {\n    $$typeof: REACT_CONSUMER_TYPE,\n    _context: defaultValue\n  };\n  return defaultValue;\n};\nexports.createElement = function (type, config, children) {\n  var propName,\n    props = {},\n    key = null;\n  if (null != config)\n    for (propName in (void 0 !== config.key && (key = \"\" + config.key), config))\n      hasOwnProperty.call(config, propName) &&\n        \"key\" !== propName &&\n        \"__self\" !== propName &&\n        \"__source\" !== propName &&\n        (props[propName] = config[propName]);\n  var childrenLength = arguments.length - 2;\n  if (1 === childrenLength) props.children = children;\n  else if (1 < childrenLength) {\n    for (var childArray = Array(childrenLength), i = 0; i < childrenLength; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  if (type && type.defaultProps)\n    for (propName in ((childrenLength = type.defaultProps), childrenLength))\n      void 0 === props[propName] &&\n        (props[propName] = childrenLength[propName]);\n  return ReactElement(type, key, void 0, void 0, null, props);\n};\nexports.createRef = function () {\n  return { current: null };\n};\nexports.forwardRef = function (render) {\n  return { $$typeof: REACT_FORWARD_REF_TYPE, render: render };\n};\nexports.isValidElement = isValidElement;\nexports.lazy = function (ctor) {\n  return {\n    $$typeof: REACT_LAZY_TYPE,\n    _payload: { _status: -1, _result: ctor },\n    _init: lazyInitializer\n  };\n};\nexports.memo = function (type, compare) {\n  return {\n    $$typeof: REACT_MEMO_TYPE,\n    type: type,\n    compare: void 0 === compare ? null : compare\n  };\n};\nexports.startTransition = function (scope) {\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  ReactSharedInternals.T = currentTransition;\n  try {\n    var returnValue = scope(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    \"object\" === typeof returnValue &&\n      null !== returnValue &&\n      \"function\" === typeof returnValue.then &&\n      returnValue.then(noop, reportGlobalError);\n  } catch (error) {\n    reportGlobalError(error);\n  } finally {\n    ReactSharedInternals.T = prevTransition;\n  }\n};\nexports.unstable_useCacheRefresh = function () {\n  return ReactSharedInternals.H.useCacheRefresh();\n};\nexports.use = function (usable) {\n  return ReactSharedInternals.H.use(usable);\n};\nexports.useActionState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useActionState(action, initialState, permalink);\n};\nexports.useCallback = function (callback, deps) {\n  return ReactSharedInternals.H.useCallback(callback, deps);\n};\nexports.useContext = function (Context) {\n  return ReactSharedInternals.H.useContext(Context);\n};\nexports.useDebugValue = function () {};\nexports.useDeferredValue = function (value, initialValue) {\n  return ReactSharedInternals.H.useDeferredValue(value, initialValue);\n};\nexports.useEffect = function (create, deps) {\n  return ReactSharedInternals.H.useEffect(create, deps);\n};\nexports.useId = function () {\n  return ReactSharedInternals.H.useId();\n};\nexports.useImperativeHandle = function (ref, create, deps) {\n  return ReactSharedInternals.H.useImperativeHandle(ref, create, deps);\n};\nexports.useInsertionEffect = function (create, deps) {\n  return ReactSharedInternals.H.useInsertionEffect(create, deps);\n};\nexports.useLayoutEffect = function (create, deps) {\n  return ReactSharedInternals.H.useLayoutEffect(create, deps);\n};\nexports.useMemo = function (create, deps) {\n  return ReactSharedInternals.H.useMemo(create, deps);\n};\nexports.useOptimistic = function (passthrough, reducer) {\n  return ReactSharedInternals.H.useOptimistic(passthrough, reducer);\n};\nexports.useReducer = function (reducer, initialArg, init) {\n  return ReactSharedInternals.H.useReducer(reducer, initialArg, init);\n};\nexports.useRef = function (initialValue) {\n  return ReactSharedInternals.H.useRef(initialValue);\n};\nexports.useState = function (initialState) {\n  return ReactSharedInternals.H.useState(initialState);\n};\nexports.useSyncExternalStore = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot\n) {\n  return ReactSharedInternals.H.useSyncExternalStore(\n    subscribe,\n    getSnapshot,\n    getServerSnapshot\n  );\n};\nexports.useTransition = function () {\n  return ReactSharedInternals.H.useTransition();\n};\nexports.version = \"19.0.0\";\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","function _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nexport { _classCallCheck as default };","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nexport { _createClass as default };","/**\n * Defines all supported event types by Editable.JS and provides default\n * implementations for them defined in {{#crossLink \"Behavior\"}}{{/crossLink}}\n *\n * @type {Object}\n */\nexport default {\n  log: false,\n  logErrors: true,\n  editableClass: 'js-editable',\n  editableDisabledClass: 'js-editable-disabled',\n  pastingAttribute: 'data-editable-is-pasting',\n  trimLeadingAndTrailingWhitespaces: true,\n  boldMarkup: {\n    type: 'tag',\n    name: 'strong',\n    attribs: {},\n    trim: true\n  },\n  italicMarkup: {\n    type: 'tag',\n    name: 'em',\n    attribs: {},\n    trim: true\n  },\n  underlineMarkup: {\n    type: 'tag',\n    name: 'u',\n    attribs: {},\n    trim: false\n  },\n  linkMarkup: {\n    type: 'tag',\n    name: 'a',\n    attribs: {},\n    trim: true\n  },\n\n  // Rules that are applied when filtering pasted content\n  pastedHtmlRules: {\n    // Elements and their attributes to keep in pasted text\n    // Note that elements not explicitly allowed here will not be removed, their\n    // tags will get stripped but their content will be kept. Use `blacklistedElements`\n    // to get rid of a whole element (tag+content)\n    allowedElements: {\n      'a': {\n        'href': true,\n        'rel': true,\n        'target': true\n      },\n      'strong': {},\n      'em': {},\n      'br': {}\n    },\n    allowedPlainTextElements: {\n      'br': {}\n    },\n\n    // Elements that have required attributes.\n    // If these are not present the elements are filtered out.\n    // Required attributes have to be present in the 'allowed' object\n    // as well if they should not be filtered out.\n    requiredAttributes: {\n      'a': ['href']\n    },\n\n    // Elements that should be transformed into other elements\n    transformElements: {\n      'b': 'strong',\n      'i': 'em'\n    },\n\n    // A list of elements which should be split into paragraphs.\n    splitIntoBlocks: ['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'p', 'blockquote'],\n\n    // A list of HTML block level elements.\n    blockLevelElements: [\n      'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'div', 'p', 'pre', 'hr', 'blockquote',\n      'article', 'figure', 'header', 'footer', 'ul', 'ol', 'li', 'section', 'table', 'video'\n    ],\n\n    // A list of elements that will get completely removed when pasted. Their tags\n    // and content (text content and child elements) will get removed.\n    blacklistedElements: ['style', 'script'],\n\n    keepInternalRelativeLinks: false,\n\n    // Replace quotes in a pasted content with quotes from config.\n    replaceQuotes: {\n      // quotes: ['', ''],\n      // singleQuotes: ['', ''],\n      // apostrophe: ''\n    }\n  }\n}\n","import config from '../config.js'\n\n// Allows for safe error logging\n// Falls back to console.log if console.error is not available\nexport default function error () {\n  if (config.logErrors === false) return\n\n  const args = arguments.length === 1 ? arguments[0] : Array.from(arguments)\n\n  if (!global.console) return\n\n  if (typeof console.error === 'function') return console.error(args)\n\n  console.log(args)\n}\n","const toString = Object.prototype.toString\nconst htmlCharacters = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n}\n\n// TODO: replace with lodash methods\nexport function trimRight (text) {\n  return text.replace(/\\s+$/, '')\n}\n\nexport function trimLeft (text) {\n  return text.replace(/^\\s+/, '')\n}\n\nexport function trim (text) {\n  return text.replace(/^\\s+|\\s+$/g, '')\n}\n\nexport function isString (obj) {\n  return toString.call(obj) === '[object String]'\n}\n\n/**\n * Turn any string into a regular expression.\n * This can be used to search or replace a string conveniently.\n */\n\nexport function regexp (str, flags) {\n  if (!flags) flags = 'g'\n  const escapedStr = str.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&')\n  return new RegExp(escapedStr, flags)\n}\n\n/**\n * Escape HTML characters <, > and &\n * Usage: escapeHtml('<div>')\n *\n * @param { String }\n * @param { Boolean } Optional. If true \" and ' will also be escaped.\n * @return { String } Escaped Html you can assign to innerHTML of an element.\n */\n\n// TODO: replace with npm.im/he\n\nexport function escapeHtml (s, forAttribute) {\n  return s.replace(forAttribute ? /[&<>'\"]/g : /[&<>]/g, function (c) { // \"'\n    return htmlCharacters[c]\n  })\n}\n\n/**\n * Escape a string the browser way.\n */\n\nexport function browserEscapeHtml (str) {\n  const div = document.createElement('div')\n  div.appendChild(document.createTextNode(str))\n  return div.innerHTML\n}\n\nexport function replaceLast (text, searchValue, replaceValue) {\n  if (!text) return ''\n  text = `${text}`\n  if (!searchValue || replaceValue == null) return text\n  const lastOccurrenceIndex = text.lastIndexOf(searchValue)\n  if (lastOccurrenceIndex === -1) return text\n  return `${\n    text.slice(0, lastOccurrenceIndex)\n  }${\n    replaceValue\n  }${\n    text.slice(lastOccurrenceIndex + searchValue.length)\n  }`\n}\n\nexport function endsWithSingleSpace (text) {\n  return /\\S+\\s{1}$/.test(text)\n}\n","// DOM node types\n// https://developer.mozilla.org/en-US/docs/Web/API/Node.nodeType\n\nexport const elementNode = 1\nexport const attributeNode = 2\nexport const textNode = 3\nexport const cdataSectionNode = 4\nexport const entityReferenceNode = 5\nexport const entityNode = 6\nexport const processingInstructionNode = 7\nexport const commentNode = 8\nexport const documentNode = 9\nexport const documentTypeNode = 10\nexport const documentFragmentNode = 11\nexport const notationNode = 12\n","import {textNode} from './node-type.js'\n\n// A DOM node iterator.\n//\n// Has the ability to replace nodes on the fly and continue\n// the iteration.\nexport default class NodeIterator {\n\n  constructor (root, method) {\n    this.current = this.previous = this.nextNode = this.root = root\n    this.iteratorFunc = this[method || 'getNext']\n  }\n\n  [Symbol.iterator] () {\n    return this\n  }\n\n  getNextTextNode () {\n    let next\n    while ((next = this.getNext())) {\n      if (next.nodeType === textNode && next.data !== '') return next\n    }\n  }\n\n  getPreviousTextNode () {\n    let prev\n    while ((prev = this.getPrevious())) {\n      if (prev.nodeType === textNode && prev.data !== '') return prev\n    }\n  }\n\n  next () {\n    const value = this.iteratorFunc()\n    return value ? {value} : {done: true}\n  }\n\n  getNext () {\n    let n = this.current = this.nextNode\n    let child = this.nextNode = undefined\n    if (this.current) {\n      child = n.firstChild\n\n      // Skip the children of elements with the attribute data-editable=\"remove\"\n      // This prevents text nodes that are not part of the content to be included.\n      if (child && n.getAttribute('data-editable') !== 'remove') {\n        this.nextNode = child\n      } else {\n        while ((n !== this.root) && !(this.nextNode = n.nextSibling)) {\n          n = n.parentNode\n        }\n      }\n    }\n    return this.current\n  }\n\n  getPrevious () {\n    let n = this.current = this.previous\n    let child = this.previous = undefined\n    if (this.current) {\n      child = n.lastChild\n\n      // Skip the children of elements with the attribute data-editable=\"remove\"\n      // This prevents text nodes that are not part of the content to be included.\n      if (child && n.getAttribute('data-editable') !== 'remove') {\n        this.previous = child\n      } else {\n        while ((n !== this.root) && !(this.previous = n.previousSibling)) {\n          n = n.parentNode\n        }\n      }\n    }\n    return this.current\n  }\n\n  replaceCurrent (replacement) {\n    this.current = replacement\n    this.nextNode = undefined\n    this.previous = undefined\n    let n = this.current\n    while ((n !== this.root) && !(this.nextNode = n.nextSibling)) {\n      n = n.parentNode\n    }\n  }\n}\n","import NodeIterator from '../node-iterator.js'\nimport {textNode} from '../node-type.js'\n\n/**\n * @param {HTMLElement | Array | String} target\n * @param {Document} document\n */\nexport const domArray = (target, document) => {\n  if (typeof target === 'string') return Array.from(document.querySelectorAll(target))\n  if (target.tagName) return [target]\n  if (Array.isArray(target)) return target\n  // Support NodeList and jQuery arrays\n  return Array.from(target)\n}\n\n/**\n * @param { HTMLElement | String } target\n * @param { Document } document\n * @returns { HTMLElement }\n */\nexport const domSelector = (target, document) => {\n  if (typeof target === 'string') return document.querySelector(target)\n  if (target.tagName) return target\n  // Support NodeList and jQuery arrays\n  if (target[0]) return target[0]\n  return target\n}\n\nexport const createElement = (html, win = window) => {\n  const el = win.document.createElement('div')\n  el.innerHTML = html\n  return el.firstElementChild\n}\n\n/**\n* Get the closest dom element matching a selector\n* @description\n*   - If a textNode is passed, it will still find the correct element\n*   - If a document is passed, it will return undefined\n* @param {Node} elem\n* @param {String} selector\n* @returns {HTMLElement|undefined}\n*/\nexport const closest = (elem, selector) => {\n  if (!elem.closest) elem = elem.parentNode\n  if (elem && elem.closest) return elem.closest(selector)\n}\n\nexport const createRange = (win = window) => {\n  return win.document.createRange()\n}\n\nexport const getSelection = (win = window) => {\n  return win.document.getSelection()\n}\n\nexport const getNodes = (range, nodeTypes, filterFunc, win = window) => {\n  const nodes = []\n\n  const nodeIterator = win.document.createNodeIterator(\n    range.commonAncestorContainer,\n    NodeFilter.SHOW_ALL,\n    {\n      acceptNode (node) {\n        if (\n          range.intersectsNode(node) &&\n          nodeTypes.includes(node.nodeType) &&\n          node !== range.commonAncestorContainer // Exclude the common ancestor container\n        ) {\n          if (typeof filterFunc === 'function') {\n            return filterFunc(node) ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP\n          }\n          return NodeFilter.FILTER_ACCEPT\n        }\n        return NodeFilter.FILTER_SKIP\n      }\n    },\n    false\n  )\n\n  let currentNode\n  while ((currentNode = nodeIterator.nextNode())) {\n    nodes.push(currentNode)\n  }\n\n  return nodes\n}\n\n// export const getNodes = (range, nodeTypes, filterFunc, win = window) => {\n//   const nodes = []\n\n//   const nodeIterator = win.document.createNodeIterator(\n//     range.startContainer,\n//     NodeFilter.SHOW_ALL,\n//     {\n//       acceptNode (node) {\n//         if (\n//           range.intersectsNode(node) &&\n//           nodeTypes.includes(node.nodeType)\n//         ) {\n//           if (typeof filterFunc === 'function') {\n//             return filterFunc(node) ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP\n//           }\n//           return NodeFilter.FILTER_ACCEPT\n//         }\n//         return NodeFilter.FILTER_SKIP\n//       }\n//     },\n//     false\n//   )\n\n//   let currentNode\n//   while ((currentNode = nodeIterator.nextNode())) {\n//     if (range.intersectsNode(currentNode)) {\n//       nodes.push(currentNode)\n//     }\n//   }\n\n//   return nodes\n// }\n\n\nexport const normalizeBoundaries = (range) => {\n  if (range.startContainer.compareDocumentPosition(range.endContainer) === Node.DOCUMENT_POSITION_FOLLOWING) {\n    range.setStartBefore(range.endContainer)\n  }\n\n  if (range.endContainer.compareDocumentPosition(range.startContainer) === Node.DOCUMENT_POSITION_PRECEDING) {\n    range.setEndAfter(range.startContainer)\n  }\n}\n\nexport const containsRange = (containerRange, testRange) => {\n  return (\n    containerRange.compareBoundaryPoints(Range.START_TO_START, testRange) <= 0 &&\n    containerRange.compareBoundaryPoints(Range.END_TO_END, testRange) >= 0\n  )\n}\n\nexport const containsNodeText = (range, node) => {\n  const nodeRange = document.createRange()\n  nodeRange.selectNodeContents(node)\n  const comparisonStart = range.compareBoundaryPoints(Range.START_TO_START, nodeRange)\n  const comparisonEnd = range.compareBoundaryPoints(Range.END_TO_END, nodeRange)\n  return comparisonStart <= 0 && comparisonEnd >= 0\n}\n\nexport const nodeContainsRange = (node, range) => {\n  const nodeRange = document.createRange()\n  nodeRange.selectNodeContents(node)\n  const comparisonStart = range.compareBoundaryPoints(Range.START_TO_START, nodeRange)\n  const comparisonEnd = range.compareBoundaryPoints(Range.END_TO_END, nodeRange)\n  return comparisonStart >= 0 && comparisonEnd <= 0\n}\n\nconst isCharacterDataNode = (node) => {\n  return node && (node.nodeType === Node.TEXT_NODE || node.nodeType === Node.COMMENT_NODE)\n}\n\nconst splitDataNode = (node, offset) => {\n  return node.splitText(offset)\n}\n\nexport const splitBoundaries = (range) => {\n  const startContainer = range.startContainer\n  const startOffset = range.startOffset\n  const endContainer = range.endContainer\n  const endOffset = range.endOffset\n\n  if (isCharacterDataNode(endContainer) && endOffset > 0 && endOffset < endContainer.length) {\n    splitDataNode(endContainer, endOffset)\n  }\n\n  if (isCharacterDataNode(startContainer) && startOffset > 0 && startOffset < startContainer.length) {\n    const newStartContainer = splitDataNode(startContainer, startOffset)\n    range.setStart(newStartContainer, 0)\n  }\n}\n\nexport const toCharacterRange = (range, container) => {\n  const startRange = range.cloneRange()\n  startRange.setStart(container, 0)\n  startRange.setEnd(range.startContainer, range.startOffset)\n\n  const rangeText = range.toString()\n  const start = startRange.toString().length\n  const end = start + rangeText.length\n\n  return {start, end, text: rangeText}\n}\n\nexport const rangesAreEqual = (range1, range2) => {\n  return (\n    range1.startContainer === range2.startContainer &&\n    range1.startOffset === range2.startOffset &&\n    range1.endContainer === range2.endContainer &&\n    range1.endOffset === range2.endOffset\n  )\n}\n\nexport const rangeToHtml = (range, win = window) => {\n  const div = win.document.createElement('div')\n  div.appendChild(range.cloneContents())\n  return div.innerHTML\n}\n\nexport const getSelectionCoordinates = (selection) => {\n  const range = selection.getRangeAt(0) // Assuming you want coordinates of the first range\n\n  const rects = range.getClientRects()\n  const coordinates = []\n\n  for (let i = 0; i < rects.length; i++) {\n    const rect = rects[i]\n    coordinates.push({\n      top: rect.top,\n      left: rect.left,\n      bottom: rect.bottom,\n      right: rect.right,\n      width: rect.width,\n      height: rect.height\n    })\n  }\n\n  return coordinates\n}\n\nexport const createRangeFromCharacterRange = (element, actualStartIndex, actualEndIndex) => {\n  const walker = document.createTreeWalker(element, NodeFilter.SHOW_TEXT, null, false)\n  let currentIndex = 0\n  let startNode, endNode, startOffset, endOffset\n\n  while (walker.nextNode()) {\n    const node = walker.currentNode\n    const nodeLength = node.nodeValue.length\n\n    if (currentIndex + nodeLength <= actualStartIndex) {\n      currentIndex += nodeLength\n      continue\n    }\n\n    if (!startNode) {\n      startNode = node\n      startOffset = actualStartIndex - currentIndex\n    }\n\n    if (currentIndex + nodeLength >= actualEndIndex) {\n      endNode = node\n      endOffset = actualEndIndex - currentIndex\n      break\n    }\n\n    currentIndex += nodeLength\n  }\n\n  if (startNode && endNode) {\n    const range = createRange()\n    range.setStart(startNode, startOffset)\n    range.setEnd(endNode, endOffset)\n    return range\n  } else {\n    throw new Error('Invalid character offsets.')\n  }\n}\n\nexport function findStartExcludingWhitespace ({root, startContainer, startOffset, whitespacesOnTheLeft}) {\n  const isTextNode = startContainer.nodeType === textNode\n  if (!isTextNode) {\n    return findStartExcludingWhitespace({\n      root,\n      startContainer: startContainer.childNodes[startOffset],\n      startOffset: 0,\n      whitespacesOnTheLeft\n    })\n  }\n\n  const offsetAfterWhitespace = startOffset + whitespacesOnTheLeft\n  if (startContainer.length > offsetAfterWhitespace) {\n    return [startContainer, offsetAfterWhitespace]\n  }\n\n  // Pass the root so that the iterator can traverse to siblings\n  const iterator = new NodeIterator(root)\n  // Set the position to the node which is selected\n  iterator.nextNode = startContainer\n  // Iterate once to avoid returning self\n  iterator.getNextTextNode()\n\n  const container = iterator.getNextTextNode()\n  if (!container) {\n    // No more text nodes - use the end of the last text node\n    const previousTextNode = iterator.getPreviousTextNode()\n    return [previousTextNode, previousTextNode.length]\n  }\n\n  return findStartExcludingWhitespace({\n    root,\n    startContainer: container,\n    startOffset: 0,\n    whitespacesOnTheLeft: offsetAfterWhitespace - startContainer.length\n  })\n}\n\nexport function findEndExcludingWhitespace ({root, endContainer, endOffset, whitespacesOnTheRight}) {\n  const isTextNode = endContainer.nodeType === textNode\n  if (!isTextNode) {\n    const isFirstNode = !endContainer.childNodes[endOffset - 1]\n    const container = isFirstNode\n      ? endContainer.childNodes[endOffset]\n      : endContainer.childNodes[endOffset - 1]\n    let offset = 0\n    if (!isFirstNode) {\n      offset = container.nodeType === textNode\n        ? container.length\n        : container.childNodes.length\n    }\n    return findEndExcludingWhitespace({\n      root,\n      endContainer: container,\n      endOffset: offset,\n      whitespacesOnTheRight\n    })\n  }\n\n  const offsetBeforeWhitespace = endOffset - whitespacesOnTheRight\n  if (offsetBeforeWhitespace > 0) {\n    return [endContainer, offsetBeforeWhitespace]\n  }\n\n  // Pass the root so that the iterator can traverse to siblings\n  const iterator = new NodeIterator(root)\n  // Set the position to the node which is selected\n  iterator.previous = endContainer\n  // Iterate once to avoid returning self\n  iterator.getPreviousTextNode()\n\n  const container = iterator.getPreviousTextNode()\n  if (!container) {\n    // No more text nodes - use the start of the first text node\n    return [iterator.getNextTextNode(), 0]\n  }\n\n  return findEndExcludingWhitespace({\n    root,\n    endContainer: container,\n    endOffset: container.length,\n    whitespacesOnTheRight: whitespacesOnTheRight - endOffset\n  })\n}\n","import * as string from './util/string.js'\nimport * as nodeType from './node-type.js'\nimport config from './config.js'\nimport {closest} from './util/dom.js'\n\n/**\n * The parser module provides helper methods to parse html-chunks\n * manipulations and helpers for common tasks.\n * Provides DOM lookup helpers\n *\n * @module core\n * @submodule parser\n */\n\n/**\n * Get the editableJS host block of a node.\n *\n * @method getHost\n * @param {DOM Node}\n * @return {DOM Node}\n */\nexport function getHost (node) {\n  node = (node.jquery ? node[0] : node)\n  return closest(node, `.${config.editableClass}`)\n}\n\n/**\n * Get the index of a node so that\n * parent.childNodes[ getNodeIndex(node) ] would return the node again.\n *\n * @method getNodeIndex\n * @param {HTMLElement}\n */\nexport function getNodeIndex (node) {\n  let index = 0\n  while ((node = node.previousSibling) !== null) index++\n  return index\n}\n\n/**\n * Check if node contains text or element nodes\n * whitespace counts too!\n *\n * @method isVoid\n * @param {HTMLElement}\n */\nexport function isVoid (node) {\n  for (const child of node.childNodes) {\n    if (child.nodeType === nodeType.textNode && !isVoidTextNode(child)) {\n      return false\n    }\n    if (child.nodeType === nodeType.elementNode) {\n      return false\n    }\n  }\n  return true\n}\n\n/**\n * Check if node is a text node and completely empty without any whitespace\n *\n * @method isVoidTextNode\n * @param {HTMLElement}\n */\nexport function isVoidTextNode (node) {\n  return node.nodeType === nodeType.textNode && !node.nodeValue\n}\n\n/**\n * Check if node is a text node and contains nothing but whitespace\n *\n * @method isWhitespaceOnly\n * @param {HTMLElement}\n */\nexport function isWhitespaceOnly (node) {\n  return node.nodeType === nodeType.textNode && lastOffsetWithContent(node) === 0\n}\n\nexport function isLinebreak (node) {\n  return node.nodeType === nodeType.elementNode && node.tagName === 'BR'\n}\n\n/**\n * Returns the last offset where the cursor can be positioned to\n * be at the visible end of its container.\n * Currently works only for empty text nodes (not empty tags)\n *\n * @method isWhitespaceOnly\n * @param {HTMLElement}\n */\nexport function lastOffsetWithContent (elem) {\n  if (elem.nodeType === nodeType.textNode) return string.trimRight(elem.nodeValue).length\n\n  let lastOffset = 0\n  Array.from(elem.childNodes).reverse().every((node, index, nodes) => {\n    if (isWhitespaceOnly(node) || isLinebreak(node)) return true\n\n    lastOffset = nodes.length - index\n    return false\n  })\n  return lastOffset\n}\n\nexport function isBeginningOfHost (host, container, offset) {\n  if (container === host) return isStartOffset(container, offset)\n\n  if (isStartOffset(container, offset)) {\n    // The index of the element simulates a range offset\n    // right before the element.\n    const offsetInParent = getNodeIndex(container)\n    return isBeginningOfHost(host, container.parentNode, offsetInParent)\n  }\n\n  return false\n}\n\nexport function isEndOfHost (host, container, offset) {\n  if (container === host) return isEndOffset(container, offset)\n\n  if (isEndOffset(container, offset)) {\n    // The index of the element plus one simulates a range offset\n    // right after the element.\n    const offsetInParent = getNodeIndex(container) + 1\n    return isEndOfHost(host, container.parentNode, offsetInParent)\n  }\n\n  return false\n}\n\nexport function isStartOffset (container, offset) {\n  if (container.nodeType === nodeType.textNode) return offset === 0\n\n  if (container.childNodes.length === 0) return true\n\n  if (\n    container.childNodes.length === 1 &&\n    container.firstChild.nodeType === nodeType.elementNode &&\n    container.firstChild.getAttribute('data-editable') === 'remove'\n  ) return true\n\n  return container.childNodes[offset] === container.firstChild\n}\n\nexport function isEndOffset (container, offset) {\n  if (container.nodeType === nodeType.textNode) return offset === container.length\n\n  if (container.childNodes.length === 0) return true\n\n  if (offset > 0) return container.childNodes[offset - 1] === container.lastChild\n\n  return false\n}\n\nexport function isTextEndOfHost (host, container, offset) {\n  if (container === host) return isTextEndOffset(container, offset)\n\n  if (isTextEndOffset(container, offset)) {\n    // The index of the element plus one simulates a range offset\n    // right after the element.\n    const offsetInParent = getNodeIndex(container) + 1\n    return isTextEndOfHost(host, container.parentNode, offsetInParent)\n  }\n\n  return false\n}\n\nexport function isTextEndOffset (container, offset) {\n  if (container.nodeType === nodeType.textNode) {\n    const text = string.trimRight(container.nodeValue)\n    return offset >= text.length\n  }\n\n  if (container.childNodes.length === 0) return true\n\n  return offset >= lastOffsetWithContent(container)\n}\n\nexport function isSameNode (target, source) {\n  let i, len, attr\n\n  if (target.nodeType !== source.nodeType) return false\n\n  if (target.nodeName !== source.nodeName) return false\n\n  for (i = 0, len = target.attributes.length; i < len; i++) {\n    attr = target.attributes[i]\n    if (source.getAttribute(attr.name) !== attr.value) return false\n  }\n\n  return true\n}\n\n/**\n * Return the deepest last child of a node.\n *\n * @method  lastChild\n * @param  {HTMLElement} container The container to iterate on.\n * @return {HTMLElement}           The deepest last child in the container.\n */\nexport function lastChild (container) {\n  return container.lastChild\n    ? lastChild(container.lastChild)\n    : container\n}\n\n/**\n * Obsolete version of {{#crossLink \"lastChild\"}}{{/crossLink}}.\n */\nexport function latestChild (container) {\n  console.warn('Editable.js: Using obsolete function parser.latestCild(), use lastChild() instead')\n  return lastChild(container)\n}\n\n/**\n * Checks if a documentFragment has no children.\n * Fragments without children can cause errors if inserted into ranges.\n *\n * @method  isDocumentFragmentWithoutChildren\n * @param  {HTMLElement} DOM node.\n * @return {Boolean}\n */\nexport function isDocumentFragmentWithoutChildren (fragment) {\n  return fragment &&\n    fragment.nodeType === nodeType.documentFragmentNode &&\n    fragment.childNodes.length === 0\n}\n\n/**\n * Determine if an element behaves like an inline element.\n */\nexport function isInlineElement (window, element) {\n  const styles = element.currentStyle || window.getComputedStyle(element, '')\n  const display = styles.display\n  switch (display) {\n    case 'inline':\n    case 'inline-block':\n      return true\n    default:\n      return false\n  }\n}\n","import error from './util/error.js'\nimport * as nodeType from './node-type.js'\nimport {createRange, normalizeBoundaries} from './util/dom.js'\n\n/**\n * Inspired by the Selection save and restore module for Rangy by Tim Down\n * Saves and restores ranges using invisible marker elements in the DOM.\n */\nlet boundaryMarkerId = 0\n\n// (U+FEFF) zero width no-break space\nconst markerTextChar = '\\ufeff'\n\nfunction isSecondChildOfCommonAncestor (range, rangeContainer) {\n  const parent = range.commonAncestorContainer\n  if (parent.nodeType === 3) return false // if we are on the text node it can't be a parent\n  const possibleChild = rangeContainer.parentElement\n  return possibleChild?.parentElement === parent\n}\n\nexport function insertRangeBoundaryMarker (range, atStart) {\n  const container = range.commonAncestorContainer\n\n  // If ownerDocument is null the commonAncestorContainer is window.document\n  if (!container.ownerDocument) {\n    error('Cannot save range: range is empty')\n  }\n\n  // Create the marker element containing a single\n  // invisible character using DOM methods and insert it\n  const doc = container.ownerDocument.defaultView.document\n  const markerEl = doc.createElement('span')\n  markerEl.id = `editable-range-boundary-${++boundaryMarkerId}`\n  markerEl.setAttribute('data-editable', 'remove')\n  markerEl.style.lineHeight = '0'\n  markerEl.style.display = 'none'\n  markerEl.appendChild(doc.createTextNode(markerTextChar))\n\n  // This logic can expand the selection by inserting the marker before the element\n  // of the start or end container. In some cases this prevents breaking up existing tags.\n  // The solution is not perfect, but has been here a while.\n  // And it is somewhat inconsistent as it check if the container is a second grade child\n  // of the common ancestor.\n  // It can help to prevent the nuking of e.g. comments when formatting like bold\n  // is applied.\n  const directlyBeforeFormatTag = atStart && isSecondChildOfCommonAncestor(range, range.startContainer)\n  const directlyAfterFormatTag = !atStart && isSecondChildOfCommonAncestor(range, range.endContainer)\n  if (directlyBeforeFormatTag) {\n    const startParentElem = range.startContainer.parentElement\n    startParentElem.parentElement.insertBefore(markerEl, startParentElem)\n  } else if (directlyAfterFormatTag) {\n    const endParentElem = range.endContainer.parentElement\n    endParentElem.parentElement.insertBefore(markerEl, endParentElem.nextSibling)\n  } else {\n    // Clone the Range and collapse to the appropriate boundary point\n    const boundaryRange = range.cloneRange()\n    boundaryRange.collapse(atStart)\n    boundaryRange.insertNode(markerEl)\n  }\n\n  return markerEl\n}\n\nexport function setRangeBoundary (host, range, markerId, atStart) {\n  const markerEl = getMarker(host, markerId)\n  if (!markerEl) return console.log('Marker element has been removed. Cannot restore selection.')\n  range[atStart ? 'setStartBefore' : 'setEndBefore'](markerEl)\n  markerEl.remove()\n}\n\nexport function save (range) {\n  let rangeInfo, startEl, endEl\n\n  // insert markers\n  if (range.collapsed) {\n    endEl = insertRangeBoundaryMarker(range, false)\n    rangeInfo = {\n      markerId: endEl.id,\n      collapsed: true\n    }\n  } else {\n    endEl = insertRangeBoundaryMarker(range, false)\n    startEl = insertRangeBoundaryMarker(range, true)\n\n    rangeInfo = {\n      startMarkerId: startEl.id,\n      endMarkerId: endEl.id,\n      collapsed: false\n    }\n  }\n\n  // Adjust each range's boundaries to lie between its markers\n  if (range.collapsed) {\n    range.setStartBefore(endEl)\n    range.collapse(true)\n  } else {\n    range.setEndBefore(endEl)\n    range.setStartAfter(startEl)\n  }\n\n  return rangeInfo\n}\n\nexport function restore (host, rangeInfo) {\n  if (rangeInfo.restored) return\n\n  const range = createRange()\n  if (rangeInfo.collapsed) {\n    const markerEl = getMarker(host, rangeInfo.markerId)\n    if (markerEl) {\n      markerEl.style.display = 'inline'\n      const previousNode = markerEl.previousSibling\n\n      // Workaround for rangy issue 17\n      if (previousNode && previousNode.nodeType === nodeType.textNode) {\n        markerEl.remove()\n        range.setStart(previousNode, previousNode.length)\n      } else {\n        range.setStartBefore(markerEl)\n        range.collapse(true)\n        markerEl.remove()\n      }\n    } else {\n      console.log('Marker element has been removed. Cannot restore selection.')\n    }\n  } else {\n    setRangeBoundary(host, range, rangeInfo.startMarkerId, true)\n    setRangeBoundary(host, range, rangeInfo.endMarkerId, false)\n  }\n\n  normalizeBoundaries(range)\n  return range\n}\n\nfunction getMarker (host, id) {\n  return host.querySelector(`#${id}`)\n}\n","import * as nodeType from './node-type.js'\nimport * as rangeSaveRestore from './range-save-restore.js'\nimport * as parser from './parser.js'\nimport * as string from './util/string.js'\nimport {createElement, createRange, getNodes, normalizeBoundaries, splitBoundaries, containsNodeText} from './util/dom.js'\nimport config from './config.js'\n\nfunction restoreRange (host, range, func) {\n  range = rangeSaveRestore.save(range)\n  func()\n  return rangeSaveRestore.restore(host, range)\n}\n\nconst zeroWidthSpace = /\\u200B/g\nconst zeroWidthNonBreakingSpace = /\\uFEFF/g\nconst whitespaceExceptSpace = /[^\\S ]/g\n\nconst everythingWhitespace = /^\\s+$/\nconst leadingWhitespace = /^\\s+/\nconst trailingWhitespace = /\\s+$/\n\n// Clean up the Html.\nexport function tidyHtml (element) {\n  // if (element.normalize) element.normalize()\n  normalizeTags(element)\n}\n\n// Remove empty tags and merge consecutive tags (they must have the same\n// attributes).\n//\n// @method normalizeTags\n// @param  {HTMLElement} element The element to process.\nexport function normalizeTags (element) {\n  const fragment = document.createDocumentFragment()\n\n  // Remove line breaks at the beginning of a content block\n  removeWhitespaces(element, 'firstChild')\n\n  // Remove line breaks at the end of a content block\n  removeWhitespaces(element, 'lastChild')\n\n  for (const node of element.childNodes) {\n    // skip empty tags, so they'll get removed\n    if (node.nodeName !== 'BR' && !node.textContent) continue\n\n    if (node.nodeType === nodeType.elementNode && node.nodeName !== 'BR') {\n      let sibling = node\n      while ((sibling = sibling.nextSibling) !== null) {\n        if (!parser.isSameNode(sibling, node)) break\n\n        for (const siblingChild of sibling.childNodes) {\n          node.appendChild(siblingChild.cloneNode(true))\n        }\n\n        sibling.remove()\n      }\n\n      normalizeTags(node)\n    }\n\n    fragment.appendChild(node.cloneNode(true))\n  }\n\n  while (element.firstChild) element.removeChild(element.firstChild)\n\n  element.appendChild(fragment)\n}\n\nexport function normalizeWhitespace (text) {\n  return text.replace(whitespaceExceptSpace, ' ')\n}\n\n// Clean the element from character, tags, etc... added by the plugin logic.\n//\n// @method cleanInternals\n// @param  {HTMLElement} element The element to process.\nexport function cleanInternals (element) {\n  // Uses extract content for simplicity. A custom method\n  // that does not clone the element could be faster if needed.\n  element.innerHTML = extractContent(element, true)\n}\n\n// Extracts the content from a host element.\n// Does not touch or change the host. Just returns\n// the content and removes elements marked for removal by editable.\n//\n// @param {DOM node or document fragment} Element where to clean out the innerHTML.\n// If you pass a document fragment it will be empty after this call.\n// @param {Boolean} Flag whether to keep ui elements like spellchecking highlights.\n// @returns {String} The cleaned innerHTML of the passed element or document fragment.\nexport function extractContent (element, keepUiElements) {\n  const innerHtml = (element.nodeType === nodeType.documentFragmentNode\n    ? getInnerHtmlOfFragment(element)\n    : element.innerHTML\n  )\n    .replace(zeroWidthNonBreakingSpace, '') // Used for forcing inline elements to have a height\n    .replace(zeroWidthSpace, '<br>') // Used for cross-browser newlines\n\n  const clone = document.createElement('div')\n  clone.innerHTML = innerHtml\n  unwrapInternalNodes(clone, keepUiElements)\n\n  // Remove line breaks at the beginning of a content block\n  removeWhitespaces(clone, 'firstChild')\n\n  // Remove line breaks at the end of a content block\n  removeWhitespaces(clone, 'lastChild')\n\n  return clone.innerHTML\n}\n\nexport function getInnerHtmlOfFragment (documentFragment) {\n  const div = document.createElement('div')\n  div.appendChild(documentFragment)\n  return div.innerHTML\n}\n\n// Create a document fragment from an html string\n// @param {String} e.g. 'some html <span>text</span>.'\nexport function createFragmentFromString (htmlString) {\n  const wrapper = document.createElement('div')\n  wrapper.innerHTML = htmlString\n\n  const fragment = document.createDocumentFragment()\n  while (wrapper.firstChild) fragment.appendChild(wrapper.firstChild)\n  return fragment\n}\n\nexport function adoptElement (node, doc) {\n  return node.ownerDocument !== doc\n    ? doc.adoptNode(node)\n    : node\n}\n\n// It will return a fragment with the cloned contents of the range\n// without the commonAncestorElement.\n//\n// @param {Range}\n// @return {DocumentFragment}\nexport function cloneRangeContents (range) {\n  const rangeFragment = range.cloneContents()\n  const parent = rangeFragment.childNodes[0]\n  const fragment = document.createDocumentFragment()\n  while (parent.childNodes.length) fragment.appendChild(parent.childNodes[0])\n  return fragment\n}\n\nfunction removeWhitespaces (node, type, firstCall = true) {\n  let elem\n  // loop through all children:\n  // from left to right if type = 'firstChild',\n  // from right to left if type = 'lastChild'\n  while ((elem = node[type])) {\n    if (elem.nodeType === nodeType.textNode) {\n      // Just remove text nodes if they consist only of whitespace\n      if (everythingWhitespace.test(elem.textContent)) node.removeChild(elem)\n      else break\n    } else if (elem.nodeName === 'BR') {\n      elem.remove()\n    } else {\n      // For element nodes (e.g. <strong> tags), we repeat the logic recursively\n      // to remove empty text nodes or <br> tags.\n      if (elem[type]) removeWhitespaces(elem, type, false)\n      break\n    }\n  }\n\n  // Text nodes with leading/trailing whitespace can be trimmed if config allows.\n  // We only do it to the outermost text node. Once a text was wrapped in\n  // another element, we preserve the whitespace.\n  if (!firstCall) return\n  elem = node[type]\n  if (elem?.nodeType !== nodeType.textNode) return\n  // Remove whitespaces at the end or start of a block with content\n  //   e.g. '  Hello world' > 'Hello World'\n  if (config.trimLeadingAndTrailingWhitespaces) {\n    elem.textContent = elem.textContent.replace(type.startsWith('last') ? trailingWhitespace : leadingWhitespace, '')\n  }\n}\n\n// Remove elements that were inserted for internal or user interface purposes\n//\n// @param {DOM node}\n// @param {Boolean} whether to keep ui elements like spellchecking highlights\n// Currently:\n// - Saved ranges\nexport function unwrapInternalNodes (sibling, keepUiElements) {\n  while (sibling) {\n    const nextSibling = sibling.nextSibling\n\n    if (sibling.nodeType !== nodeType.elementNode) {\n      sibling = nextSibling\n      continue\n    }\n\n    const attr = sibling.getAttribute('data-editable')\n\n    if (sibling.firstChild) unwrapInternalNodes(sibling.firstChild, keepUiElements)\n\n    if (attr === 'remove' || (attr === 'ui-remove' && !keepUiElements)) {\n      sibling.remove()\n    } if (attr === 'unwrap' || (attr === 'ui-unwrap' && !keepUiElements)) {\n      unwrap(sibling)\n    }\n\n    sibling = nextSibling\n  }\n}\n\n// Get all tags that start or end inside the range\nexport function getTags (host, range, filterFunc) {\n  const innerTags = getInnerTags(range, filterFunc)\n  const ancestorTags = getAncestorTags(host, range, filterFunc)\n  return innerTags.concat(ancestorTags)\n}\n\n// Get all ancestor tags that start or end inside the range\nexport function getAncestorTags (host, range, filterFunc) {\n  const tags = []\n  let node = range.commonAncestorContainer\n  while (node !== host) {\n    if (!filterFunc || filterFunc(node)) tags.push(node)\n    node = node.parentNode\n  }\n\n  return tags\n}\n\nexport function getTagsByName (host, range, tagName) {\n  return getTags(host, range, (node) => {\n    return node.nodeName.toUpperCase() === tagName.toUpperCase()\n  })\n}\n\nexport function getTagsByNameAndAttributes (host, range, elem) {\n  return getTags(host, range, (node) => {\n    return node.nodeName.toUpperCase() === elem.nodeName.toUpperCase() &&\n      areSameAttributes(node.attributes, elem.attributes)\n  })\n}\n\nexport function areSameAttributes (attrs1, attrs2) {\n  if (attrs1.length !== attrs2.length) return false\n\n  for (let i = 0; i < attrs1.length; i++) {\n    const attr = attrs2[attrs1[i].name]\n    if (!(attr && attr.value === attrs1[i].value)) return false\n  }\n\n  return true\n}\n\n// Get all tags that start or end inside the range\nexport function getInnerTags (range, filterFunc) {\n  return getNodes(range, [nodeType.elementNode], filterFunc)\n}\n\n// Get all tags whose text is completely within the current selection.\nexport function getContainedTags (range, filterFunc) {\n  return getNodes(range, [nodeType.elementNode], filterFunc)\n    .filter(elem => containsNodeText(range, elem))\n}\n\n// Transform an array of elements into an array\n// of tagnames in uppercase\n//\n// @return example: ['STRONG', 'B']\nexport function getTagNames (elements = []) {\n  return elements.map((element) => element.nodeName)\n}\n\nexport function isAffectedBy (host, range, tagName) {\n  return getTags(host, range)\n    .some((elem) => elem.nodeName === tagName.toUpperCase())\n}\n\n// select a whole element\nexport function selectNodeContents (element) {\n  const range = createRange()\n  range.selectNodeContents(element)\n  return range\n}\n\nfunction intersectsRange (range1, range2) {\n  return range1.compareBoundaryPoints(Range.END_TO_START, range2) === -1 &&\n    range2.compareBoundaryPoints(Range.END_TO_START, range1) === -1\n}\n\n// Check if the range selects all of the elements contents,\n// not less or more.\n//\n// @param visible: Only compare visible text. That way it does not\n//   matter if the user selects an additional whitespace or not.\nexport function isExactSelection (range, elem, visible) {\n  const elemRange = createRange()\n  elemRange.selectNodeContents(elem)\n\n  if (!intersectsRange(range, elemRange)) return false\n\n  let rangeText = range.toString()\n  let elemText = (elem.jquery ? elem[0] : elem).textContent\n\n  if (visible) {\n    rangeText = string.trim(rangeText)\n    elemText = string.trim(elemText)\n  }\n\n  return rangeText !== '' && rangeText === elemText\n}\n\nexport function expandTo (host, range, elem) {\n  range.selectNodeContents(elem)\n  return range\n}\n\nexport function toggleTag (host, range, elem) {\n  const elems = getTagsByNameAndAttributes(host, range, elem)\n\n  if (elems.length === 1 &&\n    isExactSelection(range, elems[0], 'visible')) {\n    return removeFormattingElem(host, range, elem)\n  }\n\n  return forceWrap(host, range, elem)\n}\n\nexport function isWrappable (range) {\n  return canSurroundContents(range)\n}\n\nexport function forceWrap (host, range, elem) {\n  let restoredRange = restoreRange(host, range, () => {\n    nukeElem(host, range, elem)\n  })\n\n  // remove all tags if the range is not wrappable\n  if (!isWrappable(restoredRange)) {\n    restoredRange = restoreRange(host, restoredRange, () => {\n      nuke(host, restoredRange)\n    })\n  }\n\n  wrap(restoredRange, elem)\n  return restoredRange\n}\n\nexport function wrap (range, elem) {\n  if (!isWrappable(range)) {\n    console.log('content.wrap(): can not surround range')\n    return\n  }\n\n  if (typeof elem === 'string') elem = createElement(elem)\n  range.surroundContents(elem)\n}\n\nexport function unwrap (elem) {\n  elem = elem.jquery ? elem[0] : elem\n  const parent = elem.parentNode\n  while (elem.firstChild) parent.insertBefore(elem.firstChild, elem)\n  parent.removeChild(elem)\n}\n\nexport function removeFormattingElem (host, range, elem) {\n  return restoreRange(host, range, () => {\n    nukeElem(host, range, elem)\n  })\n}\n\nexport function removeFormatting (host, range, selector) {\n  return restoreRange(host, range, () => {\n    nuke(host, range, selector)\n  })\n}\n\n// Unwrap all tags this range is affected by.\n// Can also affect content outside of the range.\nexport function nuke (host, range, selector) {\n  getTags(host, range).forEach((elem) => {\n    if (elem.nodeName.toUpperCase() !== 'BR' && (!selector || elem.matches(selector))) {\n      unwrap(elem)\n    }\n  })\n}\n\n// Unwrap all tags this range is affected by.\n// Can also affect content outside of the range.\nexport function nukeElem (host, range, node) {\n  getTags(host, range).forEach((elem) => {\n    if (elem.nodeName.toUpperCase() !== 'BR' && (!node ||\n        (elem.nodeName.toUpperCase() === node.nodeName.toUpperCase() &&\n          areSameAttributes(elem.attributes, node.attributes)))) {\n      unwrap(elem)\n    }\n  })\n}\n\n// Insert a single character (or string) before or after\n// the range.\nexport function insertCharacter (range, character, atStart) {\n  const insertEl = document.createTextNode(character)\n  const boundaryRange = range.cloneRange()\n  boundaryRange.collapse(atStart)\n  boundaryRange.insertNode(insertEl)\n  range[atStart ? 'setStartBefore' : 'setEndAfter'](insertEl)\n  normalizeBoundaries(range)\n}\n\n// Surround the range with characters like start and end quotes.\n//\n// @method surround\nexport function surround (host, range, startCharacter, endCharacter) {\n  insertCharacter(range, endCharacter || startCharacter, false)\n  insertCharacter(range, startCharacter, true)\n  return range\n}\n\n// Removes a character from the text within a range.\n//\n// @method deleteCharacter\nexport function deleteCharacter (host, range, character) {\n  if (!containsString(range, character)) return range\n\n  // check for selection.rangeCount > 0 ?\n  if (window.getSelection().rangeCount > 0) splitBoundaries(range)\n  const restoredRange = restoreRange(host, range, () => {\n    getNodes(range, [nodeType.textNode], (node) => {\n      return node.nodeValue.indexOf(character) >= 0\n    })\n      .forEach((node) => {\n        node.nodeValue = node.nodeValue.replaceAll(character, '')\n      })\n  })\n\n  normalizeBoundaries(restoredRange)\n  return restoredRange\n}\n\nexport function containsString (range, str) {\n  return range.toString().indexOf(str) >= 0\n}\n\n// Unwrap all tags this range is affected by.\n// Can also affect content outside of the range.\nexport function nukeTag (host, range, tagName) {\n  getTags(host, range).forEach((elem) => {\n    if (elem.nodeName.toUpperCase() === tagName.toUpperCase()) unwrap(elem)\n  })\n}\n\nfunction createNodeIterator (root, filter) {\n  let currentNode = root\n  let previousNode = null\n\n  function nextNode () {\n    if (!currentNode) {\n      return null\n    }\n\n    if (currentNode.firstChild && previousNode !== currentNode.firstChild) {\n      previousNode = currentNode\n      currentNode = currentNode.firstChild\n    } else if (currentNode.nextSibling) {\n      previousNode = currentNode\n      currentNode = currentNode.nextSibling\n    } else {\n      let parent = currentNode.parentNode\n      while (parent && parent !== root) {\n        if (parent.nextSibling) {\n          previousNode = currentNode = parent.nextSibling\n          break\n        }\n        parent = parent.parentNode\n      }\n      if (!parent || parent === root) {\n        previousNode = currentNode = null\n      }\n    }\n\n    return currentNode\n  }\n\n  return {\n    next: nextNode\n  }\n}\n\nfunction isNodeFullyContained (node, range) {\n  const nodeRange = document.createRange()\n  nodeRange.selectNodeContents(node)\n  return range.compareBoundaryPoints(Range.START_TO_START, nodeRange) <= 0 &&\n         range.compareBoundaryPoints(Range.END_TO_END, nodeRange) >= 0\n}\n\nfunction canSurroundContents (range) {\n  if (!range || !range.startContainer || !range.endContainer) {\n    return false\n  }\n\n  if (range.startContainer === range.endContainer) return true\n\n  // Create a custom node iterator for the common ancestor container\n  const iterator = createNodeIterator(range.commonAncestorContainer, function (node) {\n    return range.isPointInRange(node, 0)\n  })\n\n  let currentNode\n  let boundariesInvalid = false\n\n  while ((currentNode = iterator.next())) {\n    if (currentNode.nodeType === Node.ELEMENT_NODE) {\n      if (!isNodeFullyContained(currentNode, range)) {\n        boundariesInvalid = true\n        break\n      }\n    }\n  }\n\n  return !boundariesInvalid\n}\n","import config from './config.js'\nimport * as content from './content.js'\n\nlet nextBlockId = 1\nconst state = {}\n\nexport const next = getSibling('nextElementSibling')\nexport const previous = getSibling('previousElementSibling')\n\nexport function init (elem, {normalize, plainText, shouldSpellcheck}) {\n  setBlockId(elem)\n\n  elem.setAttribute('contenteditable', true)\n  elem.setAttribute('spellcheck', Boolean(shouldSpellcheck))\n  elem.setAttribute('data-plaintext', Boolean(plainText))\n\n  elem.classList.remove(config.editableDisabledClass)\n  elem.classList.add(config.editableClass)\n\n  if (normalize) content.tidyHtml(elem)\n}\n\n\nexport function disable (elem) {\n  elem.removeAttribute('contenteditable')\n  elem.removeAttribute('spellcheck')\n  elem.removeAttribute('data-plaintext')\n\n  setState(elem, undefined)\n\n  elem.classList.remove(config.editableClass)\n  elem.classList.add(config.editableDisabledClass)\n}\n\nexport function isPlainTextBlock (elem) {\n  return elem.getAttribute('data-plaintext') === 'true'\n}\n\nexport function setBlockId (elem) {\n  if (!elem.hasAttribute('data-editable')) {\n    elem.setAttribute('data-editable', `id-${nextBlockId}`)\n    nextBlockId += 1\n  }\n}\n\n\nexport function getState (elem) {\n  if (elem.hasAttribute('data-editable')) {\n    const id = elem.getAttribute('data-editable')\n    return state[id]\n  }\n}\n\n\nexport function setState (elem, data) {\n  if (elem.hasAttribute('data-editable')) {\n    const id = elem.getAttribute('data-editable')\n    state[id] = data\n  }\n}\n\n\n// Helpers\n// -------\n\nfunction getSibling (type) {\n  return function (element) {\n    const sibling = element[type]\n    return sibling && sibling.getAttribute('contenteditable')\n      ? sibling\n      : null\n  }\n}\n","function _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nexport { _arrayLikeToArray as default };","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? arrayLikeToArray(r, a) : void 0;\n  }\n}\nexport { _unsupportedIterableToArray as default };","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nfunction _toConsumableArray(r) {\n  return arrayWithoutHoles(r) || iterableToArray(r) || unsupportedIterableToArray(r) || nonIterableSpread();\n}\nexport { _toConsumableArray as default };","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nfunction _arrayWithoutHoles(r) {\n  if (Array.isArray(r)) return arrayLikeToArray(r);\n}\nexport { _arrayWithoutHoles as default };","function _iterableToArray(r) {\n  if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r);\n}\nexport { _iterableToArray as default };","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nexport { _nonIterableSpread as default };","const doubleQuotePairs = [\n  ['', ''], // ch german, french\n  ['', ''], // danish\n  ['\"', '\"'], // danish, not specified\n  ['', ''], // english US\n  ['', ''], // swedish\n  ['', ''], // chinese simplified\n  ['', ''] // german\n]\nconst singleQuotePairs = [\n  ['', ''], // english UK\n  ['', ''], // ch german, french\n  ['', ''], // german\n  ['', ''], // swedish\n  ['', ''], // danish\n  [`'`, `'`], // danish, not specified\n  [``, ``] // chinese simplified\n]\n\nconst apostrophe = [\n  '', // german\n  `'` // default\n]\nconst quotesRegex = /(['\"])(?![^<]*?>)/g\n// whitespace end of tag, or any dash (normal, en or em-dash)\n// or any opening double quote\nconst beforeOpeningQuote = /\\s|[>\\-\"]/\n\n// whitespace begin of tag, or any dash (normal, en or em-dash)\n// or any closing quote, or any punctuation\nconst afterClosingQuote = /\\s|[<\\-\"'.;?:,]/\nlet replacements\n\nexport function replaceAllQuotes (str, replaceQuotesRules) {\n  replacements = replaceQuotesRules || {}\n  replacements.quotes = replacements.quotes || [undefined, undefined]\n  replacements.singleQuotes = replacements.singleQuotes || [undefined, undefined]\n\n  const matches = getAllQuotes(str)\n  if (matches.length > 0) {\n    replaceMatchedQuotes(matches, 0)\n    return replaceExistingQuotes(str, matches)\n  }\n\n  return str\n}\n\nfunction replaceMatchedQuotes (matches, position) {\n\n  while (position < matches.length) {\n    const closingTag = findClosingQuote(matches, position)\n\n    if (closingTag) {\n      matches[position].replace = closingTag.type === 'double'\n        ? replacements.quotes[0]\n        : replacements.singleQuotes[0]\n\n      matches[closingTag.position].replace = closingTag.type === 'double'\n        ? replacements.quotes[1]\n        : replacements.singleQuotes[1]\n\n      if (closingTag.position !== position + 1) {\n        const nestedMatches = matches.slice(position + 1, closingTag.position)\n        if (nestedMatches) {\n          replaceMatchedQuotes(nestedMatches, 0)\n        }\n      }\n\n      position = closingTag.position + 1\n    } else {\n      matches[position].replace = replaceApostrophe(matches[position].char)\n      position += 1\n    }\n  }\n}\n\nfunction findClosingQuote (matches, position) {\n  if (position === matches.length - 1) return\n  const current = matches[position]\n  const openingQuote = current.char\n\n  if (current.before && !beforeOpeningQuote.test(current.before)) return\n\n  const possibleClosingSingleQuotes = getPossibleClosingQuotes(openingQuote, singleQuotePairs)\n  const possibleClosingDoubleQuotes = getPossibleClosingQuotes(openingQuote, doubleQuotePairs)\n  for (let i = position + 1; i < matches.length; i++) {\n    if ((matches[i].after && afterClosingQuote.test(matches[i].after)) || !matches[i].after) {\n      if (possibleClosingSingleQuotes.includes(matches[i].char)) {\n        return {position: i, type: 'single'}\n      }\n      if (possibleClosingDoubleQuotes.includes(matches[i].char)) {\n        return {position: i, type: 'double'}\n      }\n    }\n  }\n}\n\nfunction getPossibleClosingQuotes (openingQuote, pairs) {\n  return pairs.filter(quotePair => quotePair[0] === openingQuote).map((quotePair) => quotePair[1])\n}\n\nfunction replaceApostrophe (quote) {\n  if (apostrophe.includes(quote)) {\n    return replacements.apostrophe\n  }\n}\n\nfunction getAllQuotes (str) {\n  return [...str.matchAll(quotesRegex)].map((match) => {\n    const index = match.index\n    return {\n      char: match[1],\n      before: index > 0 ? str[index - 1] : '',\n      after: (index + 1) < str.length ? str[index + 1] : ''\n    }\n  })\n}\n\nfunction replaceExistingQuotes (str, matches) {\n  let index = 0\n  return str.replace(quotesRegex, (match) => {\n    const replacement = matches[index].replace || matches[index].char\n    index += 1\n    return replacement\n  })\n}\n","import config from './config.js'\nimport * as string from './util/string.js'\nimport * as nodeType from './node-type.js'\nimport * as quotes from './quotes.js'\nimport {isPlainTextBlock} from './block.js'\n\nlet allowedElements, allowedPlainTextElements, requiredAttributes, transformElements, blockLevelElements, replaceQuotes\nlet splitIntoBlocks, blacklistedElements\nconst whitespaceOnly = /^\\s*$/\nconst blockPlaceholder = '<!-- BLOCK -->'\nlet keepInternalRelativeLinks\n\nupdateConfig(config)\nexport function updateConfig (conf) {\n  const rules = conf.pastedHtmlRules\n  allowedElements = rules.allowedElements || {}\n  allowedPlainTextElements = rules.allowedPlainTextElements || {}\n  requiredAttributes = rules.requiredAttributes || {}\n  transformElements = rules.transformElements || {}\n  blacklistedElements = rules.blacklistedElements || []\n  keepInternalRelativeLinks = rules.keepInternalRelativeLinks || false\n  replaceQuotes = rules.replaceQuotes || {}\n\n  blockLevelElements = {}\n  rules.blockLevelElements.forEach((name) => { blockLevelElements[name] = true })\n  splitIntoBlocks = {}\n  rules.splitIntoBlocks.forEach((name) => { splitIntoBlocks[name] = true })\n}\n\nexport function paste (block, cursor, clipboardContent) {\n  const document = block.ownerDocument\n  block.setAttribute(config.pastingAttribute, true)\n\n  if (cursor.isSelection) {\n    cursor = cursor.deleteExactSurroundingTags()\n      .deleteContainedTags()\n      .deleteContent()\n  }\n\n  // Create a placeholder to help parse HTML\n  const pasteHolder = document.createElement('div')\n  pasteHolder.innerHTML = clipboardContent\n\n  const isPlainText = isPlainTextBlock(block)\n  const blocks = parseContent(pasteHolder, {plainText: isPlainText})\n\n  block.removeAttribute(config.pastingAttribute)\n  return {blocks, cursor}\n}\n\n/**\n * - Parse pasted content\n * - Split it up into blocks\n * - clean and normalize every block\n * - optionally strip the host location an anchorTag-href\n *   www.livindocs.io/internalLink -> /internalLink\n *\n * @param {DOM node} A container where the pasted content is located.\n * @returns {Array of Strings} An array of cleaned innerHTML like strings.\n */\nexport function parseContent (element, {plainText = false} = {}) {\n  const options = {\n    allowedElements: plainText ? allowedPlainTextElements : allowedElements,\n    keepInternalRelativeLinks: plainText ? false : keepInternalRelativeLinks\n  }\n\n  // Filter pasted content\n  return filterHtmlElements(element, options)\n  // Handle Blocks\n    .split(blockPlaceholder)\n    .map((entry) => string.trim(cleanWhitespace(replaceAllQuotes(entry))))\n    .filter((entry) => !whitespaceOnly.test(entry))\n}\n\nfunction filterHtmlElements (elem, options) {\n  return Array.from(elem.childNodes).reduce((content, child) => {\n    if (blacklistedElements.indexOf(child.nodeName.toLowerCase()) !== -1) {\n      return ''\n    }\n\n    // Keep internal relative links relative (on paste).\n    if (options.keepInternalRelativeLinks && child.nodeName === 'A' && child.href) {\n      const stripInternalHost = child.getAttribute('href').replace(window.location.origin, '')\n      child.setAttribute('href', stripInternalHost)\n    }\n\n    if (child.nodeType === nodeType.elementNode) {\n      const childContent = filterHtmlElements(child, options)\n      return content + conditionalNodeWrap(child, childContent, options)\n    }\n\n    // Escape HTML characters <, > and &\n    if (child.nodeType === nodeType.textNode) return content + string.escapeHtml(child.nodeValue)\n    return content\n  }, '')\n}\n\nfunction conditionalNodeWrap (child, content, options) {\n  let nodeName = child.nodeName.toLowerCase()\n  nodeName = transformNodeName(nodeName)\n\n  if (shouldKeepNode(nodeName, child, options)) {\n    const attributes = filterAttributes(nodeName, child)\n\n    if (nodeName === 'br') return `<${nodeName + attributes}>`\n\n    if (!whitespaceOnly.test(content)) {\n      return `<${nodeName + attributes}>${content}</${nodeName}>`\n    }\n\n    return content\n  }\n\n  if (splitIntoBlocks[nodeName]) {\n    return blockPlaceholder + content + blockPlaceholder\n  }\n\n  // prevent missing whitespace between text when block-level\n  // elements are removed.\n  if (blockLevelElements[nodeName]) return `${content} `\n\n  return content\n}\n\n// returns string of concatenated attributes e.g. 'target=\"_blank\" rel=\"nofollow\" href=\"/test.com\"'\nfunction filterAttributes (nodeName, node) {\n  return Array.from(node.attributes).reduce((attributes, {name, value}) => {\n    if (allowedElements[nodeName]?.[name] && value) {\n      return `${attributes} ${name}=\"${value}\"`\n    }\n    return attributes\n  }, '')\n}\n\nfunction transformNodeName (nodeName) {\n  return transformElements[nodeName] || nodeName\n}\n\nfunction hasRequiredAttributes (nodeName, node) {\n  const requiredAttrs = requiredAttributes[nodeName]\n  if (!requiredAttrs) return true\n\n  return !requiredAttrs.some((name) => !node.getAttribute(name))\n}\n\nfunction shouldKeepNode (nodeName, node, options) {\n  return options.allowedElements[nodeName] && hasRequiredAttributes(nodeName, node)\n}\n\nfunction cleanWhitespace (str) {\n  return str\n    .replace(/\\n/g, ' ')\n    .replace(/ {2,}/g, ' ')\n    .replace(/(.)\\u00A0/g, (match, group) => group + (/[\\u0020]/.test(group)\n      ? '\\u00A0'\n      : ' '\n    ))\n}\n\nfunction replaceAllQuotes (str) {\n  if (replaceQuotes.quotes || replaceQuotes.singleQuotes || replaceQuotes.apostrophe) {\n    return quotes.replaceAllQuotes(str, replaceQuotes)\n  }\n\n  return str\n}\n","/**\n* Check for contenteditable support\n*\n* (from Modernizr)\n* this is known to false positive in some mobile browsers\n* here is a whitelist of verified working browsers:\n* https://github.com/NielsLeenheer/html5test/blob/549f6eac866aa861d9649a0707ff2c0157895706/scripts/engine.js#L2083\n*/\nexport const contenteditable = typeof document.documentElement.contentEditable !== 'undefined'\n\n// Detect webkit browser engine\n// That way we can detect the contenteditable span bug on safari, but exclude chrome\n// Regex taken from: https://github.com/lancedikson/bowser/blob/f09411489ced05811c91cc6670a8e4ca9cbe39a7/src/parser-engines.js#L93-L106\n// Attention, this might be error prone as any engine version change breaks this.\nconst isBlink = /(apple)?webkit\\/537\\.36/i.test(window.navigator.userAgent)\nconst isWebkit = /(apple)?webkit/i.test(window.navigator.userAgent)\nconst webKit = !isBlink && isWebkit\n\n/**\n * Check selectionchange event (supported in IE, Chrome, Firefox and Safari)\n * Firefox supports it since version 52 (2017).\n * Opera has no support as of 2021.\n */\nconst hasNativeSelectionchangeSupport = (document) => {\n  const doc = document\n  const osc = doc.onselectionchange\n  if (osc !== undefined) {\n    try {\n      doc.onselectionchange = 0\n      return doc.onselectionchange === null\n    } catch (e) {\n    } finally {\n      doc.onselectionchange = osc\n    }\n  }\n  return false\n}\n\nexport const selectionchange = hasNativeSelectionchangeSupport(document)\n\n// See Keyboard.prototype.preventContenteditableBug for more information.\nexport const contenteditableSpanBug = !!webKit\n","// Eventable Mixin.\n//\n// Simple mixin to add event emitter methods to an object (Publish/Subscribe).\n//\n// Add on, off and notify methods to an object:\n// eventable(obj)\n//\n// publish an event:\n// obj.notify(context, 'action', param1, param2)\n//\n// Optionally pass a context that will be applied to every event:\n// eventable(obj, context)\n//\n// With this publishing can omit the context argument:\n// obj.notify('action', param1, param2)\n//\n// Subscribe to a 'channel'\n// obj.on('action', funtion(param1, param2){ ... })\n//\n// Unsubscribe an individual listener:\n// obj.off('action', method)\n//\n// Unsubscribe all listeners of a channel:\n// obj.off('action')\n//\n// Unsubscribe all listeners of all channels:\n// obj.off()\n\nexport default function eventable (obj, notifyContext) {\n  const events = getEventableModule(notifyContext)\n  obj.on = events.on\n  obj.off = events.off\n  obj.notify = events.notify\n}\n\nfunction getEventableModule (notifyContext) {\n  let listeners = {}\n\n  function addListener (events, listener) {\n    events.split(' ').forEach(event => {\n      listeners[event] = listeners[event] || []\n      listeners[event].unshift(listener)\n    })\n  }\n\n  function removeListener (event, listener) {\n    const eventListeners = listeners[event]\n    if (!eventListeners) return\n\n    const index = eventListeners.indexOf(listener)\n    if (index < 0) return\n\n    eventListeners.splice(index, 1)\n  }\n\n  // Public Methods\n  return {\n    on (event, listener) {\n      if (arguments.length === 2) {\n        addListener(event, listener)\n      } else if (arguments.length === 1) {\n        for (const eventType in event) addListener(eventType, event[eventType])\n      }\n      return this\n    },\n\n    off (event, listener) {\n      if (arguments.length === 2) {\n        removeListener(event, listener)\n      } else if (arguments.length === 1) {\n        listeners[event] = []\n      } else {\n        listeners = {}\n      }\n    },\n\n    notify (context, event) {\n      const args = Array.from(arguments)\n\n      if (notifyContext) {\n        event = context\n        context = notifyContext\n        args.splice(0, 1)\n      } else {\n        args.splice(0, 2)\n      }\n\n      if (this.switchContext) {\n        const nextEvent = this.switchContext.events.shift()\n        if (event !== nextEvent) this.switchContext = undefined\n      }\n\n      const eventListeners = listeners[event]\n      if (!eventListeners) return\n\n      // Execute the newest listeners first.\n      // Stop if a listener returns false.\n      eventListeners.every((listener) => listener.apply(context, args) !== false)\n    }\n  }\n}\n","// code from mdn: https://developer.mozilla.org/en-US/docs/Web/API/window.scrollX\nfunction getScrollPosition (win) {\n  const x = (win.pageXOffset !== undefined) ? win.pageXOffset : (win.document.documentElement || win.document.body.parentNode || win.document.body).scrollLeft\n  const y = (win.pageYOffset !== undefined) ? win.pageYOffset : (win.document.documentElement || win.document.body.parentNode || win.document.body).scrollTop\n  return {x, y}\n}\n\nexport {getScrollPosition}\n","import * as viewport from './util/viewport.js'\n\nimport * as content from './content.js'\nimport * as parser from './parser.js'\nimport * as string from './util/string.js'\nimport {elementNode, documentFragmentNode} from './node-type.js'\nimport error from './util/error.js'\nimport * as rangeSaveRestore from './range-save-restore.js'\nimport {closest, getSelection, rangesAreEqual} from './util/dom.js'\n\n/**\n * The Cursor module provides a cross-browser abstraction layer for cursor.\n *\n * @module core\n * @submodule cursor\n */\n\nexport default class Cursor {\n\n  static findHost (elem, selector) {\n    return closest(elem, selector)\n  }\n\n  /**\n  * Class for the Cursor module.\n  *\n  * @class Cursor\n  * @constructor\n  */\n  constructor (editableHost, range) {\n    this.setHost(editableHost)\n    this.range = range\n    this.isCursor = true\n  }\n\n  // Get all tags that affect the current selection. Optionally pass a\n  // method to filter the returned elements.\n  //\n  // @param {Function filter(node)} [Optional] Method to filter the returned\n  //   DOM Nodes.\n  // @return {Array of DOM Nodes}\n  getTags (filterFunc) {\n    return content.getTags(this.host, this.range, filterFunc)\n  }\n\n  // Get the names of all tags that affect the current selection. Optionally\n  // pass a method to filter the returned elements.\n  //\n  // @param {Function filter(node)} [Optional] Method to filter the DOM\n  //   Nodes whose names are returned.\n  // @return {Array<String> of tag names}\n  getTagNames (filterFunc) {\n    return content.getTagNames(this.getTags(filterFunc))\n  }\n\n  // Get all tags of the specified type that affect the current selection.\n  //\n  // @method getTagsByName\n  // @param {String} tagName. E.g. 'a' to get all links.\n  // @return {Array of DOM Nodes}\n  getTagsByName (tagName) {\n    return content.getTagsByName(this.host, this.range, tagName)\n  }\n\n  // Get all tags that are completely within the current selection.\n  getInnerTags (filterFunc) {\n    return content.getInnerTags(this.range, filterFunc)\n  }\n\n  // Get all tags whose text is completely within the current selection.\n  getContainedTags (filterFunc) {\n    return content.getContainedTags(this.range, filterFunc)\n  }\n\n  // Get all tags that surround the current selection.\n  getAncestorTags (filterFunc) {\n    return content.getAncestorTags(this.host, this.range, filterFunc)\n  }\n\n  isAtEnd () {\n    return parser.isEndOfHost(\n      this.host,\n      this.range.endContainer,\n      this.range.endOffset\n    )\n  }\n\n  isAtTextEnd () {\n    return parser.isTextEndOfHost(\n      this.host,\n      this.range.endContainer,\n      this.range.endOffset\n    )\n  }\n\n  isAtLastLine () {\n    const hostRange = this.win.document.createRange()\n    hostRange.selectNodeContents(this.host)\n    hostRange.collapse(false)\n    const hostCoords = getRangeBoundingClientRect(hostRange, this.win)\n    const cursorCoords = getRangeBoundingClientRect(this.range, this.win)\n    return isCloseTo(hostCoords.bottom, cursorCoords.bottom)\n  }\n\n  isAtFirstLine () {\n    const hostRange = this.win.document.createRange()\n    hostRange.selectNodeContents(this.host)\n    hostRange.collapse(true)\n    const hostCoords = getRangeBoundingClientRect(hostRange, this.win)\n    const cursorCoords = getRangeBoundingClientRect(this.range, this.win)\n    return isCloseTo(hostCoords.top, cursorCoords.top)\n  }\n\n  isAtBeginning () {\n    return parser.isBeginningOfHost(\n      this.host,\n      this.range.startContainer,\n      this.range.startOffset\n    )\n  }\n\n  // Insert content before the cursor\n  //\n  // @param {String, DOM node or document fragment}\n  insertBefore (element) {\n    if (string.isString(element)) element = content.createFragmentFromString(element)\n    if (parser.isDocumentFragmentWithoutChildren(element)) return\n\n    element = this.adoptElement(element)\n\n    let preceedingElement = element\n    if (element.nodeType === documentFragmentNode) {\n      const lastIndex = element.childNodes.length - 1\n      preceedingElement = element.childNodes[lastIndex]\n    }\n\n    this.range.insertNode(element)\n    this.range.setStartAfter(preceedingElement)\n    this.range.setEndAfter(preceedingElement)\n    this.host.normalize() // mend text nodes\n  }\n\n  // Insert content after the cursor\n  //\n  // @param {String, DOM node or document fragment}\n  insertAfter (element) {\n    if (string.isString(element)) element = content.createFragmentFromString(element)\n    if (parser.isDocumentFragmentWithoutChildren(element)) return\n\n    element = this.adoptElement(element)\n\n    const after = this.range.cloneRange()\n    after.setStart(after.endContainer, after.endOffset)\n    after.collapse(true)\n    after.insertNode(element)\n    this.host.normalize() // mend text nodes\n  }\n\n  // Alias for #setVisibleSelection()\n  setSelection () {\n    this.setVisibleSelection()\n  }\n\n  setVisibleSelection () {\n    if (this.win.document.activeElement !== this.host) {\n      const {x, y} = viewport.getScrollPosition(this.win)\n      this.win.scrollTo(x, y)\n    }\n\n    const selection = getSelection(this.win)\n    selection.removeAllRanges()\n    selection.addRange(this.range)\n  }\n\n  // Take the following example:\n  // (The character '|' represents the cursor position)\n  //\n  // <div contenteditable=\"true\">fo|o</div>\n  // before() will return a document fragment containing a text node 'fo'.\n  //\n  // @returns {Document Fragment} content before the cursor or selection.\n  before () {\n    const range = this.range.cloneRange()\n    range.collapse(true)\n    range.setStartBefore(this.host)\n    return content.cloneRangeContents(range)\n  }\n\n  textBefore () {\n    const range = this.range.cloneRange()\n    range.collapse(true)\n    range.setStartBefore(this.host)\n    return range.toString()\n  }\n\n  // Same as before() but returns a string.\n  beforeHtml () {\n    return content.getInnerHtmlOfFragment(this.before())\n  }\n\n  // Take the following example:\n  // (The character '|' represents the cursor position)\n  //\n  // <div contenteditable=\"true\">fo|o</div>\n  // after() will return a document fragment containing a text node 'o'.\n  //\n  // @returns {Document Fragment} content after the cursor or selection.\n  after () {\n    const range = this.range.cloneRange()\n    range.collapse(false)\n    range.setEndAfter(this.host)\n    return content.cloneRangeContents(range)\n  }\n\n  textAfter () {\n    const range = this.range.cloneRange()\n    range.collapse(false)\n    range.setEndAfter(this.host)\n    return range.toString()\n  }\n\n  // Same as after() but returns a string.\n  afterHtml () {\n    return content.getInnerHtmlOfFragment(this.after())\n  }\n\n  getBoundingClientRect () {\n    return this.range.getBoundingClientRect()\n  }\n\n  // Get the BoundingClientRect of the cursor.\n  // The returned values are transformed to be absolute\n  // (relative to the document).\n  getCoordinates (positioning = 'absolute') {\n    const coords = this.range.getBoundingClientRect()\n    if (positioning === 'fixed') return coords\n\n    // translate into absolute positions\n    const {x, y} = viewport.getScrollPosition(this.win)\n    return {\n      top: coords.top + y,\n      bottom: coords.bottom + y,\n      left: coords.left + x,\n      right: coords.right + x,\n      height: coords.height,\n      width: coords.width\n    }\n  }\n\n  moveBefore (element) {\n    this.updateHost(element)\n    this.range.setStartBefore(element)\n    this.range.setEndBefore(element)\n    if (this.isSelection) return new Cursor(this.host, this.range)\n  }\n\n  moveAfter (element) {\n    this.updateHost(element)\n    this.range.setStartAfter(element)\n    this.range.setEndAfter(element)\n    if (this.isSelection) return new Cursor(this.host, this.range)\n  }\n\n  // Move the cursor to the beginning of the host.\n  moveAtBeginning (element = this.host) {\n    this.updateHost(element)\n    this.range.selectNodeContents(element)\n    this.range.collapse(true)\n    if (this.isSelection) return new Cursor(this.host, this.range)\n  }\n\n  // Move the cursor to the end of the host.\n  moveAtEnd (element = this.host) {\n    this.updateHost(element)\n    this.range.selectNodeContents(element)\n    this.range.collapse(false)\n    if (this.isSelection) return new Cursor(this.host, this.range)\n  }\n\n  // Move the cursor after the last visible character of the host.\n  moveAtTextEnd (element) {\n    return this.moveAtEnd(parser.lastChild(element))\n  }\n\n  setHost (element) {\n    if (element.jquery) element = element[0]\n    this.host = element\n    this.win = (element === undefined || element === null) ? window : element.ownerDocument.defaultView\n  }\n\n  updateHost (element) {\n    const host = parser.getHost(element)\n    if (!host) error('Can not set cursor outside of an editable block')\n    this.setHost(host)\n  }\n\n  retainVisibleSelection (callback) {\n    this.save()\n    callback() // eslint-disable-line callback-return\n    this.restore()\n    this.setVisibleSelection()\n  }\n\n  save () {\n    this.savedRangeInfo = rangeSaveRestore.save(this.range)\n    this.savedRangeInfo.host = this.host\n  }\n\n  restore () {\n    if (!this.savedRangeInfo) error('Could not restore selection')\n\n    this.host = this.savedRangeInfo.host\n    this.range = rangeSaveRestore.restore(this.host, this.savedRangeInfo)\n    this.savedRangeInfo = undefined\n  }\n\n  equals (cursor) {\n    if (!cursor) return false\n\n    if (!cursor.host) return false\n    if (!cursor.host.isEqualNode(this.host)) return false\n\n    if (!cursor.range) return false\n    if (!rangesAreEqual(cursor.range, this.range)) return false\n\n    return true\n  }\n\n  // Create an element with the correct ownerWindow\n  // (see: http://www.w3.org/DOM/faq.html#ownerdoc)\n  createElement (tagName, attributes = {}) {\n    const element = this.win.document.createElement(tagName)\n    for (const attributeName in attributes) {\n      const attributeValue = attributes[attributeName]\n      element.setAttribute(attributeName, attributeValue)\n    }\n    return element\n  }\n\n  createTextNode (text) {\n    return this.win.document.createTextNode(text)\n  }\n\n  // Make sure a node has the correct ownerWindow\n  // (see: https://developer.mozilla.org/en-US/docs/Web/API/Document/importNode)\n  adoptElement (node) {\n    return content.adoptElement(node, this.win.document)\n  }\n\n  // Currently we call triggerChange manually after format changes.\n  // This is to prevent excessive triggering of the change event during\n  // merge or split operations or other manipulations by scripts.\n  triggerChange () {\n    const event = new Event('formatEditable', {bubbles: true, cancelable: false})\n    this.host.dispatchEvent(event)\n  }\n}\n\n\n/**\n* Get position of the range or cursor\n*\n* Can be used to reliably get the boundingClientRect without\n* some any of the drawbacks that the native range has.\n*\n* With the native range.getClientBoundingRect(), newlines are\n* not considered when calculating the position\n*\n* @param {Range} range\n* @param {Window} win\n*/\nfunction getRangeBoundingClientRect (range, win) {\n  if (range.startContainer.nodeType !== elementNode) return range.getBoundingClientRect()\n  const el = win.document.createElement('span')\n  el.setAttribute('doc-editable', 'unwrap')\n  range.insertNode(el)\n  const coords = el.getBoundingClientRect()\n  el.remove()\n  return coords\n}\n\nfunction isCloseTo (a, b) {\n  if (a === b) return true\n  if (Math.abs(a - b) <= 2) return true\n  return false\n}\n","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nfunction _slicedToArray(r, e) {\n  return arrayWithHoles(r) || iterableToArrayLimit(r, e) || unsupportedIterableToArray(r, e) || nonIterableRest();\n}\nexport { _slicedToArray as default };","function _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nexport { _arrayWithHoles as default };","function _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nexport { _iterableToArrayLimit as default };","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nexport { _nonIterableRest as default };","function _assertThisInitialized(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\nexport { _assertThisInitialized as default };","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nfunction _possibleConstructorReturn(t, e) {\n  if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e;\n  if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\");\n  return assertThisInitialized(t);\n}\nexport { _possibleConstructorReturn as default };","function _getPrototypeOf(t) {\n  return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) {\n    return t.__proto__ || Object.getPrototypeOf(t);\n  }, _getPrototypeOf(t);\n}\nexport { _getPrototypeOf as default };","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inherits(t, e) {\n  if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n  t.prototype = Object.create(e && e.prototype, {\n    constructor: {\n      value: t,\n      writable: !0,\n      configurable: !0\n    }\n  }), Object.defineProperty(t, \"prototype\", {\n    writable: !1\n  }), e && setPrototypeOf(t, e);\n}\nexport { _inherits as default };","import NodeIterator from './node-iterator.js'\nimport * as nodeType from './node-type.js'\nimport {createRange} from './util/dom.js'\n\nexport default {\n\n  // Get the text from an editable block with a NodeIterator.\n  // This must work the same as when later iterating over the text\n  // in highlightMatches().\n  extractText (element, convertBRs = true) {\n    let text = ''\n    getText(element, convertBRs, (part) => { text += part })\n    return text\n  },\n\n  // Go through the element to highlight the matches while keeping the\n  // existing html valid (highlighting a match may require inserting multiple\n  // elements).\n  //\n  // @params\n  // - matches\n  //   Array of positions in the string to highlight:\n  //   e.g [{\n  //         startIndex: 0,\n  //         endIndex: 1,\n  //         match: 'The', // not used, only the indexes are used for highlighting)\n  //         marker: DOMNode, // A clone of this element will be inserted\n  //         id: 'a7382', // used in word-id attribute\n  //         title: 'The World' // used in title attribute (optional)\n  //       }]\n  highlightMatches (element, matches, countBRs = true) {\n    if (!matches || matches.length === 0) {\n      return\n    }\n\n    element.normalize() // mend text nodes\n\n    const iterator = new NodeIterator(element)\n    let currentMatchIndex = 0\n    let totalOffset = 0\n    let currentMatch = matches[currentMatchIndex]\n    let portions = []\n    let next\n    let wordId\n    let textNode\n    while ((next = iterator.getNext())) {\n      // Account for <br> elements\n      if (next.nodeType === nodeType.textNode && next.data !== '') {\n        textNode = next\n      } else if (countBRs && next.nodeType === nodeType.elementNode && next.nodeName === 'BR') {\n        totalOffset += 1\n        continue\n      } else {\n        continue\n      }\n\n      const nodeText = textNode.data\n      let nodeEndOffset = totalOffset + nodeText.length\n      if (currentMatch.startIndex < nodeEndOffset && totalOffset < currentMatch.endIndex) {\n        // get portion position (fist, last or in the middle)\n        const isFirstPortion = totalOffset <= currentMatch.startIndex\n        const isLastPortion = nodeEndOffset >= currentMatch.endIndex\n\n        if (isFirstPortion) {\n          wordId = currentMatch.id || currentMatch.startIndex\n        }\n\n        // calculate offset and length\n        let offset\n        if (isFirstPortion) {\n          offset = currentMatch.startIndex - totalOffset\n        } else {\n          offset = 0\n        }\n\n        let length\n        if (isLastPortion) {\n          length = (currentMatch.endIndex - totalOffset) - offset\n        } else {\n          length = nodeText.length - offset\n        }\n\n        // create portion object\n        const portion = {\n          element: textNode,\n          text: nodeText.substring(offset, offset + length),\n          offset,\n          length,\n          isLastPortion,\n          wordId\n        }\n\n        portions.push(portion)\n\n        if (isLastPortion) {\n          const lastNode = this.wrapMatch(portions, currentMatch.marker, currentMatch.title)\n          iterator.replaceCurrent(lastNode)\n\n          // recalculate nodeEndOffset if we have to replace the current node.\n          nodeEndOffset = totalOffset + portion.length + portion.offset\n\n          portions = []\n          currentMatchIndex += 1\n          if (currentMatchIndex < matches.length) {\n            currentMatch = matches[currentMatchIndex]\n          }\n        }\n      }\n\n      totalOffset = nodeEndOffset\n    }\n  },\n\n  // @return the last wrapped element\n  wrapMatch (portions, stencilElement, title) {\n    return portions.map((portion) => this.wrapPortion(portion, stencilElement, title)).pop()\n  },\n\n  wrapPortion (portion, stencilElement, title) {\n    const range = createRange()\n    range.setStart(portion.element, portion.offset)\n    range.setEnd(portion.element, portion.offset + portion.length)\n    const node = stencilElement.cloneNode(true)\n    node.setAttribute('data-word-id', portion.wordId)\n    if (title) node.setAttribute('title', title)\n    range.surroundContents(node)\n\n    // Fix a weird behaviour where an empty text node is inserted after the range\n    if (node.nextSibling) {\n      const next = node.nextSibling\n      if (next.nodeType === nodeType.textNode && next.data === '') {\n        next.remove()\n      }\n    }\n\n    return node\n  }\n\n}\n\n// Extract the text of an element.\n// This has two notable behaviours:\n// - It uses a NodeIterator which will skip elements\n//   with data-editable=\"remove\"\n// - It returns a \\n for <br> elements\n//   (The only block level element allowed inside of editables)\nfunction getText (element, convertBRs, func) {\n  const iterator = new NodeIterator(element)\n  let next\n  while ((next = iterator.getNext())) {\n    if (next.nodeType === nodeType.textNode && next.data !== '') {\n      func(next.data)\n    } else if (convertBRs && next.nodeType === nodeType.elementNode && next.nodeName === 'BR') {\n      func('\\n')\n    }\n  }\n}\n","export function searchText (text, searchTerm, marker) {\n  const matchMode = 'text'\n  return findMatches(text, [searchTerm], matchMode, marker)\n}\n\nexport function searchWord (text, word, marker) {\n  const matchMode = 'word'\n  return findMatches(text, [word], matchMode, marker)\n}\n\nexport function searchAllWords (text, words, marker) {\n  const matchMode = 'word'\n  return findMatches(text, words, matchMode, marker)\n}\n\nfunction findMatches (text, searchTexts, matchMode, marker) {\n  if (!text || text === '') return []\n  if (marker && !isElement(marker)) return []\n  if (!searchTexts?.length) return []\n\n  const createRegex = matchMode === 'word'\n    ? createWordRegex\n    : createHighlightRegex\n\n  const regex = createRegex(searchTexts)\n  const matches = [...text.matchAll(regex)]\n\n  return matches.map((match) => {\n    let startIndex\n    let matchedText\n    if (matchMode === 'word') {\n      startIndex = match.index + match[1].length\n      matchedText = match[2]\n    } else {\n      startIndex = match.index\n      matchedText = match[0]\n    }\n\n    return {\n      startIndex,\n      endIndex: startIndex + matchedText.length,\n      match: matchedText,\n      marker\n    }\n  })\n}\n\nfunction isElement (obj) {\n  try {\n    if (!obj) return false\n    return obj instanceof obj.ownerDocument?.defaultView.HTMLElement\n  } catch (e) {\n    // Browsers not supporting W3 DOM2 don't have HTMLElement and\n    // an exception is thrown and we end up here. Testing some\n    // properties that all elements have (works on IE7)\n    return (typeof obj === 'object') &&\n      (obj.nodeType === 1) && (typeof obj.style === 'object') &&\n      (typeof obj.ownerDocument === 'object')\n  }\n}\n\nfunction createHighlightRegex (words = []) {\n  const escapedWords = words.map((word) => escapeRegEx(word))\n\n  const regex = `(${escapedWords.join('|')})`\n  return new RegExp(regex, 'g')\n}\n\n// Regex to find whole words within a string\n//\n// Unicode character blocks for letters.\n// See: http://jrgraphix.net/research/unicode_blocks.php\n//\n// \\\\u0041-\\\\u005A    A-Z (Basic Latin)\n// \\\\u0061-\\\\u007A    a-z (Basic Latin)\n// \\\\u0030-\\\\u0039    0-9 (Basic Latin)\n// \\\\u00AA               (Latin-1 Supplement)\n// \\\\u00B5               (Latin-1 Supplement)\n// \\\\u00BA               (Latin-1 Supplement)\n// \\\\u00C0-\\\\u00D6    - (Latin-1 Supplement)\n// \\\\u00D8-\\\\u00F6    - (Latin-1 Supplement)\n// \\\\u00F8-\\\\u00FF    - (Latin-1 Supplement)\n// \\\\u0100-\\\\u017F    - (Latin Extended-A)\n// \\\\u0180-\\\\u024F    - (Latin Extended-B)\nconst letterChars = '\\\\u0041-\\\\u005A\\\\u0061-\\\\u007A\\\\u0030-\\\\u0039\\\\u00AA\\\\u00B5\\\\u00BA\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u00FF\\\\u0100-\\\\u017F\\\\u0180-\\\\u024F'\n\nfunction createWordRegex (words = []) {\n  const escapedWords = words.map((word) => escapeRegEx(word))\n\n  // (notLetter|^)(words)(?=notLetter|$)\n  const regex = `([^${letterChars}]|^)` +\n    `(${escapedWords.join('|')})` +\n    `(?=[^${letterChars}]|$)`\n\n  return new RegExp(regex, 'g')\n}\n\nfunction escapeRegEx (s) {\n  return String(s).replace(/([.*+?^=!:${}()|[\\]/\\\\])/g, '\\\\$1')\n}\n","import * as content from './content.js'\nimport highlightText from './highlight-text.js'\nimport {searchText} from './plugins/highlighting/text-search.js'\nimport {createElement, createRange, toCharacterRange} from './util/dom.js'\n\nconst highlightSupport = {\n\n  // Used to highlight arbitrary text in an editable. All occurrences\n  // will be highlighted.\n  highlightText (editableHost, text, highlightId, type, dispatcher) {\n    if (this.hasHighlight(editableHost, highlightId)) return\n    const blockText = highlightText.extractText(editableHost)\n\n    const marker = `<span class=\"highlight-${type}\"></span>`\n    const markerNode = highlightSupport.createMarkerNode(marker, type, this.win)\n\n    const matches = searchText(blockText, text, markerNode)\n\n    if (matches && matches.length) {\n      if (highlightId) matches[0].id = highlightId\n      highlightText.highlightMatches(editableHost, matches)\n      if (dispatcher) dispatcher.notify('change', editableHost)\n      return matches[0].startIndex\n    }\n  },\n\n  // Used to highlight comments.\n  // This function was changed to track matches when text is added to the start\n  // of a component, but multiple white spaces break it in a strict sense\n  // The function works in the editor and in browsers, but tests with\n  // multiple white spaces will fail.\n  // Browsers change the white spaces to &nbsp and the function works,\n  // and the tests in highlight.spec.js have been updated to represent this.\n  highlightRange (editableHost, text, highlightId, startIndex, endIndex, dispatcher, type = 'comment') {\n    if (this.hasHighlight(editableHost, highlightId)) {\n      this.removeHighlight(editableHost, highlightId)\n    }\n\n    const blockText = highlightText.extractText(editableHost, false)\n    if (blockText === '') return -1 // the text was deleted so we can't highlight anything\n\n    const marker = highlightSupport.createMarkerNode(\n      `<span class=\"highlight-${type}\"></span>`,\n      type,\n      this.win\n    )\n\n    const actualStartIndex = startIndex\n    const actualEndIndex = endIndex\n\n    highlightText.highlightMatches(editableHost, [{\n      startIndex: actualStartIndex,\n      endIndex: actualEndIndex,\n      id: highlightId,\n      marker\n    }], false)\n\n    if (dispatcher) dispatcher.notify('change', editableHost)\n\n    return actualStartIndex\n  },\n\n  updateHighlight (editableHost, highlightId, addCssClass, removeCssClass) {\n    if (!document.documentElement.classList) return\n\n    const elems = editableHost.querySelectorAll(`[data-word-id=\"${highlightId}\"]`)\n    for (const elem of elems) {\n      if (removeCssClass) elem.classList.remove(removeCssClass)\n      if (addCssClass) elem.classList.add(addCssClass)\n    }\n  },\n\n  removeHighlight (editableHost, highlightId, dispatcher) {\n    const elems = editableHost.querySelectorAll(`[data-word-id=\"${highlightId}\"]`)\n    for (const elem of elems) {\n      content.unwrap(elem)\n    }\n\n    // remove empty text nodes, combine adjacent text nodes\n    editableHost.normalize()\n\n    if (dispatcher) dispatcher.notify('change', editableHost)\n  },\n\n  hasHighlight (editableHost, highlightId) {\n    const matches = editableHost.querySelectorAll(`[data-word-id=\"${highlightId}\"]`)\n    return !!matches.length\n  },\n\n  extractHighlightedRanges (editableHost, type) {\n    let findMarkersQuery = '[data-word-id]'\n    if (type) findMarkersQuery += `[data-highlight=\"${type}\"]`\n    const markers = editableHost.querySelectorAll(findMarkersQuery)\n    if (!markers.length) return\n\n    const groups = {}\n    for (const marker of markers) {\n      const highlightId = marker.getAttribute('data-word-id')\n      if (!groups[highlightId]) {\n        groups[highlightId] = editableHost.querySelectorAll(`[data-word-id=\"${highlightId}\"]`)\n      }\n    }\n\n    const res = {}\n    for (const highlightId in groups) {\n      const position = this.extractMarkerNodePosition(editableHost, groups[highlightId])\n      if (position) res[highlightId] = position\n    }\n\n    return res\n  },\n\n  extractMarkerNodePosition (editableHost, markers) {\n    const range = createRange()\n    if (markers.length > 1) {\n      range.setStartBefore(markers[0])\n      range.setEndAfter(markers[markers.length - 1])\n    } else {\n      range.selectNode(markers[0])\n    }\n\n    const textRange = toCharacterRange(range, editableHost)\n    return {\n      start: textRange.start,\n      end: textRange.end,\n      text: textRange.text, // browser range result (does whitespace normalization)\n      nativeRange: range\n    }\n  },\n\n  cleanupStaleMarkerNodes (editableHost, highlightType) {\n    const nodes = editableHost.querySelectorAll(`span[data-highlight=\"${highlightType}\"]`)\n    for (const node of nodes) {\n      if (!node.textContent.length) {\n        node.remove()\n      }\n    }\n  },\n\n  createMarkerNode (markerMarkup, highlightType, win) {\n    const marker = createElement(markerMarkup, win)\n    marker.setAttribute('data-editable', 'ui-unwrap')\n    marker.setAttribute('data-highlight', highlightType)\n    return marker\n  }\n}\n\nexport default highlightSupport\n","import Cursor from './cursor.js'\nimport * as content from './content.js'\nimport * as parser from './parser.js'\nimport * as block from './block.js'\nimport config from './config.js'\nimport highlightSupport from './highlight-support.js'\nimport highlightText from './highlight-text.js'\nimport {\n  toCharacterRange,\n  rangeToHtml,\n  findStartExcludingWhitespace,\n  findEndExcludingWhitespace\n} from './util/dom.js'\n\n/**\n * The Selection module provides a cross-browser abstraction layer for range\n * and selection.\n *\n * @module core\n * @submodule selection\n */\n/**\n * Class that represents a selection and provides functionality to access or\n * modify the selection.\n *\n * @class Selection\n * @constructor\n */\n\nexport default class Selection extends Cursor {\n  constructor () {\n    super(...arguments)\n    delete this.isCursor\n    this.isSelection = true\n  }\n\n  // Get the text inside the selection.\n  text () {\n    return this.range.toString()\n  }\n\n  // Get the html inside the selection.\n  html () {\n    return rangeToHtml(this.range)\n  }\n\n  isAllSelected () {\n    return parser.isBeginningOfHost(\n      this.host,\n      this.range.startContainer,\n      this.range.startOffset\n    ) && parser.isTextEndOfHost(\n      this.host,\n      this.range.endContainer,\n      this.range.endOffset\n    )\n  }\n\n  getTextRange () {\n    return toCharacterRange(this.range, this.host)\n  }\n\n  // Return a plain string of the current selection content.\n  toString () {\n    return this.range.toString()\n  }\n\n  // Return true if the selection can be wrapped, i.e. all open nodes\n  // are closed within this selection.\n  isWrappable () {\n    return content.isWrappable(this.range)\n  }\n\n  // Get the ClientRects of this selection.\n  // Use this if you want more precision than getBoundingClientRect can give.\n  getRects () {\n    // consider: translate into absolute positions\n    // just like Cursor#getCoordinates()\n    return this.range.getClientRects()\n  }\n\n  link (href, attrs = {}) {\n    if (href) attrs.href = href\n    const link = this.createElement(config.linkMarkup.name, config.linkMarkup.attribs)\n    for (const key in attrs) {\n      const value = attrs[key]\n      if (value === undefined) continue\n      if (value === null) {\n        link.removeAttribute(key)\n      } else {\n        link.setAttribute(key, value)\n      }\n    }\n    if (config.linkMarkup.trim) this.trimRange()\n\n    this.forceWrap(link)\n  }\n\n  // trims whitespaces on the left and right of a selection, i.e. what you want in case of links\n  trimRange () {\n    const textToTrim = this.range.toString()\n    const whitespacesOnTheLeft = textToTrim.search(/\\S|$/)\n    const lastNonWhitespace = textToTrim.search(/\\S[\\s]+$/)\n    const whitespacesOnTheRight = lastNonWhitespace === -1\n      ? 0\n      : textToTrim.length - (lastNonWhitespace + 1)\n\n    const [startContainer, startOffset] = findStartExcludingWhitespace({\n      root: this.range.commonAncestorContainer,\n      startContainer: this.range.startContainer,\n      startOffset: this.range.startOffset,\n      whitespacesOnTheLeft\n    })\n    this.range.setStart(startContainer, startOffset)\n\n    const [endContainer, endOffset] = findEndExcludingWhitespace({\n      root: this.range.commonAncestorContainer,\n      endContainer: this.range.endContainer,\n      endOffset: this.range.endOffset,\n      whitespacesOnTheRight\n    })\n    this.range.setEnd(endContainer, endOffset)\n  }\n\n  unlink () {\n    this.removeFormatting(config.linkMarkup.name)\n  }\n\n  toggleLink (href, attrs) {\n    const links = this.getTagsByName(config.linkMarkup.name)\n    if (links.length >= 1) {\n      const firstLink = links[0]\n      if (this.isExactSelection(firstLink, 'visible')) {\n        this.unlink()\n      } else {\n        this.expandTo(firstLink)\n      }\n    } else {\n      this.link(href, attrs)\n    }\n  }\n\n  highlightComment ({highlightId, textRange}) {\n    highlightSupport.highlightRange(\n      this.host,\n      highlightId,\n      textRange.text,\n      textRange.start,\n      textRange.end,\n      undefined, // dispatcher\n      'comment'\n    )\n  }\n\n  // Manually add a highlight\n  // Note: the current code does not work with newlines (LP)\n  highlight ({highlightId}) {\n    const textBefore = this.textBefore()\n    const currentTextContent = this.text()\n\n    const marker = '<span class=\"highlight-comment\"></span>'\n    const markerNode = highlightSupport.createMarkerNode(marker, this.win)\n\n    markerNode.setAttribute('data-match', currentTextContent)\n\n    const match = {\n      startIndex: textBefore.length,\n      endIndex: textBefore.length + currentTextContent.length,\n      match: currentTextContent,\n      marker: markerNode\n    }\n\n    // Note: highlighting won't retain the selection\n    highlightText.highlightMatches(this.host, [match])\n  }\n\n  // e.g. toggle('<em>')\n  toggle (elem) {\n    if (block.isPlainTextBlock(this.host)) return\n    if (this.range.collapsed) return\n    elem = this.adoptElement(elem)\n    this.range = content.toggleTag(this.host, this.range, elem)\n    this.setVisibleSelection()\n  }\n\n  toggleCustom ({tagName, attributes, trim = false}) {\n    const customElem = this.createElement(tagName, attributes)\n    if (trim) this.trimRange()\n    this.toggle(customElem)\n  }\n\n  makeCustom ({tagName, attributes, trim = false}) {\n    const customElem = this.createElement(tagName, attributes)\n    if (trim) this.trimRange()\n    this.forceWrap(customElem)\n  }\n\n  makeBold () {\n    const bold = this.createElement(config.boldMarkup.name, config.boldMarkup.attribs)\n    if (config.boldMarkup.trim) this.trimRange()\n    this.forceWrap(bold)\n  }\n\n  toggleBold () {\n    const bold = this.createElement(config.boldMarkup.name, config.boldMarkup.attribs)\n    if (config.boldMarkup.trim) this.trimRange()\n    this.toggle(bold)\n  }\n\n  giveEmphasis () {\n    const em = this.createElement(config.italicMarkup.name, config.italicMarkup.attribs)\n    if (config.italicMarkup.trim) this.trimRange()\n    this.forceWrap(em)\n  }\n\n  toggleEmphasis () {\n    const em = this.createElement(config.italicMarkup.name, config.italicMarkup.attribs)\n    if (config.italicMarkup.trim) this.trimRange()\n    this.toggle(em)\n  }\n\n  makeUnderline () {\n    const u = this.createElement(config.underlineMarkup.name, config.underlineMarkup.attribs)\n    if (config.underlineMarkup.trim) this.trimRange()\n    this.forceWrap(u)\n  }\n\n  toggleUnderline () {\n    const u = this.createElement(config.underlineMarkup.name, config.underlineMarkup.attribs)\n    if (config.underlineMarkup.trim) this.trimRange()\n    this.toggle(u)\n  }\n\n  insertCharacter (character) {\n    const cursor = this.deleteContent()\n    const textNode = cursor.createTextNode(character)\n    cursor.insertBefore(textNode)\n    cursor.setVisibleSelection()\n    return cursor\n  }\n\n  // Surround the selection with characters like quotes.\n  //\n  // @param {String} E.g. ''\n  // @param {String} E.g. ''\n  surround (startCharacter, endCharacter) {\n    this.range = content.surround(this.host, this.range, startCharacter, endCharacter)\n    this.setVisibleSelection()\n  }\n\n  removeSurround (startCharacter, endCharacter) {\n    this.range = content.deleteCharacter(this.host, this.range, startCharacter)\n    this.range = content.deleteCharacter(this.host, this.range, endCharacter)\n    this.setVisibleSelection()\n  }\n\n  removeChars (chars = []) {\n    for (let i = 0; i < chars.length; i++) {\n      const char = chars[i]\n      this.range = content.deleteCharacter(this.host, this.range, char)\n    }\n    this.setVisibleSelection()\n  }\n\n  toggleSurround (startCharacter, endCharacter) {\n    if (this.containsString(startCharacter) &&\n    this.containsString(endCharacter)) {\n      this.removeSurround(startCharacter, endCharacter)\n    } else {\n      this.surround(startCharacter, endCharacter)\n    }\n  }\n\n  // @param {String} selector. An element selector, e.g. 'a' or 'span.some-class'\n  //                           that represents elements to be removed; if undefined,\n  //                           remove all.\n  removeFormatting (selector) {\n    this.range = content.removeFormatting(this.host, this.range, selector)\n    this.setVisibleSelection()\n  }\n\n  // Delete the farest ancestor that is an exact selection\n  //\n  // @return Selection instance\n  deleteExactSurroundingTags () {\n    const ancestorTags = this.getAncestorTags().reverse()\n    for (const ancestorTag of ancestorTags) {\n      if (this.isExactSelection(ancestorTag)) {\n        ancestorTag.remove()\n        break\n      }\n    }\n    return new Selection(this.host, this.range)\n  }\n\n  // Delete all the tags whose text is completely within the current selection.\n  //\n  // @return Selection instance\n  deleteContainedTags () {\n    const containedTags = this.getContainedTags()\n    containedTags.forEach(containedTag => containedTag.remove())\n    return new Selection(this.host, this.range)\n  }\n\n  // Delete the contents inside the range and exact surrounding markups.\n  // After that the selection will be a cursor.\n  //\n  // @return Cursor instance\n  deleteContent () {\n    this.range.deleteContents()\n    return new Cursor(this.host, this.range)\n  }\n\n  // Expand the current selection.\n  //\n  // @param {DOM Node}\n  expandTo (elem) {\n    this.range = content.expandTo(this.host, this.range, elem)\n    this.setVisibleSelection()\n  }\n\n  //  Collapse the selection at the beginning of the selection\n  //\n  //  @return Cursor instance\n  collapseAtBeginning (elem) {\n    this.range.collapse(true)\n    this.setVisibleSelection()\n    return new Cursor(this.host, this.range)\n  }\n\n  //  Collapse the selection at the end of the selection\n  //\n  //  @return Cursor instance\n  collapseAtEnd (elem) {\n    this.range.collapse(false)\n    this.setVisibleSelection()\n    return new Cursor(this.host, this.range)\n  }\n\n  // Wrap the selection with the specified tag. If any other tag with\n  // the same tagName is affecting the selection this tag will be\n  // remove first.\n  forceWrap (elem) {\n    if (block.isPlainTextBlock(this.host)) return\n    if (this.range.collapsed) return\n    elem = this.adoptElement(elem)\n    this.range = content.forceWrap(this.host, this.range, elem)\n    this.setVisibleSelection()\n  }\n\n  // Check if the selection is the same as the elements contents.\n  //\n  // @method isExactSelection\n  // @param {DOM Node}\n  // @param {flag:  undefined or 'visible'} if 'visible' is passed\n  //   whitespaces at the beginning or end of the selection will\n  //   be ignored.\n  // @return {Boolean}\n  isExactSelection (elem, onlyVisible) {\n    return content.isExactSelection(this.range, elem, onlyVisible)\n  }\n\n  // Check if the selection contains the passed string.\n  //\n  // @method containsString\n  // @return {Boolean}\n  containsString (str) {\n    return content.containsString(this.range, str)\n  }\n\n  // Delete all occurrences of the specified character from the\n  // selection.\n  deleteCharacter (character) {\n    this.range = content.deleteCharacter(this.host, this.range, character)\n    this.setVisibleSelection()\n  }\n}\n","import Cursor from './cursor.js'\nimport Selection from './selection.js'\nimport {rangesAreEqual} from './util/dom.js'\n\n/** RangeContainer\n *\n * primarily used to compare ranges\n * its designed to work with undefined ranges as well\n * so we can easily compare them without checking for undefined\n * all the time\n */\n\nexport default class RangeContainer {\n  constructor (editableHost, range) {\n    this.host = editableHost && editableHost.jquery\n      ? editableHost[0]\n      : editableHost\n    // Safari 17 seems to modify the range instance on the fly which breaks later comparisons.\n    // We clone the range at the time of the RangeContainer creation.\n    // https://developer.apple.com/documentation/safari-release-notes/safari-17-release-notes#New-Features\n    this.range = range?.cloneRange()\n    this.isAnythingSelected = (range !== undefined)\n    this.isCursor = (this.isAnythingSelected && range.collapsed)\n    this.isSelection = (this.isAnythingSelected && !this.isCursor)\n  }\n\n  getCursor () {\n    if (this.isCursor) return new Cursor(this.host, this.range)\n  }\n\n  getSelection () {\n    if (this.isSelection) return new Selection(this.host, this.range)\n  }\n\n  forceCursor () {\n    if (!this.isSelection) return this.getCursor()\n    return this.getSelection().deleteContent()\n  }\n\n  isDifferentFrom (otherRangeContainer = new RangeContainer()) {\n    const self = this.range\n    const other = otherRangeContainer.range\n    if (self && other) return !rangesAreEqual(self, other)\n    if (!self && !other) return false\n    return true\n  }\n}\n","import * as parser from './parser.js'\nimport RangeContainer from './range-container.js'\nimport Cursor from './cursor.js'\nimport Selection from './selection.js'\nimport {getSelection} from './util/dom.js'\n\n/**\n * The SelectionWatcher module watches for selection changes inside\n * of editable blocks.\n *\n * @module core\n * @submodule selectionWatcher\n */\n\nexport default class SelectionWatcher {\n  constructor (dispatcher, win) {\n    this.dispatcher = dispatcher\n    this.win = win || window\n    this.selection = undefined\n    this.currentSelection = undefined\n    this.currentRange = undefined\n  }\n\n  /**\n   * Updates the internal selection pointer to the current selection.\n   * Returns true if no exception occurred.\n   */\n  syncSelection () {\n    // Note: the try catch was introduced because of rangy exceptions with nativeSelections\n    try {\n      this.selection = getSelection(this.win)\n    } catch (err) {\n      return false\n    }\n\n    return true\n  }\n\n  /**\n  * Return a RangeContainer if the current selection is within an editable\n  * otherwise return an empty RangeContainer\n  */\n  getRangeContainer () {\n    const successfulSync = this.syncSelection()\n\n    // rangeCount is 0 or 1 in all browsers except firefox\n    // firefox can work with multiple ranges\n    // (on a mac hold down the command key to select multiple ranges)\n    if (this.selection?.rangeCount && successfulSync) {\n      const range = this.selection.getRangeAt(0)\n      const hostNode = parser.getHost(range.commonAncestorContainer)\n      if (hostNode) return new RangeContainer(hostNode, range)\n    }\n\n    // return an empty range container\n    return new RangeContainer()\n  }\n\n  /**\n  * Gets a fresh RangeContainer with the current selection or cursor.\n  *\n  * @return RangeContainer instance\n  */\n  getFreshRange () {\n    return this.getRangeContainer()\n  }\n\n  /**\n  * Gets a fresh RangeContainer with the current selection or cursor.\n  *\n  * @return Either a Cursor or Selection instance or undefined if\n  * there is neither a selection or cursor.\n  */\n  getFreshSelection () {\n    const rangeContainer = this.getRangeContainer()\n\n    return rangeContainer.isCursor\n      ? rangeContainer.getCursor(this.win)\n      : rangeContainer.getSelection(this.win)\n  }\n\n  /**\n  * Get the selection set by the last selectionChanged event.\n  * Sometimes the event does not fire fast enough and the selection\n  * you get is not the one the user sees.\n  * In those cases use #getFreshSelection()\n  *\n  * @return Either a Cursor or Selection instance or undefined if\n  * there is neither a selection or cursor.\n  */\n  getSelection () {\n    return this.currentSelection\n  }\n\n  forceCursor () {\n    const rangeContainer = this.getRangeContainer()\n    return rangeContainer.forceCursor()\n  }\n\n  selectionChanged () {\n    const newRangeContainer = this.getRangeContainer()\n    if (newRangeContainer.isDifferentFrom(this.currentRange)) {\n      const lastSelection = this.currentSelection\n      this.currentRange = newRangeContainer\n\n      // empty selection or cursor\n      if (lastSelection) {\n        if (lastSelection.isCursor && !this.currentRange.isCursor) {\n          this.dispatcher.notify('cursor', lastSelection.host)\n        } else if (lastSelection.isSelection && !this.currentRange.isSelection) {\n          this.dispatcher.notify('selection', lastSelection.host)\n        }\n      }\n\n      // set new selection or cursor and fire event\n      if (this.currentRange.isCursor) {\n        this.currentSelection = new Cursor(this.currentRange.host, this.currentRange.range)\n        this.dispatcher.notify('cursor', this.currentSelection.host, this.currentSelection)\n      } else if (this.currentRange.isSelection) {\n        this.currentSelection = new Selection(this.currentRange.host, this.currentRange.range)\n        this.dispatcher.notify('selection', this.currentSelection.host, this.currentSelection)\n      } else {\n        this.currentSelection = undefined\n      }\n    }\n  }\n}\n","import {createRange, containsRange} from './util/dom.js'\nimport {contenteditableSpanBug} from './feature-detection.js'\nimport * as nodeType from './node-type.js'\nimport eventable from './eventable.js'\n\n/**\n * The Keyboard module defines an event API for key events.\n */\n\nexport default class Keyboard {\n  constructor (selectionWatcher) {\n    eventable(this)\n    this.selectionWatcher = selectionWatcher\n  }\n\n  dispatchKeyEvent (event, target, notifyCharacterEvent) {\n    switch (event.keyCode) {\n      case this.key.left:\n        return this.notify(target, 'left', event)\n\n      case this.key.right:\n        return this.notify(target, 'right', event)\n\n      case this.key.up:\n        return this.notify(target, 'up', event)\n\n      case this.key.down:\n        return this.notify(target, 'down', event)\n\n      case this.key.tab:\n        if (event.shiftKey) return this.notify(target, 'shiftTab', event)\n        return this.notify(target, 'tab', event)\n\n      case this.key.esc:\n        return this.notify(target, 'esc', event)\n\n      case this.key.backspace:\n        this.preventContenteditableBug(target, event)\n        return this.notify(target, 'backspace', event)\n\n      case this.key.delete:\n        this.preventContenteditableBug(target, event)\n        return this.notify(target, 'delete', event)\n\n      case this.key.enter:\n        if (event.shiftKey) return this.notify(target, 'shiftEnter', event)\n        return this.notify(target, 'enter', event)\n\n      case this.key.ctrl:\n      case this.key.shift:\n      case this.key.alt:\n        return\n\n      // Metakey\n      case 224: // Firefox: 224\n      case 17: // Opera: 17\n      case 91: // Chrome/Safari: 91 (Left)\n      case 93: // Chrome/Safari: 93 (Right)\n        return\n\n      default:\n        // Added here to avoid using fall-through in the switch\n        // when b or i are pressed without ctrlKey or metaKey\n        if (event.keyCode === this.key.b && (event.ctrlKey || event.metaKey)) {\n          return this.notify(target, 'bold', event)\n        }\n        if (event.keyCode === this.key.i && (event.ctrlKey || event.metaKey)) {\n          return this.notify(target, 'italic', event)\n        }\n\n        this.preventContenteditableBug(target, event)\n        if (!notifyCharacterEvent) return\n        // Don't notify character events as long as either the ctrl or\n        // meta key are pressed.\n        // see: https://github.com/livingdocsIO/editable.js/pull/125\n        if (!event.ctrlKey && !event.metaKey) return this.notify(target, 'character', event)\n    }\n  }\n\n  preventContenteditableBug (target, event) {\n    if (!contenteditableSpanBug) return\n    if (event.ctrlKey || event.metaKey) return\n\n    // This fixes a strange webkit bug that can be reproduced as follows:\n    //\n    // 1. A node used within a contenteditable has some style, e.g through the\n    //    following CSS:\n    //\n    //      strong {\n    //        color: red\n    //      }\n    //\n    // 2. A selection starts with the first character of a styled node and ends\n    //    outside of that node, e.g: \"big beautiful\" is selected in the following\n    //    html:\n    //\n    //      <p contenteditable=\"true\">\n    //        Hello <strong>big</strong> beautiful world\n    //      </p>\n    //\n    // 3. The user types a letter character to replace \"big beautiful\", e.g. \"x\"\n    //\n    // Result: Webkits adds <font> and <b> tags:\n    //\n    //    <p contenteditable=\"true\">\n    //      Hello\n    //      <font color=\"#ff0000\">\n    //        <b>f</b>\n    //      </font>\n    //      world\n    //    </p>\n    //\n    // This bug ONLY happens, if the first character of the node is selected and\n    // the selection goes further than the node.\n    //\n    // Solution:\n    //\n    // Manually remove the element that would be removed anyway before inserting\n    // the new letter.\n    const rangeContainer = this.selectionWatcher.getFreshRange()\n    if (!rangeContainer.isSelection) return\n\n    const nodeToRemove = Keyboard.getNodeToRemove(rangeContainer.range, target)\n    if (nodeToRemove) nodeToRemove.remove()\n  }\n\n  static getNodeToRemove (selectionRange, target) {\n    // This function is only used by preventContenteditableBug. It is exposed on\n    // the Keyboard constructor for testing purpose only.\n\n    // Let's make sure we are in the edge-case, in which the bug happens.\n    // The selection does not start at the beginning of a node. We have\n    // nothing to do.\n    if (selectionRange.startOffset !== 0) return\n\n    let startNodeElement = selectionRange.startContainer\n\n    // If the node is a textNode, we select its parent.\n    if (startNodeElement.nodeType === nodeType.textNode) startNodeElement = startNodeElement.parentNode\n\n    // The target is the contenteditable element, which we do not want to replace\n    if (startNodeElement === target) return\n\n    // We get a range that contains everything within the sartNodeElement to test\n    // if the selectionRange is within the startNode, we have nothing to do.\n    const startNodeRange = createRange()\n    startNodeRange.setStartBefore(startNodeElement.firstChild)\n    startNodeRange.setEndAfter(startNodeElement.lastChild)\n    if (containsRange(startNodeRange, selectionRange)) return\n\n    // If the selectionRange.startContainer was a textNode, we have to make sure\n    // that its parent's content starts with this node. Content is either a\n    // text node or an element. This is done to avoid false positives like the\n    // following one:\n    // <strong>foo<em>bar</em>|baz</strong>quux|\n    if (selectionRange.startContainer.nodeType === nodeType.textNode) {\n      const contentNodeTypes = [nodeType.textNode, nodeType.elementNode]\n      let firstContentNode = startNodeElement.firstChild\n\n      do {\n        if (contentNodeTypes.indexOf(firstContentNode.nodeType) !== -1) break\n      } while ((firstContentNode = firstContentNode.nextSibling))\n\n      if (firstContentNode !== selectionRange.startContainer) return\n    }\n\n    // Now we know, that we have to return at least the startNodeElement for\n    // removal. But it could be, that we also need to remove its parent, e.g.\n    // we need to remove <strong> in the following example:\n    // <strong><em>|foo</em>bar</strong>baz|\n    const rangeStartingBeforeCurrentElement = selectionRange.cloneRange()\n    rangeStartingBeforeCurrentElement.setStartBefore(startNodeElement)\n\n    return Keyboard.getNodeToRemove(\n      rangeStartingBeforeCurrentElement,\n      target\n    ) || startNodeElement\n  }\n}\n\nKeyboard.key = Keyboard.prototype.key = {\n  left: 37,\n  up: 38,\n  right: 39,\n  down: 40,\n  tab: 9,\n  esc: 27,\n  backspace: 8,\n  delete: 46,\n  enter: 13,\n  shift: 16,\n  ctrl: 17,\n  alt: 18,\n  b: 66,\n  i: 73\n}\n","const isValidQuotePairConfig = (quotePair) => Array.isArray(quotePair) && quotePair.length === 2\n\nexport const shouldApplySmartQuotes = (config, target) => {\n  const {smartQuotes, quotes, singleQuotes} = config\n  return !!smartQuotes && isValidQuotePairConfig(quotes) && isValidQuotePairConfig(singleQuotes) && target.isContentEditable\n}\n\nconst isDoubleQuote = (char) => /^[\"]$/.test(char)\nconst isSingleQuote = (char) => /^[']$/.test(char)\nconst isApostrophe = (char) => /^[']$/.test(char)\nconst isWhitespace = (char) => /^\\s$/.test(char)\nconst isSeparatorOrWhitespace = (char) => /\\s|[>\\-]/.test(char)\n\nconst shouldBeOpeningQuote = (text, indexCharBefore) => indexCharBefore < 0 || isSeparatorOrWhitespace(text[indexCharBefore])\nconst shouldBeClosingQuote = (text, indexCharBefore) => !!text[indexCharBefore] && !isSeparatorOrWhitespace(text[indexCharBefore])\nconst hasCharAfter = (textArr, indexCharAfter) => !!textArr[indexCharAfter] && !isWhitespace(textArr[indexCharAfter])\n\nconst replaceQuote = (range, index, quoteType) => {\n  const startContainer = range.startContainer\n  if (!startContainer.nodeValue) {\n    return\n  }\n  const textNode = document.createTextNode(`${startContainer.nodeValue.substring(0, index)}${quoteType}${startContainer.nodeValue.substring(index + 1)}`)\n  startContainer.replaceWith(textNode)\n  return textNode\n}\n\nconst hasSingleOpeningQuote = (textArr, offset, singleOpeningQuote) => {\n  if (offset <= 0) {\n    return false\n  }\n  for (let i = offset - 1; i >= 0; i--) {\n    if (isSingleQuote(textArr[i]) && (!isApostrophe(singleOpeningQuote) && !isApostrophe(textArr[i]))) {\n      return textArr[i] === singleOpeningQuote\n    }\n  }\n  return false\n}\n\nexport const applySmartQuotes = (range, config, char, target, cursorOffset) => {\n  const isCharSingleQuote = isSingleQuote(char)\n  const isCharDoubleQuote = isDoubleQuote(char)\n\n  if (!isCharDoubleQuote && !isCharSingleQuote) {\n    return\n  }\n\n  const {quotes, singleQuotes} = config\n  if (char === quotes[0] || char === quotes[1] || char === singleQuotes[0] || char === singleQuotes[1]) {\n    return\n  }\n\n  const offset = range.startOffset\n  const textArr = [...range.startContainer.textContent]\n  let newTextNode\n\n  if (shouldBeClosingQuote(textArr, offset - 2)) {\n    if (isCharSingleQuote) {\n      // Don't transform apostrophes\n      if (hasCharAfter(textArr, offset)) {\n        return\n      }\n      // Don't transform single-quote if there is no respective single-opening-quote\n      if (!hasSingleOpeningQuote(textArr, offset, singleQuotes[0])) {\n        return\n      }\n    }\n    const closingQuote = isCharSingleQuote ? singleQuotes[1] : quotes[1]\n    newTextNode = replaceQuote(range, offset - 1, closingQuote)\n  } else if (shouldBeOpeningQuote(textArr, offset - 2)) {\n    const openingQuote = isCharSingleQuote ? singleQuotes[0] : quotes[0]\n    newTextNode = replaceQuote(range, offset - 1, openingQuote)\n  }\n\n  if (!newTextNode) {\n    return\n  }\n\n  // Resets the cursor to the currentPosition after applying the smart-quote\n  const window = target.ownerDocument.defaultView\n  const selection = window.getSelection()\n  selection.collapse(newTextNode, cursorOffset ?? offset)\n}\n\n","import {selectionchange} from './feature-detection.js'\nimport * as clipboard from './clipboard.js'\nimport eventable from './eventable.js'\nimport SelectionWatcher from './selection-watcher.js'\nimport config from './config.js'\nimport Keyboard from './keyboard.js'\nimport {closest} from './util/dom.js'\nimport {replaceLast, endsWithSingleSpace} from './util/string.js'\nimport {applySmartQuotes, shouldApplySmartQuotes} from './smartQuotes.js'\n\n/**\n * The Dispatcher module is responsible for dealing with events and their handlers.\n *\n * @module core\n * @submodule dispatcher\n */\nexport default class Dispatcher {\n\n  constructor (editable) {\n    const win = editable.win\n    eventable(this, editable)\n    this.document = win.document\n    this.config = editable.config\n    this.editable = editable\n    this.editableSelector = editable.editableSelector\n    this.selectionWatcher = new SelectionWatcher(this, win)\n    this.keyboard = new Keyboard(this.selectionWatcher)\n    this.activeListeners = []\n    this.setup()\n    this.getEditableBlockByEvent = (evt) => closest(evt.target, editable.editableSelector)\n  }\n\n  setupDocumentListener (event, func, capture = false) {\n    const listener = {event, listener: func.bind(this), capture}\n    this.activeListeners.push(listener)\n\n    this.document.addEventListener(event, listener.listener, capture)\n    return this\n  }\n\n  /**\n  * Sets up all events that Editable.JS is catching.\n  *\n  * @method setup\n  */\n  setup () {\n    // setup all events listeners and keyboard handlers\n    this.setupKeyboardEvents()\n    this.setupEventListeners()\n  }\n\n  unload () {\n    this.off()\n    for (const l of this.activeListeners) {\n      this.document.removeEventListener(l.event, l.listener, l.capture)\n    }\n    this.activeListeners.length = 0\n  }\n\n  suspend () {\n    if (this.suspended) return\n    this.suspended = true\n    for (const l of this.activeListeners) {\n      this.document.removeEventListener(l.event, l.listener, l.capture)\n    }\n    this.activeListeners.length = 0\n  }\n\n  continue () {\n    if (!this.suspended) return\n    this.suspended = false\n    this.setupEventListeners()\n  }\n\n  setupEventListeners () {\n    this.setupElementListeners()\n    this.setupKeydownListener()\n\n    if (selectionchange) {\n      this.setupSelectionChangeListeners()\n    } else {\n      this.setupSelectionChangeFallbackListeners()\n    }\n  }\n\n  /**\n  * Sets up events that are triggered on modifying an element.\n  *\n  * @method setupElementListeners\n  */\n  setupElementListeners () {\n    const currentInput = {offset: undefined}\n    this\n      .setupDocumentListener('focus', function focusListener (evt) {\n        const block = this.getEditableBlockByEvent(evt)\n        if (!block) return\n        if (evt.target.getAttribute(config.pastingAttribute)) return\n        this.selectionWatcher.syncSelection()\n        this.notify('focus', block)\n      }, true)\n      .setupDocumentListener('blur', function blurListener (evt) {\n        const block = this.getEditableBlockByEvent(evt)\n        if (!block) return\n        if (block.getAttribute(config.pastingAttribute)) return\n        this.notify('blur', block)\n      }, true)\n      .setupDocumentListener('copy', function copyListener (evt) {\n        const block = this.getEditableBlockByEvent(evt)\n        if (!block) return\n        const selection = this.selectionWatcher.getFreshSelection()\n        if (selection && selection.isSelection) {\n          this.notify('clipboard', block, 'copy', selection)\n        }\n      })\n      .setupDocumentListener('cut', function cutListener (evt) {\n        const block = this.getEditableBlockByEvent(evt)\n        if (!block) return\n        const selection = this.selectionWatcher.getFreshSelection()\n        if (selection && selection.isSelection) {\n          this.notify('clipboard', block, 'cut', selection)\n        }\n      })\n      .setupDocumentListener('paste', function pasteListener (evt) {\n        const block = this.getEditableBlockByEvent(evt)\n        if (!block) return\n\n        evt.preventDefault()\n        const selection = this.selectionWatcher.getFreshSelection()\n        const clipboardContent = evt.clipboardData.getData('text/html') || evt.clipboardData.getData('text/plain')\n\n        const {blocks, cursor} = clipboard.paste(block, selection, clipboardContent)\n        if (blocks.length) {\n          if (endsWithSingleSpace(evt.target.innerText)) {\n            cursor.retainVisibleSelection(() => {\n              block.innerHTML = replaceLast(block.innerHTML, '&nbsp;', ' ')\n            })\n          }\n          this.notify('paste', block, blocks, cursor)\n          // The input event does not fire when we process the content manually\n          // and insert it via script\n          this.notify('change', block)\n        } else {\n          cursor.setVisibleSelection()\n        }\n      })\n      .setupDocumentListener('input', function inputListener (evt) {\n        const block = this.getEditableBlockByEvent(evt)\n        if (!block) return\n\n        if (shouldApplySmartQuotes(config, evt.target)) {\n          const selection = this.selectionWatcher.getFreshSelection()\n          // Save offset of new input, to reset cursor correctly after timeout delay\n          currentInput.offset = selection.range?.startOffset\n          setTimeout(() => {\n            applySmartQuotes(selection.range, config, evt.data, evt.target, currentInput.offset)\n          }, 500\n          )\n        }\n\n        this.notify('change', block)\n      })\n\n      .setupDocumentListener('formatEditable', function formatEditableListener (evt) {\n        const block = this.getEditableBlockByEvent(evt)\n        if (!block) return\n        this.notify('change', block)\n      })\n  }\n\n  dispatchSwitchEvent (event, element, direction) {\n    if (event.altKey || event.ctrlKey || event.metaKey || event.shiftKey) return\n    const cursor = this.selectionWatcher.getFreshSelection()\n    if (!cursor || cursor.isSelection) return\n\n    // store position\n    if (!this.switchContext) {\n      this.switchContext = {\n        positionX: cursor.getBoundingClientRect().left,\n        events: ['cursor']\n      }\n    } else {\n      this.switchContext.events = ['cursor']\n    }\n\n    if (direction === 'up' && cursor.isAtFirstLine()) {\n      event.preventDefault()\n      event.stopPropagation()\n      this.switchContext.events = ['switch', 'blur', 'focus', 'cursor']\n      this.notify('switch', element, direction, cursor)\n    }\n\n    if (direction === 'down' && cursor.isAtLastLine()) {\n      event.preventDefault()\n      event.stopPropagation()\n      this.switchContext.events = ['switch', 'blur', 'focus', 'cursor']\n      this.notify('switch', element, direction, cursor)\n    }\n  }\n\n  /**\n  * Sets up listener for keydown event which forwards events to\n  * the Keyboard instance.\n  *\n  * @method setupKeydownListener\n  */\n  setupKeydownListener () {\n    this.setupDocumentListener('keydown', function (evt) {\n      const block = this.getEditableBlockByEvent(evt)\n      if (!block) return\n      this.keyboard.dispatchKeyEvent(evt, block, false)\n    }, true)\n  }\n\n  /**\n  * Sets up handlers for the keyboard events.\n  * Keyboard definitions are in {{#crossLink \"Keyboard\"}}{{/crossLink}}.\n  *\n  * @method setupKeyboardEvents\n  */\n  setupKeyboardEvents () {\n    const self = this\n\n    this.keyboard\n      .on('up', function (event) {\n        self.dispatchSwitchEvent(event, this, 'up')\n      })\n\n      .on('down', function (event) {\n        self.dispatchSwitchEvent(event, this, 'down')\n      })\n\n      .on('backspace', function (event) {\n        const rangeContainer = self.selectionWatcher.getFreshRange()\n        if (!rangeContainer.isCursor) return\n\n        const cursor = rangeContainer.getCursor()\n        if (!cursor.isAtBeginning()) return\n\n        event.preventDefault()\n        event.stopPropagation()\n        self.notify('merge', this, 'before', cursor)\n      })\n\n      .on('delete', function (event) {\n        const rangeContainer = self.selectionWatcher.getFreshRange()\n        if (!rangeContainer.isCursor) return\n\n        const cursor = rangeContainer.getCursor()\n        if (!cursor.isAtTextEnd()) return\n\n        event.preventDefault()\n        event.stopPropagation()\n        self.notify('merge', this, 'after', cursor)\n      })\n\n      .on('enter', function (event) {\n        event.preventDefault()\n        event.stopPropagation()\n        const rangeContainer = self.selectionWatcher.getFreshRange()\n        const cursor = rangeContainer.forceCursor()\n\n        if (cursor.isAtTextEnd()) {\n          self.notify('insert', this, 'after', cursor)\n        } else if (cursor.isAtBeginning()) {\n          self.notify('insert', this, 'before', cursor)\n        } else {\n          self.notify('split', this, cursor.before(), cursor.after(), cursor)\n        }\n      })\n\n      .on('shiftEnter', function (event) {\n        event.preventDefault()\n        event.stopPropagation()\n        const cursor = self.selectionWatcher.forceCursor()\n        self.notify('newline', this, cursor)\n      })\n\n      .on('bold', function (event) {\n        event.preventDefault()\n        event.stopPropagation()\n        const selection = self.selectionWatcher.getFreshSelection()\n        if (selection.isSelection) {\n          self.notify('toggleBold', selection)\n        }\n      })\n\n      .on('italic', function (event) {\n        event.preventDefault()\n        event.stopPropagation()\n        const selection = self.selectionWatcher.getFreshSelection()\n        if (selection.isSelection) {\n          self.notify('toggleEmphasis', selection)\n        }\n      })\n\n      .on('character', function (event) {\n        self.notify('change', this)\n      })\n  }\n\n  /**\n  * Sets up events that are triggered on a selection change.\n  *\n  * @method setupSelectionChangeListeners\n  */\n  setupSelectionChangeListeners () {\n    let selectionDirty = false\n    let suppressSelectionChanges = false\n    const selectionWatcher = this.selectionWatcher\n\n    // fires on mousemove (thats probably a bit too much)\n    // catches changes like 'select all' from context menu\n    this.setupDocumentListener('selectionchange', (evt) => {\n      const cursor = this.selectionWatcher.getFreshSelection()\n\n      if (cursor && cursor.isSelection && cursor.isAtBeginning() && cursor.isAtEnd()) {\n        this.notify('selectToBoundary', cursor.host, evt, 'both')\n      } else if (cursor && cursor.isSelection && cursor.isAtBeginning()) {\n        this.notify('selectToBoundary', cursor.host, evt, 'start')\n      } else if (cursor && cursor.isSelection && cursor.isAtEnd()) {\n        this.notify('selectToBoundary', cursor.host, evt, 'end')\n      }\n\n      if (suppressSelectionChanges) {\n        selectionDirty = true\n      } else {\n        selectionWatcher.selectionChanged()\n      }\n    })\n\n    // listen for selection changes by mouse so we can\n    // suppress the selectionchange event and only fire the\n    // change event on mouseup\n    this.setupDocumentListener('mousedown', function (evt) {\n      if (!this.getEditableBlockByEvent(evt)) return\n      if (this.config.mouseMoveSelectionChanges === false) {\n        suppressSelectionChanges = true\n\n        // Without this timeout the previous selection is active\n        // until the mouseup event (no. not good).\n        setTimeout(() => selectionWatcher.selectionChanged(), 0)\n      }\n\n      this.document.addEventListener('mouseup', () => {\n        suppressSelectionChanges = false\n\n        if (selectionDirty) {\n          selectionDirty = false\n          selectionWatcher.selectionChanged()\n        }\n      }, {\n        capture: true,\n        once: true\n      })\n    })\n  }\n\n  /**\n  * Fallback solution to support selection change events on browsers that don't\n  * support selectionChange.\n  *\n  * @method setupSelectionChangeFallbackListeners\n  */\n  setupSelectionChangeFallbackListeners () {\n    // listen for selection changes by mouse\n    this.setupDocumentListener('mouseup', () => {\n      // In Opera when clicking outside of a block\n      // it does not update the selection as it should\n      // without the timeout\n      setTimeout(() => this.selectionWatcher.selectionChanged(), 0)\n    })\n\n    // listen for selection changes by keys\n    this.setupDocumentListener('keyup', (evt) => {\n      if (!this.getEditableBlockByEvent(evt)) return\n      // when pressing Command + Shift + Left for example the keyup is only triggered\n      // after at least two keys are released. Strange. The culprit seems to be the\n      // Command key. Do we need a workaround?\n      this.selectionWatcher.selectionChanged()\n    })\n  }\n}\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nexport default listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nexport default eq;\n","import eq from './eq.js';\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nexport default assocIndexOf;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nexport default listCacheDelete;\n","import listCacheClear from './_listCacheClear.js';\nimport listCacheDelete from './_listCacheDelete.js';\nimport listCacheGet from './_listCacheGet.js';\nimport listCacheHas from './_listCacheHas.js';\nimport listCacheSet from './_listCacheSet.js';\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nexport default ListCache;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nexport default listCacheGet;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nexport default listCacheHas;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nexport default listCacheSet;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","import baseGetTag from './_baseGetTag.js';\nimport isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nexport default isFunction;\n","import root from './_root.js';\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nexport default coreJsData;\n","import coreJsData from './_coreJsData.js';\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nexport default isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nexport default toSource;\n","import isFunction from './isFunction.js';\nimport isMasked from './_isMasked.js';\nimport isObject from './isObject.js';\nimport toSource from './_toSource.js';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nexport default baseIsNative;\n","import baseIsNative from './_baseIsNative.js';\nimport getValue from './_getValue.js';\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nexport default getNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nexport default getValue;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nexport default Map;\n","import getNative from './_getNative.js';\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nexport default nativeCreate;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nexport default hashGet;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nexport default hashHas;\n","import hashClear from './_hashClear.js';\nimport hashDelete from './_hashDelete.js';\nimport hashGet from './_hashGet.js';\nimport hashHas from './_hashHas.js';\nimport hashSet from './_hashSet.js';\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nexport default Hash;\n","import nativeCreate from './_nativeCreate.js';\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nexport default hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default hashDelete;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nexport default hashSet;\n","import isKeyable from './_isKeyable.js';\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nexport default getMapData;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nexport default isKeyable;\n","import mapCacheClear from './_mapCacheClear.js';\nimport mapCacheDelete from './_mapCacheDelete.js';\nimport mapCacheGet from './_mapCacheGet.js';\nimport mapCacheHas from './_mapCacheHas.js';\nimport mapCacheSet from './_mapCacheSet.js';\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nexport default MapCache;\n","import Hash from './_Hash.js';\nimport ListCache from './_ListCache.js';\nimport Map from './_Map.js';\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nexport default mapCacheClear;\n","import getMapData from './_getMapData.js';\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default mapCacheDelete;\n","import getMapData from './_getMapData.js';\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nexport default mapCacheGet;\n","import getMapData from './_getMapData.js';\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nexport default mapCacheHas;\n","import getMapData from './_getMapData.js';\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nexport default mapCacheSet;\n","import ListCache from './_ListCache.js';\nimport stackClear from './_stackClear.js';\nimport stackDelete from './_stackDelete.js';\nimport stackGet from './_stackGet.js';\nimport stackHas from './_stackHas.js';\nimport stackSet from './_stackSet.js';\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nexport default Stack;\n","import ListCache from './_ListCache.js';\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nexport default stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nexport default stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nexport default stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nexport default stackHas;\n","import ListCache from './_ListCache.js';\nimport Map from './_Map.js';\nimport MapCache from './_MapCache.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nexport default stackSet;\n","import getNative from './_getNative.js';\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nexport default defineProperty;\n","import defineProperty from './_defineProperty.js';\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nexport default baseAssignValue;\n","import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignMergeValue;\n","import createBaseFor from './_createBaseFor.js';\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nexport default baseFor;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nexport default createBaseFor;\n","import root from './_root.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nexport default cloneBuffer;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nexport default Uint8Array;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nexport default cloneTypedArray;\n","import Uint8Array from './_Uint8Array.js';\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nexport default cloneArrayBuffer;\n","import isObject from './isObject.js';\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nexport default baseCreate;\n","import overArg from './_overArg.js';\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nexport default getPrototype;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nexport default isPrototype;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nexport default baseIsArguments;\n","import baseIsArguments from './_baseIsArguments.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nexport default isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nexport default isLength;\n","import isFunction from './isFunction.js';\nimport isLength from './isLength.js';\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nexport default isArrayLike;\n","import root from './_root.js';\nimport stubFalse from './stubFalse.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nexport default isBuffer;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nexport default stubFalse;\n","import baseGetTag from './_baseGetTag.js';\nimport getPrototype from './_getPrototype.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nexport default isPlainObject;\n","import baseGetTag from './_baseGetTag.js';\nimport isLength from './isLength.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nexport default baseIsTypedArray;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nexport default nodeUtil;\n","import baseIsTypedArray from './_baseIsTypedArray.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nexport default isTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nexport default baseUnary;\n","/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\nexport default safeGet;\n","import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignValue;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nexport default isIndex;\n","import baseTimes from './_baseTimes.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isIndex from './_isIndex.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default arrayLikeKeys;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nexport default baseTimes;\n","import isObject from './isObject.js';\nimport isPrototype from './_isPrototype.js';\nimport nativeKeysIn from './_nativeKeysIn.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeysIn;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default nativeKeysIn;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeysIn from './_baseKeysIn.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nexport default keysIn;\n","import copyObject from './_copyObject.js';\nimport keysIn from './keysIn.js';\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\nexport default toPlainObject;\n","import assignValue from './_assignValue.js';\nimport baseAssignValue from './_baseAssignValue.js';\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nexport default copyObject;\n","import assignMergeValue from './_assignMergeValue.js';\nimport cloneBuffer from './_cloneBuffer.js';\nimport cloneTypedArray from './_cloneTypedArray.js';\nimport copyArray from './_copyArray.js';\nimport initCloneObject from './_initCloneObject.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\nimport isBuffer from './isBuffer.js';\nimport isFunction from './isFunction.js';\nimport isObject from './isObject.js';\nimport isPlainObject from './isPlainObject.js';\nimport isTypedArray from './isTypedArray.js';\nimport safeGet from './_safeGet.js';\nimport toPlainObject from './toPlainObject.js';\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\nexport default baseMergeDeep;\n","import isArrayLike from './isArrayLike.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nexport default isArrayLikeObject;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nexport default copyArray;\n","import baseCreate from './_baseCreate.js';\nimport getPrototype from './_getPrototype.js';\nimport isPrototype from './_isPrototype.js';\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nexport default initCloneObject;\n","import Stack from './_Stack.js';\nimport assignMergeValue from './_assignMergeValue.js';\nimport baseFor from './_baseFor.js';\nimport baseMergeDeep from './_baseMergeDeep.js';\nimport isObject from './isObject.js';\nimport keysIn from './keysIn.js';\nimport safeGet from './_safeGet.js';\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\nexport default baseMerge;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nexport default identity;\n","import apply from './_apply.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nexport default overRest;\n","import constant from './constant.js';\nimport defineProperty from './_defineProperty.js';\nimport identity from './identity.js';\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nexport default baseSetToString;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nexport default constant;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nexport default shortOut;\n","import baseSetToString from './_baseSetToString.js';\nimport shortOut from './_shortOut.js';\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nexport default setToString;\n","import identity from './identity.js';\nimport overRest from './_overRest.js';\nimport setToString from './_setToString.js';\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nexport default baseRest;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nexport default apply;\n","import baseMerge from './_baseMerge.js';\nimport createAssigner from './_createAssigner.js';\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\nexport default merge;\n","import baseRest from './_baseRest.js';\nimport isIterateeCall from './_isIterateeCall.js';\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nexport default createAssigner;\n","import eq from './eq.js';\nimport isArrayLike from './isArrayLike.js';\nimport isIndex from './_isIndex.js';\nimport isObject from './isObject.js';\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nexport default isIterateeCall;\n","import * as content from '../../content.js'\n\n/**\n* Spellcheck class.\n*\n* @class Spellcheck\n* @constructor\n*/\nexport default class SpellcheckService {\n\n  constructor (spellcheckService) {\n    this.spellcheckService = spellcheckService\n  }\n\n  check (text, callback) {\n    if (!text) return callback(null)\n\n    const condensedText = content.normalizeWhitespace(text)\n\n    this.spellcheckService(condensedText, (misspelledWords) => {\n      if (misspelledWords && misspelledWords.length > 0) {\n        return callback(null, misspelledWords)\n      }\n      return callback(null)\n    })\n  }\n\n}\n","// See: https://en.wikipedia.org/wiki/Whitespace_character\n\nconst characters = {\n  'A0': 'no-break space', // \\\\u00A0\n  '2000': 'en quad', // \\\\u2000\n  '2001': 'em quad', // \\\\u2001\n  '2002': 'en space', // \\\\u2002\n  '2003': 'em space', // \\\\u2003\n  '2004': 'three-per-em space', // \\\\u2004\n  '2005': 'four-per-em space', // \\\\u2005\n  '2006': 'six-per-em space', // \\\\u2006\n  '2007': 'figure space', // \\\\u2007\n  '2008': 'punctuation space', // \\\\u2008\n  '2009': 'thin space', // \\\\u2009\n  '200A': 'hair space', // \\\\u200A\n  '202F': 'narrow no-break space', // \\\\u202F\n  '205F': 'medium mathematical space', // \\\\u205F\n  '3000': 'ideographic space' // \\\\u3000\n}\n\n// The no-break space is not highlighted as this can cause problems.\n// Browser can insert no-break spaces when typing at the end of\n// a paragraph and the highlighting prevents browsers from converting\n// the no-break space back to a normal space when the user keeps typing.\nconst specialWhitespaceChars = '\\\\u2000-\\\\u200A\\\\u202F\\\\u205F\\\\u3000'\nconst specialWhitespaceCharsRegex = new RegExp(`[${specialWhitespaceChars}]`, 'g')\n\nexport default class WhitespaceHighlighting {\n\n  constructor (markerNode) {\n    this.marker = markerNode\n  }\n\n  findMatches (text) {\n    if (!text) return\n\n    const matches = [...text.matchAll(specialWhitespaceCharsRegex)]\n    return matches.map((entry) => this.prepareMatch(entry))\n  }\n\n  prepareMatch (match) {\n    const startIndex = match.index\n    const unicode = getUnicode(match[0])\n    const description = characters[unicode]\n    return {\n      startIndex,\n      endIndex: startIndex + match.length,\n      match: match[0],\n      title: `${description} (\\\\u${unicode})`,\n      marker: this.marker\n    }\n  }\n}\n\nfunction getUnicode (character) {\n  const code = character.charCodeAt(0)\n  return `${code.toString(16).toUpperCase()}`\n}\n","export default class MatchCollection {\n\n  constructor () {\n    this.matches = []\n  }\n\n  addMatches (matches) {\n    if (!matches?.length) return\n    this.matches = mergeMatches(this.matches, matches)\n  }\n\n}\n\n// Private Helpers\n// ---------------\n\nfunction mergeMatches (matches1, matches2) {\n  let next\n  const length1 = matches1.length\n  const length2 = matches2.length\n  let lastEndIndex = -1\n  const output = []\n\n  const state = {\n    a1: matches1,\n    i1: 0,\n    a2: matches2,\n    i2: 0\n  }\n\n  while (state.i1 < length1 || state.i2 < length2) {\n    next = pickNext(state)\n    if (next.startIndex >= lastEndIndex) {\n      output.push(next)\n    }\n    lastEndIndex = next.endIndex\n  }\n\n  return output\n}\n\nfunction pickNext (state) {\n  const i1 = state.i1\n  const i2 = state.i2\n  const item1 = state.a1[i1]\n  const item2 = state.a2[i2]\n\n  if (item1 && item2 && item1.startIndex < item2.startIndex) {\n    state.i1 = i1 + 1\n    return item1\n  } else if (item1 && item2) {\n    state.i2 = i2 + 1\n    return item2\n  } else if (item1) {\n    state.i1 = i1 + 1\n    return item1\n  } else if (item2) {\n    state.i2 = i2 + 1\n    return item2\n  } else {\n    return undefined\n  }\n}\n","import _merge from 'lodash-es/merge'\nimport * as nodeType from './node-type.js'\nimport * as content from './content.js'\nimport highlightText from './highlight-text.js'\nimport SpellcheckService from './plugins/highlighting/spellcheck-service.js'\nimport WhitespaceHighlighting from './plugins/highlighting/whitespace-highlighting.js'\nimport {searchAllWords} from './plugins/highlighting/text-search.js'\nimport MatchCollection from './plugins/highlighting/match-collection.js'\nimport highlightSupport from './highlight-support.js'\nimport {domArray, domSelector} from './util/dom.js'\n\n// Spellcheck and Whitespace Highlighting\n// --------------------------------------\n//\n// This instance monitors an editable block for changes and\n// updates highlights accordingly. It also calls the spellcheck\n// service after the content has changed.\nexport default class MonitoredHighlighting {\n\n  constructor (editable, configuration, spellcheckConfig) {\n    this.editable = editable\n    this.win = editable.win\n    this.focusedEditableHost = undefined\n    this.currentlyCheckedEditableHost = undefined\n    this.timeout = {}\n\n    const defaultConfig = {\n      checkOnInit: false,\n      checkOnFocus: false,\n      checkOnChange: true,\n      // unbounce rate in ms before calling the spellcheck service after changes\n      throttle: 1000,\n      // remove highlights after a change if the cursor is inside a highlight\n      removeOnCorrection: true,\n      spellcheck: {\n        marker: '<span class=\"highlight-spellcheck\"></span>',\n        throttle: 1000,\n        spellcheckService: function () {}\n      },\n      whitespace: {\n        marker: '<span class=\"highlight-whitespace\"></span>'\n      }\n    }\n\n    this.config = _merge({}, defaultConfig, configuration)\n\n    const spellcheckService = this.config.spellcheck.spellcheckService\n    const spellcheckMarker = this.config.spellcheck.marker\n    const whitespaceMarker = this.config.whitespace.marker\n    const whitespaceMarkerNode = highlightSupport\n      .createMarkerNode(whitespaceMarker, 'whitespace', this.win)\n    this.spellcheckMarkerNode = highlightSupport\n      .createMarkerNode(spellcheckMarker, 'spellcheck', this.win)\n\n    this.spellcheckService = new SpellcheckService(spellcheckService)\n    this.whitespace = new WhitespaceHighlighting(whitespaceMarkerNode)\n\n    this.setupListeners()\n  }\n\n  // Events\n  // ------\n\n  setupListeners () {\n    if (this.config.checkOnFocus) {\n      this.editable.on('focus', (...args) => this.onFocus(...args))\n      this.editable.on('blur', (...args) => this.onBlur(...args))\n    }\n    if (this.config.checkOnChange || this.config.removeOnCorrection) {\n      this.editable.on('change', (...args) => this.onChange(...args))\n    }\n    if (this.config.checkOnInit) {\n      this.editable.on('init', (...args) => this.onInit(...args))\n    }\n  }\n\n  onInit (editableHost) {\n    this.highlight(editableHost)\n  }\n\n  onFocus (editableHost) {\n    if (this.focusedEditableHost !== editableHost) {\n      this.focusedEditableHost = editableHost\n      this.editableHasChanged(editableHost)\n    }\n  }\n\n  onBlur (editableHost) {\n    if (this.focusedEditableHost === editableHost) {\n      this.focusedEditableHost = undefined\n    }\n  }\n\n  onChange (editableHost) {\n    if (this.config.checkOnChange) {\n      this.editableHasChanged(editableHost, this.config.throttle)\n    }\n    if (this.config.removeOnCorrection) {\n      this.removeHighlightsAtCursor(editableHost)\n    }\n  }\n\n  // Manage Highlights\n  // -----------------\n\n  editableHasChanged (editableHost, throttle) {\n    if (this.timeout.id && this.timeout.editableHost === editableHost) {\n      clearTimeout(this.timeout.id)\n    }\n\n    const timeoutId = setTimeout(() => {\n      this.highlight(editableHost)\n\n      this.timeout = {}\n    }, throttle || 0)\n\n    this.timeout = {\n      id: timeoutId,\n      editableHost: editableHost\n    }\n  }\n\n  highlight (editableHost) {\n    const textBefore = highlightText.extractText(editableHost)\n\n    // getSpellcheck\n    this.spellcheckService.check(textBefore, (err, misspelledWords) => {\n      if (err || !editableHost.isConnected) { return } // return in case the host was removed from the dom\n\n      // refresh the text\n      const text = highlightText.extractText(editableHost)\n\n      const matchCollection = new MatchCollection()\n\n      let matches = searchAllWords(text, misspelledWords, this.spellcheckMarkerNode)\n      matchCollection.addMatches(matches)\n\n      matches = this.whitespace.findMatches(text)\n      matchCollection.addMatches(matches)\n\n      this.safeHighlightMatches(editableHost, matchCollection.matches)\n    })\n  }\n\n  // Calls highlightMatches internally but ensures\n  // that the selection stays the same\n  safeHighlightMatches (editableHost, matches) {\n    const selection = this.editable.getSelection(editableHost)\n    if (selection) {\n      selection.retainVisibleSelection(() => {\n        this.highlightMatches(editableHost, matches)\n      })\n    } else {\n      this.highlightMatches(editableHost, matches)\n    }\n    if (this.editable.dispatcher) {\n      this.editable.dispatcher.notify('spellcheckUpdated', editableHost)\n    }\n  }\n\n  highlightMatches (editableHost, matches) {\n    // Remove old highlights\n    this.removeHighlights(editableHost)\n\n    // Create new highlights\n    if (matches && matches.length > 0) {\n      // const span = this.createMarkerNode()\n      highlightText.highlightMatches(editableHost, matches)\n    }\n  }\n\n  removeHighlights (editableHost) {\n    editableHost = domSelector(editableHost, this.win.document)\n    for (const elem of domArray('[data-highlight=\"spellcheck\"], [data-highlight=\"whitespace\"]', editableHost)) {\n      content.unwrap(elem)\n    }\n  }\n\n  removeHighlightsAtCursor (editableHost) {\n    editableHost = domSelector(editableHost, this.win.document)\n    const selection = this.editable.getSelection(editableHost)\n    if (selection && selection.isCursor) {\n      let elementAtCursor = selection.range.startContainer\n      if (elementAtCursor.nodeType === nodeType.textNode) {\n        elementAtCursor = elementAtCursor.parentNode\n      }\n\n      let wordId\n      do {\n        if (elementAtCursor === editableHost) return\n        const highlightType = elementAtCursor.getAttribute('data-highlight')\n        if (highlightType === 'spellcheck' || highlightType === 'whitespace') {\n          wordId = elementAtCursor.getAttribute('data-word-id')\n          break\n        }\n      } while ((elementAtCursor = elementAtCursor.parentNode))\n\n      if (wordId) {\n        selection.retainVisibleSelection(() => {\n          for (const elem of domArray(`[data-word-id=\"${wordId}\"]`, editableHost)) {\n            content.unwrap(elem)\n          }\n        })\n      }\n    }\n  }\n\n}\n","import config from '../config.js'\n\n// Allows for safe console logging\n// If the last param is the string \"trace\" console.trace will be called\n// configuration: disable with config.log = false\nexport default function log () {\n  if (config.log === false) return\n\n  if (!global.console) return\n\n  const args = arguments.length === 1 ? arguments[0] : Array.from(arguments)\n\n  if (arguments.length !== 1 && args[args.length - 1] === 'trace') {\n    args.pop()\n    if (console.trace) console.trace()\n  }\n\n  return console.log(args)\n}\n","'use strict'\nimport NodeIterator from '../node-iterator.js'\n\nexport function textNodesUnder (node) {\n  const iterator = new NodeIterator(node, 'getNextTextNode')\n  return [...iterator]\n}\n\n// NOTE: if there is only one text node, then just that node and\n// the abs offset are returned\nexport function getTextNodeAndRelativeOffset ({textNodes, absOffset}) {\n  let cumulativeOffset = 0\n  let relativeOffset = 0\n  let targetNode\n  for (let i = 0; i < textNodes.length; i++) {\n    const node = textNodes[i]\n    if (absOffset <= cumulativeOffset + node.textContent.length) {\n      targetNode = node\n      relativeOffset = absOffset - cumulativeOffset\n      break\n    }\n    cumulativeOffset += node.textContent.length\n  }\n  return {node: targetNode, relativeOffset}\n}\n\nexport function getTotalCharCount (element) {\n  const textNodes = textNodesUnder(element)\n  const reducer = (acc, node) => acc + node.textContent.length\n  return textNodes.reduce(reducer, 0)\n}\n","'use strict'\nimport {getTotalCharCount, textNodesUnder, getTextNodeAndRelativeOffset} from './element.js'\n\n/**\n * This is a binary search algorithm implementation aimed at finding\n * a character offset position in a consecutive strings of characters\n * over several lines.\n *\n * Refer to this page in order to learn more about binary search:\n * https://en.wikipedia.org/wiki/Binary_search_algorithm\n *\n * @returns {object}\n *  - object with boolean `wasFound` indicating if the binary search found an offset and `offset` to indicate the actual character offset\n */\nexport function binaryCursorSearch ({\n  host,\n  requiredOnFirstLine,\n  requiredOnLastLine,\n  positionX // coordinates relative to viewport (e.g. from getBoundingClientRect())\n}) {\n  const hostRange = host.ownerDocument.createRange()\n  hostRange.selectNodeContents(host)\n  const hostCoords = hostRange.getBoundingClientRect()\n  const totalCharCount = getTotalCharCount(host)\n  const textNodes = textNodesUnder(host)\n\n  // early terminate on empty editables\n  if (totalCharCount === 0) return {wasFound: false}\n\n  const data = {\n    currentOffset: Math.floor(totalCharCount / 2),\n    leftLimit: 0,\n    rightLimit: totalCharCount\n  }\n\n  let offset = data.currentOffset\n  let distance\n  let safety = 20\n  while (data.leftLimit < data.rightLimit && safety > 0) {\n    safety = safety -= 1\n    offset = data.currentOffset\n    const range = createRangeAtCharacterOffset({textNodes, offset: data.currentOffset})\n    const coords = range.getBoundingClientRect()\n    distance = Math.abs(coords.left - positionX)\n\n    // up / down axis\n    if (requiredOnFirstLine && hostCoords.top !== coords.top) {\n      moveLeft(data)\n      continue\n    } else if (requiredOnLastLine && hostCoords.bottom !== coords.bottom) {\n      moveRight(data)\n      continue\n    }\n\n    // left / right axis\n    if (positionX < coords.left) {\n      moveLeft(data)\n    } else {\n      moveRight(data)\n    }\n  }\n\n  const range = createRangeAtCharacterOffset({textNodes, offset: data.currentOffset})\n  const coords = range.getBoundingClientRect()\n  const finalDistance = Math.abs(coords.left - positionX)\n\n  // Decide if last or second last offset is closest\n  if (finalDistance < distance) {\n    distance = finalDistance\n    offset = data.currentOffset\n  }\n\n  return {distance, offset, wasFound: true}\n}\n\n// move the binary search index in between the current position and the left limit\nfunction moveLeft (data) {\n  data.rightLimit = data.currentOffset\n  data.currentOffset = Math.floor((data.currentOffset + data.leftLimit) / 2)\n}\n// move the binary search index in between the current position and the right limit\nfunction moveRight (data) {\n  data.leftLimit = data.currentOffset\n  data.currentOffset = Math.ceil((data.currentOffset + data.rightLimit) / 2)\n}\n\nfunction createRangeAtCharacterOffset ({textNodes, offset}) {\n  const {node, relativeOffset} = getTextNodeAndRelativeOffset({textNodes, absOffset: offset})\n\n  const newRange = node.ownerDocument.createRange()\n  newRange.setStart(node, relativeOffset)\n  newRange.collapse(true)\n\n  return newRange\n}\n","import config from './config.js'\nimport error from './util/error.js'\nimport * as parser from './parser.js'\nimport * as block from './block.js'\nimport * as content from './content.js'\nimport * as clipboard from './clipboard.js'\nimport Dispatcher from './dispatcher.js'\nimport Cursor from './cursor.js'\nimport highlightSupport from './highlight-support.js'\nimport MonitoredHighlighting from './monitored-highlighting.js'\nimport createDefaultEvents from './create-default-events.js'\nimport {textNodesUnder, getTextNodeAndRelativeOffset} from './util/element.js'\nimport {binaryCursorSearch} from './util/binary_search.js'\nimport {domArray, createRange, nodeContainsRange} from './util/dom.js'\n\n/**\n * The Core module provides the Editable class that defines the Editable.JS\n * API and is the main entry point for Editable.JS.\n * It also provides the cursor module for cross-browser cursors, and the dom\n * submodule.\n *\n * @module core\n */\n\n/**\n * Constructor for the Editable.JS API that is externally visible.\n *\n * @param {Object} configuration for this editable instance.\n *   window: The window where to attach the editable events.\n *   defaultBehavior: {Boolean} Load default-behavior.js.\n *   mouseMoveSelectionChanges: {Boolean} Whether to get cursor and selection events on mousemove.\n *   browserSpellcheck: {Boolean} Set the spellcheck attribute on editable elements\n *\n * @class Editable\n */\nexport class Editable {\n\n  constructor (instanceConfig) {\n    const defaultInstanceConfig = {\n      window: window,\n      defaultBehavior: true,\n      mouseMoveSelectionChanges: false,\n      browserSpellcheck: true\n    }\n\n    this.config = Object.assign(defaultInstanceConfig, instanceConfig)\n    this.win = this.config.window\n    this.editableSelector = `.${config.editableClass}`\n\n    this.dispatcher = new Dispatcher(this)\n    if (this.config.defaultBehavior === true) {\n      this.dispatcher.on(createDefaultEvents(this))\n    }\n  }\n\n  /**\n   * @returns the default Editable configs from config.js\n   */\n  static getGlobalConfig () {\n    return config\n  }\n\n  /**\n  * Set configuration options that affect all editable\n  * instances.\n  *\n  * @param {Object} global configuration options (defaults are defined in config.js)\n  *   log: {Boolean}\n  *   logErrors: {Boolean}\n  *   editableClass: {String} e.g. 'js-editable'\n  *   editableDisabledClass: {String} e.g. 'js-editable-disabled'\n  *   pastingAttribute: {String} default: e.g. 'data-editable-is-pasting'\n  *   boldTag: e.g. '<strong>'\n  *   italicTag: e.g. '<em>'\n  */\n  static globalConfig (globalConfig) {\n    Object.assign(config, globalConfig)\n    clipboard.updateConfig(config)\n  }\n\n  /**\n   * Adds the Editable.JS API to the given target elements.\n   * Opposite of {{#crossLink \"Editable/remove\"}}{{/crossLink}}.\n   * Calls dispatcher.setup to setup all event listeners.\n   *\n   * @method add\n   * @param {HTMLElement|Array(HTMLElement)|String} target A HTMLElement, an\n   *    array of HTMLElement or a query selector representing the target where\n   *    the API should be added on.\n   * @param {normalize, plainText} options Block specific configuration\n   * @chainable\n   */\n  add (target, options) {\n    this.enable(target, options)\n    // TODO check css whitespace settings\n    return this\n  }\n\n  /**\n   * Removes the Editable.JS API from the given target elements.\n   * Opposite of {{#crossLink \"Editable/add\"}}{{/crossLink}}.\n   *\n   * @method remove\n   * @param {HTMLElement|Array(HTMLElement)|String} target A HTMLElement, an\n   *    array of HTMLElement or a query selector representing the target where\n   *    the API should be removed from.\n   * @chainable\n   */\n  remove (target) {\n    const targets = domArray(target, this.win.document)\n\n    this.disable(targets)\n\n    for (const element of targets) {\n      element.classList.remove(config.editableDisabledClass)\n    }\n\n    return this\n  }\n\n  /**\n  * Removes the Editable.JS API from the given target elements.\n  * The target elements are marked as disabled.\n  *\n  * @method disable\n  * @param { HTMLElement | undefined  } elem editable root element(s)\n  *    If no param is specified all editables are disabled.\n  * @chainable\n  */\n  disable (target) {\n    const targets = domArray(target || `.${config.editableClass}`, this.win.document)\n\n    for (const element of targets) {\n      block.disable(element)\n    }\n\n    return this\n  }\n\n  /**\n   * Adds the Editable.JS API to the given target elements.\n   *\n   * @method enable\n   * @param { HTMLElement | undefined } target editable root element(s)\n   *    If no param is specified all editables marked as disabled are enabled.\n   * @param {boolean} normalize normalizes target content (legacy param)\n   * @param {boolean} options.normalize normalizes target content\n   * @param {boolean} options.plainText prevents text formatting for block\n   * @chainable\n   */\n  enable (target, options) {\n    const {\n      normalize = typeof options === 'boolean' ? options : false,\n      plainText = false\n    } = options ?? {}\n    const shouldSpellcheck = this.config.browserSpellcheck\n    const targets = domArray(target || `.${config.editableDisabledClass}`, this.win.document)\n\n    for (const element of targets) {\n      block.init(element, {normalize, plainText, shouldSpellcheck})\n      this.dispatcher.notify('init', element)\n    }\n\n    return this\n  }\n\n  /**\n  * Temporarily disable an editable.\n  * Can be used to prevent text selection while dragging an element\n  * for example.\n  *\n  * @method suspend\n  * @param { HTMLElement | undefined } target\n  */\n  suspend (target) {\n    const targets = domArray(target || `.${config.editableClass}`, this.win.document)\n\n    for (const element of targets) {\n      element.removeAttribute('contenteditable')\n    }\n\n    this.dispatcher.suspend()\n    return this\n  }\n\n  /**\n  * Reverse the effects of suspend()\n  *\n  * @method continue\n  * @param { HTMLElement | undefined } target\n  */\n  continue (target) {\n    const targets = domArray(target || `.${config.editableClass}`, this.win.document)\n\n    for (const element of targets) {\n      element.setAttribute('contenteditable', true)\n    }\n\n    this.dispatcher.continue()\n    return this\n  }\n  /**\n   * Set the cursor inside of an editable block.\n   *\n   * @method createCursor\n   * @param { HTMLElement } element\n   * @param { 'beginning' | 'end' | 'before' | 'after' } position\n   */\n\n  createCursor (element, position = 'beginning') {\n    const host = Cursor.findHost(element, this.editableSelector)\n    if (!host) return undefined\n\n    const range = createRange()\n\n    if (position === 'beginning' || position === 'end') {\n      range.selectNodeContents(element)\n      range.collapse(position === 'beginning')\n    } else if (element !== host) {\n      if (position === 'before') {\n        range.setStartBefore(element)\n        range.setEndBefore(element)\n      } else if (position === 'after') {\n        range.setStartAfter(element)\n        range.setEndAfter(element)\n      }\n    } else {\n      error('EditableJS: cannot create cursor outside of an editable block.')\n    }\n\n    return new Cursor(host, range)\n  }\n\n  createCursorAtCharacterOffset ({element, offset}) {\n    const textNodes = textNodesUnder(element)\n    const {node, relativeOffset} = getTextNodeAndRelativeOffset({textNodes, absOffset: offset})\n    const newRange = createRange()\n    newRange.setStart(node, relativeOffset)\n    newRange.collapse(true)\n\n    const host = Cursor.findHost(element, this.editableSelector)\n    const nextCursor = new Cursor(host, newRange)\n\n    nextCursor.setVisibleSelection()\n    return nextCursor\n  }\n\n  createCursorAtBeginning (element) {\n    return this.createCursor(element, 'beginning')\n  }\n\n  createCursorAtEnd (element) {\n    return this.createCursor(element, 'end')\n  }\n\n  createCursorBefore (element) {\n    return this.createCursor(element, 'before')\n  }\n\n  createCursorAfter (element) {\n    return this.createCursor(element, 'after')\n  }\n\n  /**\n   * Extract the content from an editable host or document fragment.\n   * This method will remove all internal elements and ui-elements.\n   *\n   * @param {DOM node or Document Fragment} The innerHTML of this element or fragment will be extracted.\n   * @returns {String} The cleaned innerHTML.\n   */\n  getContent (element) {\n    return content.extractContent(element)\n  }\n\n  /**\n   * @param {String | DocumentFragment} content to append.\n   * @returns {Cursor} A new Cursor object just before the inserted content.\n   */\n  appendTo (inputElement, contentToAppend) {\n    const element = content.adoptElement(inputElement, this.win.document)\n\n    const cursor = this.createCursor(element, 'end')\n    // TODO create content in the right window\n    cursor.insertAfter(typeof contentToAppend === 'string'\n      ? content.createFragmentFromString(contentToAppend)\n      : contentToAppend\n    )\n    return cursor\n  }\n\n  /**\n   * @param {String | DocumentFragment} content to prepend\n   * @returns {Cursor} A new Cursor object just after the inserted content.\n   */\n  prependTo (inputElement, contentToPrepend) {\n    const element = content.adoptElement(inputElement, this.win.document)\n\n    const cursor = this.createCursor(element, 'beginning')\n    // TODO create content in the right window\n    cursor.insertBefore(typeof contentToPrepend === 'string'\n      ? content.createFragmentFromString(contentToPrepend)\n      : contentToPrepend\n    )\n    return cursor\n  }\n\n  /**\n   * Get the current selection.\n   * Only returns something if the selection is within an editable element.\n   * If you pass an editable host as param it only returns something if the selection is inside this\n   * very editable element.\n   *\n   * @param {DOMNode} Optional. An editable host where the selection needs to be contained.\n   * @returns A Cursor or Selection object or undefined.\n   */\n  getSelection (editableHost) {\n    const selection = this.dispatcher.selectionWatcher.getFreshSelection()\n    if (!editableHost || !selection) return selection\n\n    const range = selection.range\n\n    // Check if the selection is inside the editableHost\n    if (editableHost?.isConnected && nodeContainsRange(editableHost, range)) {\n      return selection\n    }\n  }\n\n  /**\n   * Enable spellchecking\n   *\n   * @chainable\n   */\n  setupHighlighting (hightlightingConfig) {\n    this.highlighting = new MonitoredHighlighting(this, hightlightingConfig)\n\n    return this\n  }\n\n  // For backwards compatibility\n  setupSpellcheck (conf) {\n    let marker\n\n    if (conf.markerNode) {\n      marker = conf.markerNode.outerHTML\n    }\n\n    this.setupHighlighting({\n      throttle: conf.throttle,\n      spellcheck: {\n        marker: marker,\n        spellcheckService: conf.spellcheckService\n      }\n    })\n\n    this.spellcheck = {\n      checkSpelling: (elem) => {\n        this.highlighting.highlight(elem)\n      }\n    }\n  }\n\n  /**\n   * Highlight text within an editable.\n   *\n   * By default highlights all occurrences of `text`.\n   * Pass it a `textRange` object to highlight a\n   * specific text portion.\n   *\n   * The markup used for the highlighting will be removed\n   * from the final content.\n   *\n   *\n   * @param  {Object} options\n   * @param  {DOMNode} options.editableHost\n   * @param  {String} options.text\n   * @param  {String} options.highlightId Added to the highlight markups in the property `data-word-id`\n   * @param  {Object} [options.textRange] An optional range which gets used to set the markers.\n   * @param  {Number} options.textRange.start\n   * @param  {Number} options.textRange.end\n   * @param  {Boolean} options.raiseEvents do throw change events\n   * @return {Number} The text-based start offset of the newly applied highlight or `-1` if the range was considered invalid.\n   */\n  highlight ({editableHost, text, highlightId, textRange, raiseEvents, type = 'comment'}) {\n    if (!textRange) {\n      return highlightSupport.highlightText(editableHost, text, highlightId, type, raiseEvents ? this.dispatcher : undefined)\n    }\n    if (typeof textRange.start !== 'number' || typeof textRange.end !== 'number') {\n      error(\n        'Error in Editable.highlight: You passed a textRange object with invalid keys. Expected shape: { start: Number, end: Number }'\n      )\n      return -1\n    }\n    if (textRange.start === textRange.end) {\n      error(\n        'Error in Editable.highlight: You passed a textRange object with equal start and end offsets, which is considered a cursor and therefore unfit to create a highlight.'\n      )\n      return -1\n    }\n    return highlightSupport.highlightRange(editableHost, text, highlightId, textRange.start, textRange.end, raiseEvents ? this.dispatcher : undefined, type)\n  }\n\n  /**\n   * Extracts positions of all DOMNodes that match `[data-word-id]` and the `[data-highlight]`\n   *\n   * Returns an object where the keys represent a highlight id and the value\n   * a text range object of shape:\n   * ```\n   * { start: number, end: number, text: string}\n   * ```\n   *\n   * @param  {Object} options\n   * @param  {DOMNode} options.editableHost\n   * @param  {String} [options.type]\n   * @return {Object} ranges\n   */\n  getHighlightPositions ({editableHost, type}) {\n    return highlightSupport.extractHighlightedRanges(\n      editableHost,\n      type\n    )\n  }\n\n  removeHighlight ({editableHost, highlightId, raiseEvents}) {\n    highlightSupport.removeHighlight(editableHost, highlightId, raiseEvents ? this.dispatcher : undefined)\n  }\n\n  decorateHighlight ({editableHost, highlightId, addCssClass, removeCssClass}) {\n    highlightSupport.updateHighlight(editableHost, highlightId, addCssClass, removeCssClass)\n  }\n\n  /**\n   * Subscribe a callback function to a custom event fired by the API.\n   *\n   * @param {String} event The name of the event.\n   * @param {Function} handler The callback to execute in response to the\n   *     event.\n   *\n   * @chainable\n   */\n  on (event, handler) {\n    // TODO throw error if event is not one of EVENTS\n    // TODO throw error if handler is not a function\n    this.dispatcher.on(event, handler)\n    return this\n  }\n\n  /**\n   * Unsubscribe a callback function from a custom event fired by the API.\n   * Opposite of {{#crossLink \"Editable/on\"}}{{/crossLink}}.\n   *\n   * @param {String} event The name of the event.\n   * @param {Function} handler The callback to remove from the\n   *     event or the special value false to remove all callbacks.\n   *\n   * @chainable\n   */\n  off (...args) {\n    this.dispatcher.off.apply(this.dispatcher, args)\n    return this\n  }\n\n  /**\n   * Unsubscribe all callbacks and event listeners.\n   *\n   * @chainable\n   */\n  unload () {\n    this.dispatcher.unload()\n    return this\n  }\n\n  /**\n   * Takes coordinates and uses its left value to find out how to offset a character in a string to\n   * closely match the coordinates.left value.\n   * Takes conditions for the result being on the first line, used when navigating to a paragraph from\n   * the above paragraph and being on the last line, used when navigating to a paragraph from the below\n   * paragraph.\n   *\n   * Internally this sets up the methods used for a binary cursor search and calls this.\n   *\n   * @param {DomNode} element\n   *  - the editable hostDOM Node to which the cursor jumps\n   * @param {object} coordinates\n   *  - The bounding rect of the preceding cursor to be matched\n   * @param {boolean} requiredOnFirstLine\n   *  - set to true if you want to require the cursor to be on the first line of the paragraph\n   * @param {boolean} requiredOnLastLine\n   *  - set to true if you want to require the cursor to be on the last line of the paragraph\n   *\n   * @return {Object}\n   *  - object with boolean `wasFound` indicating if the binary search found an offset and `offset` to indicate the actual character offset\n   */\n  findClosestCursorOffset ({\n    element,\n    origCoordinates,\n    requiredOnFirstLine = false,\n    requiredOnLastLine = false\n  }) {\n    const positionX = this.dispatcher.switchContext\n      ? this.dispatcher.switchContext.positionX\n      : origCoordinates.left\n\n    return binaryCursorSearch({\n      host: element,\n      requiredOnFirstLine,\n      requiredOnLastLine,\n      positionX\n    })\n  }\n}\n\n// Expose modules and editable\nEditable.parser = parser\nEditable.content = content\n\n// Set up callback functions for several events.\n;['focus', 'blur', 'flow', 'selection', 'cursor', 'newline',\n  'insert', 'split', 'merge', 'empty', 'change', 'switch',\n  'move', 'clipboard', 'paste', 'spellcheckUpdated', 'selectToBoundary'\n].forEach((name) => {\n  // Generate a callback function to subscribe to an event.\n  Editable.prototype[name] = function (handler) {\n    return this.on(name, handler)\n  }\n})\n","import createDefaultBehavior from './create-default-behavior.js'\n\nexport default function createDefaultEvents (editable) {\n  const behavior = createDefaultBehavior(editable)\n\n  return {\n    /**\n     * The focus event is triggered when an element gains focus.\n     * The default behavior is to... TODO\n     *\n     * @event focus\n     * @param {HTMLElement} element The element triggering the event.\n     */\n    focus (element) {\n      behavior.focus(element)\n    },\n\n    /**\n     * The blur event is triggered when an element looses focus.\n     * The default behavior is to... TODO\n     *\n     * @event blur\n     * @param {HTMLElement} element The element triggering the event.\n     */\n    blur (element) {\n      behavior.blur(element)\n    },\n\n    /**\n     * The flow event is triggered when the user starts typing or pause typing.\n     * The default behavior is to... TODO\n     *\n     * @event flow\n     * @param {HTMLElement} element The element triggering the event.\n     * @param {String} action The flow action: \"start\" or \"pause\".\n     */\n    flow (element, action) {\n      behavior.flow(element, action)\n    },\n\n    /**\n     * The selection event is triggered after the user has selected some\n     * content.\n     * The default behavior is to... TODO\n     *\n     * @event selection\n     * @param {HTMLElement} element The element triggering the event.\n     * @param {Selection} selection The actual Selection object.\n     */\n    selection (element, selection) {\n      behavior.selection(element, selection)\n    },\n\n    /**\n     * The cursor event is triggered after cursor position has changed.\n     * The default behavior is to... TODO\n     *\n     * @event cursor\n     * @param {HTMLElement} element The element triggering the event.\n     * @param {Cursor} cursor The actual Cursor object.\n     */\n    cursor (element, cursor) {\n      behavior.cursor(element, cursor)\n    },\n\n    /**\n     * The newline event is triggered when a newline should be inserted. This\n     * happens when SHIFT+ENTER key is pressed.\n     * The default behavior is to add a <br />\n     *\n     * @event newline\n     * @param {HTMLElement} element The element triggering the event.\n     * @param {Cursor} cursor The actual cursor object.\n     */\n    newline (element, cursor) {\n      behavior.newline(element, cursor)\n    },\n\n    /**\n     * The split event is triggered when a block should be split into two\n     * blocks. This happens when ENTER is pressed within a non-empty block.\n     * The default behavior is to... TODO\n     *\n     * @event split\n     * @param {HTMLElement} element The element triggering the event.\n     * @param {String} before The HTML string before the split.\n     * @param {String} after The HTML string after the split.\n     * @param {Cursor} cursor The actual cursor object.\n     */\n    split (element, before, after, cursor) {\n      behavior.split(element, before, after, cursor)\n    },\n\n    /**\n     * The insert event is triggered when a new block should be inserted. This\n     * happens when ENTER key is pressed at the beginning of a block (should\n     * insert before) or at the end of a block (should insert after).\n     * The default behavior is to... TODO\n     *\n     * @event insert\n     * @param {HTMLElement} element The element triggering the event.\n     * @param {String} direction The insert direction: \"before\" or \"after\".\n     * @param {Cursor} cursor The actual cursor object.\n     */\n    insert (element, direction, cursor) {\n      behavior.insert(element, direction, cursor)\n    },\n\n    /**\n     * The merge event is triggered when two needs to be merged. This happens\n     * when BACKSPACE is pressed at the beginning of a block (should merge with\n     * the preceding block) or DEL is pressed at the end of a block (should\n     * merge with the following block).\n     * The default behavior is to... TODO\n     *\n     * @event merge\n     * @param {HTMLElement} element The element triggering the event.\n     * @param {String} direction The merge direction: \"before\" or \"after\".\n     * @param {Cursor} cursor The actual cursor object.\n     */\n    merge (element, direction, cursor) {\n      behavior.merge(element, direction, cursor)\n    },\n\n    /**\n     * The empty event is triggered when a block is emptied.\n     * The default behavior is to... TODO\n     *\n     * @event empty\n     * @param {HTMLElement} element The element triggering the event.\n     */\n    empty (element) {\n      behavior.empty(element)\n    },\n\n    /**\n     * The switch event is triggered when the user switches to another block.\n     * This happens when an ARROW key is pressed near the boundaries of a block.\n     * The default behavior is to... TODO\n     *\n     * @event switch\n     * @param {HTMLElement} element The element triggering the event.\n     * @param {String} direction The switch direction: \"before\" or \"after\".\n     * @param {Cursor} cursor The actual cursor object.*\n     */\n    switch (element, direction, cursor) {\n      behavior.switch(element, direction, cursor)\n    },\n\n    /**\n     * The move event is triggered when the user moves a selection in a block.\n     * This happens when the user selects some (or all) content in a block and\n     * an ARROW key is pressed (up: drag before, down: drag after).\n     * The default behavior is to... TODO\n     *\n     * @event move\n     * @param {HTMLElement} element The element triggering the event.\n     * @param {Selection} selection The actual Selection object.\n     * @param {String} direction The move direction: \"before\" or \"after\".\n     */\n    move (element, selection, direction) {\n      behavior.move(element, selection, direction)\n    },\n\n    /**\n     * The clipboard event is triggered when the user copies or cuts\n     * a selection within a block.\n     *\n     * @event clipboard\n     * @param {HTMLElement} element The element triggering the event.\n     * @param {String} action The clipboard action: \"copy\" or \"cut\".\n     * @param {Selection} selection A selection object around the copied content.\n     */\n    clipboard (element, action, selection) {\n      behavior.clipboard(element, action, selection)\n    },\n\n    /**\n     * The paste event is triggered when the user pastes text\n     *\n     * @event paste\n     * @param {HTMLElement} The element triggering the event.\n     * @param {Array of String} The pasted blocks\n     * @param {Cursor} The cursor object.\n     */\n    paste (element, blocks, cursor) {\n      behavior.paste(element, blocks, cursor)\n    },\n\n    /**\n     * The toggleBold event is triggered when the bold keyboard shortcut is used\n     *\n     * @event toggleBold\n     * @param {Selection} The selection object.\n     */\n    toggleBold (selection) {\n      behavior.toggleBold(selection)\n    },\n\n    /**\n     * The toggleEmphasis event is triggered when the italic keyboard shortcut is used\n     *\n     * @event toggleEmphasis\n     * @param {Selection} The selection object.\n     */\n    toggleEmphasis (selection) {\n      behavior.toggleEmphasis(selection)\n    }\n  }\n}\n","import * as parser from './parser.js'\nimport * as content from './content.js'\nimport log from './util/log.js'\nimport * as block from './block.js'\nimport * as nodeType from './node-type.js'\n\n/**\n * The Behavior module defines the behavior triggered in response to the Editable.JS\n * events (see {{#crossLink \"Editable\"}}{{/crossLink}}).\n * The behavior can be overwritten by a user with Editable.init() or on\n * Editable.add() per element.\n *\n * @module core\n * @submodule behavior\n */\n\nexport default function createDefaultBehavior (editable) {\n  const document = editable.win.document\n  /**\n  * Factory for the default behavior.\n  * Provides default behavior of the Editable.JS API.\n  *\n  * @static\n  */\n\n  return {\n    /** @param {HTMLElement} element */\n    focus (element) {\n      if (!parser.isVoid(element)) return\n\n      // Add an zero width space if the editable is empty to force it to have a height\n      // E.g. Firefox does not render empty block elements\n      //   and most browsers do not render empty inline elements.\n      element.appendChild(document.createTextNode('\\uFEFF'))\n    },\n\n    blur (element) {\n      // Note: there is a special case when the tab is changed where\n      // we can get a blur event even if the cursor is still in the editable.\n      // This blur would cause us to loose the cursor position (cause of cleanInternals()).\n      // To prevent this we check if the activeElement is still the editable.\n      // (Note: document.getSelection() did not work reliably in this case.)\n      if (document.activeElement === element) return\n\n      content.cleanInternals(element)\n    },\n\n    selection (element, selection) {\n      log(selection ? 'Default selection behavior' : 'Default selection empty behavior')\n    },\n\n    cursor (element, cursor) {\n      log(cursor ? 'Default cursor behavior' : 'Default cursor empty behavior')\n    },\n\n    newline (element, cursor) {\n      // When the cursor is at the text end, we'll need to add an empty text node\n      // after the br tag to ensure that the cursor shows up on the next line\n      if (cursor.isAtTextEnd()) {\n        const br = document.createElement('br')\n        cursor.insertBefore(br)\n\n        // Only append a zero width space if there's none after the br tag\n        // We don't need to remove them as they get cleaned up on blur\n        if (\n          br.nextSibling?.nodeType !== nodeType.textNode ||\n          br.nextSibling.textContent[0] !== '\\uFEFF'\n        ) {\n          cursor.insertAfter(document.createTextNode('\\uFEFF'))\n        }\n      } else {\n        cursor.insertBefore(document.createElement('br'))\n      }\n\n      cursor.setVisibleSelection()\n    },\n\n    insert (element, direction, cursor) {\n      const parent = element.parentNode\n      const newElement = element.cloneNode(false)\n      if (newElement.id) newElement.removeAttribute('id')\n\n      switch (direction) {\n        case 'before':\n          parent.insertBefore(newElement, element)\n          element.focus()\n          break\n        case 'after':\n          parent.insertBefore(newElement, element.nextSibling)\n          newElement.focus()\n          break\n      }\n    },\n\n    split (element, before, after, cursor) {\n      const newNode = element.cloneNode(false)\n      newNode.appendChild(before)\n\n      const parent = element.parentNode\n      parent.insertBefore(newNode, element)\n\n      while (element.firstChild) element.removeChild(element.firstChild)\n\n      element.appendChild(after)\n      content.tidyHtml(newNode)\n      content.tidyHtml(element)\n      element.focus()\n    },\n\n    merge (element, direction, cursor) {\n      let container, merger\n\n      switch (direction) {\n        case 'before':\n          container = block.previous(element)\n          merger = element\n          break\n        case 'after':\n          container = element\n          merger = block.next(element)\n          break\n      }\n\n      if (!(container && merger)) return\n\n      cursor = container.childNodes.length > 0\n        ? editable.appendTo(container, merger.innerHTML)\n        : editable.prependTo(container, merger.innerHTML)\n\n      // remove merged node\n      merger.remove()\n\n      cursor.save()\n      content.tidyHtml(container)\n      cursor.restore()\n      cursor.setVisibleSelection()\n    },\n\n    empty (element) {\n      log('Default empty behavior')\n    },\n\n    switch (element, direction, cursor) {\n      switch (direction) {\n        case 'before':\n          const previous = block.previous(element)\n          if (previous) {\n            cursor.moveAtTextEnd(previous)\n            cursor.setVisibleSelection()\n          }\n          break\n        case 'after':\n          const next = block.next(element)\n          if (next) {\n            cursor.moveAtBeginning(next)\n            cursor.setVisibleSelection()\n          }\n          break\n      }\n    },\n\n    move (element, selection, direction) {\n      log('Default move behavior')\n    },\n\n    paste (element, blocks, cursor) {\n      if (blocks.length === 0) return\n\n      cursor.insertBefore(blocks.shift())\n      if (blocks.length === 0) return cursor.setVisibleSelection()\n\n      const parent = element.parentNode\n      let currentElement = element\n\n      blocks.forEach((str) => {\n        const newElement = element.cloneNode(false)\n        if (newElement.id) newElement.removeAttribute('id')\n        const fragment = content.createFragmentFromString(str)\n        newElement.appendChild(fragment)\n        parent.insertBefore(newElement, currentElement.nextSibling)\n        currentElement = newElement\n      })\n\n      // focus last element\n      editable.createCursorAtEnd(currentElement)\n        .setVisibleSelection()\n    },\n\n    clipboard (element, action, cursor) {\n      log('Default clipboard behavior')\n    },\n\n    toggleBold (selection) {\n      selection.toggleBold()\n    },\n\n    toggleEmphasis (selection) {\n      selection.toggleEmphasis()\n    }\n  }\n}\n","function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nexport { _extends as default };","function _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (e.includes(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nexport { _objectWithoutPropertiesLoose as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","function replaceClassName(origClass, classToRemove) {\n  return origClass.replace(new RegExp(\"(^|\\\\s)\" + classToRemove + \"(?:\\\\s|$)\", 'g'), '$1').replace(/\\s+/g, ' ').replace(/^\\s*|\\s*$/g, '');\n}\n/**\n * Removes a CSS class from a given element.\n * \n * @param element the element\n * @param className the CSS class name\n */\n\n\nexport default function removeClass(element, className) {\n  if (element.classList) {\n    element.classList.remove(className);\n  } else if (typeof element.className === 'string') {\n    element.className = replaceClassName(element.className, className);\n  } else {\n    element.setAttribute('class', replaceClassName(element.className && element.className.baseVal || '', className));\n  }\n}","export default {\n  disabled: false\n};","import React from 'react';\nexport default React.createContext(null);","export var forceReflow = function forceReflow(node) {\n  return node.scrollTop;\n};","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport config from './config';\nimport { timeoutsShape } from './utils/PropTypes';\nimport TransitionGroupContext from './TransitionGroupContext';\nimport { forceReflow } from './utils/reflow';\nexport var UNMOUNTED = 'unmounted';\nexport var EXITED = 'exited';\nexport var ENTERING = 'entering';\nexport var ENTERED = 'entered';\nexport var EXITING = 'exiting';\n/**\n * The Transition component lets you describe a transition from one component\n * state to another _over time_ with a simple declarative API. Most commonly\n * it's used to animate the mounting and unmounting of a component, but can also\n * be used to describe in-place transition states as well.\n *\n * ---\n *\n * **Note**: `Transition` is a platform-agnostic base component. If you're using\n * transitions in CSS, you'll probably want to use\n * [`CSSTransition`](https://reactcommunity.org/react-transition-group/css-transition)\n * instead. It inherits all the features of `Transition`, but contains\n * additional features necessary to play nice with CSS transitions (hence the\n * name of the component).\n *\n * ---\n *\n * By default the `Transition` component does not alter the behavior of the\n * component it renders, it only tracks \"enter\" and \"exit\" states for the\n * components. It's up to you to give meaning and effect to those states. For\n * example we can add styles to a component when it enters or exits:\n *\n * ```jsx\n * import { Transition } from 'react-transition-group';\n *\n * const duration = 300;\n *\n * const defaultStyle = {\n *   transition: `opacity ${duration}ms ease-in-out`,\n *   opacity: 0,\n * }\n *\n * const transitionStyles = {\n *   entering: { opacity: 1 },\n *   entered:  { opacity: 1 },\n *   exiting:  { opacity: 0 },\n *   exited:  { opacity: 0 },\n * };\n *\n * const Fade = ({ in: inProp }) => (\n *   <Transition in={inProp} timeout={duration}>\n *     {state => (\n *       <div style={{\n *         ...defaultStyle,\n *         ...transitionStyles[state]\n *       }}>\n *         I'm a fade Transition!\n *       </div>\n *     )}\n *   </Transition>\n * );\n * ```\n *\n * There are 4 main states a Transition can be in:\n *  - `'entering'`\n *  - `'entered'`\n *  - `'exiting'`\n *  - `'exited'`\n *\n * Transition state is toggled via the `in` prop. When `true` the component\n * begins the \"Enter\" stage. During this stage, the component will shift from\n * its current transition state, to `'entering'` for the duration of the\n * transition and then to the `'entered'` stage once it's complete. Let's take\n * the following example (we'll use the\n * [useState](https://reactjs.org/docs/hooks-reference.html#usestate) hook):\n *\n * ```jsx\n * function App() {\n *   const [inProp, setInProp] = useState(false);\n *   return (\n *     <div>\n *       <Transition in={inProp} timeout={500}>\n *         {state => (\n *           // ...\n *         )}\n *       </Transition>\n *       <button onClick={() => setInProp(true)}>\n *         Click to Enter\n *       </button>\n *     </div>\n *   );\n * }\n * ```\n *\n * When the button is clicked the component will shift to the `'entering'` state\n * and stay there for 500ms (the value of `timeout`) before it finally switches\n * to `'entered'`.\n *\n * When `in` is `false` the same thing happens except the state moves from\n * `'exiting'` to `'exited'`.\n */\n\nvar Transition = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Transition, _React$Component);\n\n  function Transition(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    var parentGroup = context; // In the context of a TransitionGroup all enters are really appears\n\n    var appear = parentGroup && !parentGroup.isMounting ? props.enter : props.appear;\n    var initialStatus;\n    _this.appearStatus = null;\n\n    if (props.in) {\n      if (appear) {\n        initialStatus = EXITED;\n        _this.appearStatus = ENTERING;\n      } else {\n        initialStatus = ENTERED;\n      }\n    } else {\n      if (props.unmountOnExit || props.mountOnEnter) {\n        initialStatus = UNMOUNTED;\n      } else {\n        initialStatus = EXITED;\n      }\n    }\n\n    _this.state = {\n      status: initialStatus\n    };\n    _this.nextCallback = null;\n    return _this;\n  }\n\n  Transition.getDerivedStateFromProps = function getDerivedStateFromProps(_ref, prevState) {\n    var nextIn = _ref.in;\n\n    if (nextIn && prevState.status === UNMOUNTED) {\n      return {\n        status: EXITED\n      };\n    }\n\n    return null;\n  } // getSnapshotBeforeUpdate(prevProps) {\n  //   let nextStatus = null\n  //   if (prevProps !== this.props) {\n  //     const { status } = this.state\n  //     if (this.props.in) {\n  //       if (status !== ENTERING && status !== ENTERED) {\n  //         nextStatus = ENTERING\n  //       }\n  //     } else {\n  //       if (status === ENTERING || status === ENTERED) {\n  //         nextStatus = EXITING\n  //       }\n  //     }\n  //   }\n  //   return { nextStatus }\n  // }\n  ;\n\n  var _proto = Transition.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.updateStatus(true, this.appearStatus);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var nextStatus = null;\n\n    if (prevProps !== this.props) {\n      var status = this.state.status;\n\n      if (this.props.in) {\n        if (status !== ENTERING && status !== ENTERED) {\n          nextStatus = ENTERING;\n        }\n      } else {\n        if (status === ENTERING || status === ENTERED) {\n          nextStatus = EXITING;\n        }\n      }\n    }\n\n    this.updateStatus(false, nextStatus);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.cancelNextCallback();\n  };\n\n  _proto.getTimeouts = function getTimeouts() {\n    var timeout = this.props.timeout;\n    var exit, enter, appear;\n    exit = enter = appear = timeout;\n\n    if (timeout != null && typeof timeout !== 'number') {\n      exit = timeout.exit;\n      enter = timeout.enter; // TODO: remove fallback for next major\n\n      appear = timeout.appear !== undefined ? timeout.appear : enter;\n    }\n\n    return {\n      exit: exit,\n      enter: enter,\n      appear: appear\n    };\n  };\n\n  _proto.updateStatus = function updateStatus(mounting, nextStatus) {\n    if (mounting === void 0) {\n      mounting = false;\n    }\n\n    if (nextStatus !== null) {\n      // nextStatus will always be ENTERING or EXITING.\n      this.cancelNextCallback();\n\n      if (nextStatus === ENTERING) {\n        if (this.props.unmountOnExit || this.props.mountOnEnter) {\n          var node = this.props.nodeRef ? this.props.nodeRef.current : ReactDOM.findDOMNode(this); // https://github.com/reactjs/react-transition-group/pull/749\n          // With unmountOnExit or mountOnEnter, the enter animation should happen at the transition between `exited` and `entering`.\n          // To make the animation happen,  we have to separate each rendering and avoid being processed as batched.\n\n          if (node) forceReflow(node);\n        }\n\n        this.performEnter(mounting);\n      } else {\n        this.performExit();\n      }\n    } else if (this.props.unmountOnExit && this.state.status === EXITED) {\n      this.setState({\n        status: UNMOUNTED\n      });\n    }\n  };\n\n  _proto.performEnter = function performEnter(mounting) {\n    var _this2 = this;\n\n    var enter = this.props.enter;\n    var appearing = this.context ? this.context.isMounting : mounting;\n\n    var _ref2 = this.props.nodeRef ? [appearing] : [ReactDOM.findDOMNode(this), appearing],\n        maybeNode = _ref2[0],\n        maybeAppearing = _ref2[1];\n\n    var timeouts = this.getTimeouts();\n    var enterTimeout = appearing ? timeouts.appear : timeouts.enter; // no enter animation skip right to ENTERED\n    // if we are mounting and running this it means appear _must_ be set\n\n    if (!mounting && !enter || config.disabled) {\n      this.safeSetState({\n        status: ENTERED\n      }, function () {\n        _this2.props.onEntered(maybeNode);\n      });\n      return;\n    }\n\n    this.props.onEnter(maybeNode, maybeAppearing);\n    this.safeSetState({\n      status: ENTERING\n    }, function () {\n      _this2.props.onEntering(maybeNode, maybeAppearing);\n\n      _this2.onTransitionEnd(enterTimeout, function () {\n        _this2.safeSetState({\n          status: ENTERED\n        }, function () {\n          _this2.props.onEntered(maybeNode, maybeAppearing);\n        });\n      });\n    });\n  };\n\n  _proto.performExit = function performExit() {\n    var _this3 = this;\n\n    var exit = this.props.exit;\n    var timeouts = this.getTimeouts();\n    var maybeNode = this.props.nodeRef ? undefined : ReactDOM.findDOMNode(this); // no exit animation skip right to EXITED\n\n    if (!exit || config.disabled) {\n      this.safeSetState({\n        status: EXITED\n      }, function () {\n        _this3.props.onExited(maybeNode);\n      });\n      return;\n    }\n\n    this.props.onExit(maybeNode);\n    this.safeSetState({\n      status: EXITING\n    }, function () {\n      _this3.props.onExiting(maybeNode);\n\n      _this3.onTransitionEnd(timeouts.exit, function () {\n        _this3.safeSetState({\n          status: EXITED\n        }, function () {\n          _this3.props.onExited(maybeNode);\n        });\n      });\n    });\n  };\n\n  _proto.cancelNextCallback = function cancelNextCallback() {\n    if (this.nextCallback !== null) {\n      this.nextCallback.cancel();\n      this.nextCallback = null;\n    }\n  };\n\n  _proto.safeSetState = function safeSetState(nextState, callback) {\n    // This shouldn't be necessary, but there are weird race conditions with\n    // setState callbacks and unmounting in testing, so always make sure that\n    // we can cancel any pending setState callbacks after we unmount.\n    callback = this.setNextCallback(callback);\n    this.setState(nextState, callback);\n  };\n\n  _proto.setNextCallback = function setNextCallback(callback) {\n    var _this4 = this;\n\n    var active = true;\n\n    this.nextCallback = function (event) {\n      if (active) {\n        active = false;\n        _this4.nextCallback = null;\n        callback(event);\n      }\n    };\n\n    this.nextCallback.cancel = function () {\n      active = false;\n    };\n\n    return this.nextCallback;\n  };\n\n  _proto.onTransitionEnd = function onTransitionEnd(timeout, handler) {\n    this.setNextCallback(handler);\n    var node = this.props.nodeRef ? this.props.nodeRef.current : ReactDOM.findDOMNode(this);\n    var doesNotHaveTimeoutOrListener = timeout == null && !this.props.addEndListener;\n\n    if (!node || doesNotHaveTimeoutOrListener) {\n      setTimeout(this.nextCallback, 0);\n      return;\n    }\n\n    if (this.props.addEndListener) {\n      var _ref3 = this.props.nodeRef ? [this.nextCallback] : [node, this.nextCallback],\n          maybeNode = _ref3[0],\n          maybeNextCallback = _ref3[1];\n\n      this.props.addEndListener(maybeNode, maybeNextCallback);\n    }\n\n    if (timeout != null) {\n      setTimeout(this.nextCallback, timeout);\n    }\n  };\n\n  _proto.render = function render() {\n    var status = this.state.status;\n\n    if (status === UNMOUNTED) {\n      return null;\n    }\n\n    var _this$props = this.props,\n        children = _this$props.children,\n        _in = _this$props.in,\n        _mountOnEnter = _this$props.mountOnEnter,\n        _unmountOnExit = _this$props.unmountOnExit,\n        _appear = _this$props.appear,\n        _enter = _this$props.enter,\n        _exit = _this$props.exit,\n        _timeout = _this$props.timeout,\n        _addEndListener = _this$props.addEndListener,\n        _onEnter = _this$props.onEnter,\n        _onEntering = _this$props.onEntering,\n        _onEntered = _this$props.onEntered,\n        _onExit = _this$props.onExit,\n        _onExiting = _this$props.onExiting,\n        _onExited = _this$props.onExited,\n        _nodeRef = _this$props.nodeRef,\n        childProps = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"in\", \"mountOnEnter\", \"unmountOnExit\", \"appear\", \"enter\", \"exit\", \"timeout\", \"addEndListener\", \"onEnter\", \"onEntering\", \"onEntered\", \"onExit\", \"onExiting\", \"onExited\", \"nodeRef\"]);\n\n    return (\n      /*#__PURE__*/\n      // allows for nested Transitions\n      React.createElement(TransitionGroupContext.Provider, {\n        value: null\n      }, typeof children === 'function' ? children(status, childProps) : React.cloneElement(React.Children.only(children), childProps))\n    );\n  };\n\n  return Transition;\n}(React.Component);\n\nTransition.contextType = TransitionGroupContext;\nTransition.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * A React reference to DOM element that need to transition:\n   * https://stackoverflow.com/a/51127130/4671932\n   *\n   *   - When `nodeRef` prop is used, `node` is not passed to callback functions\n   *      (e.g. `onEnter`) because user already has direct access to the node.\n   *   - When changing `key` prop of `Transition` in a `TransitionGroup` a new\n   *     `nodeRef` need to be provided to `Transition` with changed `key` prop\n   *     (see\n   *     [test/CSSTransition-test.js](https://github.com/reactjs/react-transition-group/blob/13435f897b3ab71f6e19d724f145596f5910581c/test/CSSTransition-test.js#L362-L437)).\n   */\n  nodeRef: PropTypes.shape({\n    current: typeof Element === 'undefined' ? PropTypes.any : function (propValue, key, componentName, location, propFullName, secret) {\n      var value = propValue[key];\n      return PropTypes.instanceOf(value && 'ownerDocument' in value ? value.ownerDocument.defaultView.Element : Element)(propValue, key, componentName, location, propFullName, secret);\n    }\n  }),\n\n  /**\n   * A `function` child can be used instead of a React element. This function is\n   * called with the current transition status (`'entering'`, `'entered'`,\n   * `'exiting'`, `'exited'`), which can be used to apply context\n   * specific props to a component.\n   *\n   * ```jsx\n   * <Transition in={this.state.in} timeout={150}>\n   *   {state => (\n   *     <MyComponent className={`fade fade-${state}`} />\n   *   )}\n   * </Transition>\n   * ```\n   */\n  children: PropTypes.oneOfType([PropTypes.func.isRequired, PropTypes.element.isRequired]).isRequired,\n\n  /**\n   * Show the component; triggers the enter or exit states\n   */\n  in: PropTypes.bool,\n\n  /**\n   * By default the child component is mounted immediately along with\n   * the parent `Transition` component. If you want to \"lazy mount\" the component on the\n   * first `in={true}` you can set `mountOnEnter`. After the first enter transition the component will stay\n   * mounted, even on \"exited\", unless you also specify `unmountOnExit`.\n   */\n  mountOnEnter: PropTypes.bool,\n\n  /**\n   * By default the child component stays mounted after it reaches the `'exited'` state.\n   * Set `unmountOnExit` if you'd prefer to unmount the component after it finishes exiting.\n   */\n  unmountOnExit: PropTypes.bool,\n\n  /**\n   * By default the child component does not perform the enter transition when\n   * it first mounts, regardless of the value of `in`. If you want this\n   * behavior, set both `appear` and `in` to `true`.\n   *\n   * > **Note**: there are no special appear states like `appearing`/`appeared`, this prop\n   * > only adds an additional enter transition. However, in the\n   * > `<CSSTransition>` component that first enter transition does result in\n   * > additional `.appear-*` classes, that way you can choose to style it\n   * > differently.\n   */\n  appear: PropTypes.bool,\n\n  /**\n   * Enable or disable enter transitions.\n   */\n  enter: PropTypes.bool,\n\n  /**\n   * Enable or disable exit transitions.\n   */\n  exit: PropTypes.bool,\n\n  /**\n   * The duration of the transition, in milliseconds.\n   * Required unless `addEndListener` is provided.\n   *\n   * You may specify a single timeout for all transitions:\n   *\n   * ```jsx\n   * timeout={500}\n   * ```\n   *\n   * or individually:\n   *\n   * ```jsx\n   * timeout={{\n   *  appear: 500,\n   *  enter: 300,\n   *  exit: 500,\n   * }}\n   * ```\n   *\n   * - `appear` defaults to the value of `enter`\n   * - `enter` defaults to `0`\n   * - `exit` defaults to `0`\n   *\n   * @type {number | { enter?: number, exit?: number, appear?: number }}\n   */\n  timeout: function timeout(props) {\n    var pt = timeoutsShape;\n    if (!props.addEndListener) pt = pt.isRequired;\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return pt.apply(void 0, [props].concat(args));\n  },\n\n  /**\n   * Add a custom transition end trigger. Called with the transitioning\n   * DOM node and a `done` callback. Allows for more fine grained transition end\n   * logic. Timeouts are still used as a fallback if provided.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * ```jsx\n   * addEndListener={(node, done) => {\n   *   // use the css transitionend event to mark the finish of a transition\n   *   node.addEventListener('transitionend', done, false);\n   * }}\n   * ```\n   */\n  addEndListener: PropTypes.func,\n\n  /**\n   * Callback fired before the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entered\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * Callback fired before the \"exiting\" status is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exiting\" status is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exited\" status is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExited: PropTypes.func\n} : {}; // Name the function so it is clearer in the documentation\n\nfunction noop() {}\n\nTransition.defaultProps = {\n  in: false,\n  mountOnEnter: false,\n  unmountOnExit: false,\n  appear: false,\n  enter: true,\n  exit: true,\n  onEnter: noop,\n  onEntering: noop,\n  onEntered: noop,\n  onExit: noop,\n  onExiting: noop,\n  onExited: noop\n};\nTransition.UNMOUNTED = UNMOUNTED;\nTransition.EXITED = EXITED;\nTransition.ENTERING = ENTERING;\nTransition.ENTERED = ENTERED;\nTransition.EXITING = EXITING;\nexport default Transition;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport addOneClass from 'dom-helpers/addClass';\nimport removeOneClass from 'dom-helpers/removeClass';\nimport React from 'react';\nimport Transition from './Transition';\nimport { classNamesShape } from './utils/PropTypes';\nimport { forceReflow } from './utils/reflow';\n\nvar _addClass = function addClass(node, classes) {\n  return node && classes && classes.split(' ').forEach(function (c) {\n    return addOneClass(node, c);\n  });\n};\n\nvar removeClass = function removeClass(node, classes) {\n  return node && classes && classes.split(' ').forEach(function (c) {\n    return removeOneClass(node, c);\n  });\n};\n/**\n * A transition component inspired by the excellent\n * [ng-animate](https://docs.angularjs.org/api/ngAnimate) library, you should\n * use it if you're using CSS transitions or animations. It's built upon the\n * [`Transition`](https://reactcommunity.org/react-transition-group/transition)\n * component, so it inherits all of its props.\n *\n * `CSSTransition` applies a pair of class names during the `appear`, `enter`,\n * and `exit` states of the transition. The first class is applied and then a\n * second `*-active` class in order to activate the CSS transition. After the\n * transition, matching `*-done` class names are applied to persist the\n * transition state.\n *\n * ```jsx\n * function App() {\n *   const [inProp, setInProp] = useState(false);\n *   return (\n *     <div>\n *       <CSSTransition in={inProp} timeout={200} classNames=\"my-node\">\n *         <div>\n *           {\"I'll receive my-node-* classes\"}\n *         </div>\n *       </CSSTransition>\n *       <button type=\"button\" onClick={() => setInProp(true)}>\n *         Click to Enter\n *       </button>\n *     </div>\n *   );\n * }\n * ```\n *\n * When the `in` prop is set to `true`, the child component will first receive\n * the class `example-enter`, then the `example-enter-active` will be added in\n * the next tick. `CSSTransition` [forces a\n * reflow](https://github.com/reactjs/react-transition-group/blob/5007303e729a74be66a21c3e2205e4916821524b/src/CSSTransition.js#L208-L215)\n * between before adding the `example-enter-active`. This is an important trick\n * because it allows us to transition between `example-enter` and\n * `example-enter-active` even though they were added immediately one after\n * another. Most notably, this is what makes it possible for us to animate\n * _appearance_.\n *\n * ```css\n * .my-node-enter {\n *   opacity: 0;\n * }\n * .my-node-enter-active {\n *   opacity: 1;\n *   transition: opacity 200ms;\n * }\n * .my-node-exit {\n *   opacity: 1;\n * }\n * .my-node-exit-active {\n *   opacity: 0;\n *   transition: opacity 200ms;\n * }\n * ```\n *\n * `*-active` classes represent which styles you want to animate **to**, so it's\n * important to add `transition` declaration only to them, otherwise transitions\n * might not behave as intended! This might not be obvious when the transitions\n * are symmetrical, i.e. when `*-enter-active` is the same as `*-exit`, like in\n * the example above (minus `transition`), but it becomes apparent in more\n * complex transitions.\n *\n * **Note**: If you're using the\n * [`appear`](http://reactcommunity.org/react-transition-group/transition#Transition-prop-appear)\n * prop, make sure to define styles for `.appear-*` classes as well.\n */\n\n\nvar CSSTransition = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(CSSTransition, _React$Component);\n\n  function CSSTransition() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.appliedClasses = {\n      appear: {},\n      enter: {},\n      exit: {}\n    };\n\n    _this.onEnter = function (maybeNode, maybeAppearing) {\n      var _this$resolveArgument = _this.resolveArguments(maybeNode, maybeAppearing),\n          node = _this$resolveArgument[0],\n          appearing = _this$resolveArgument[1];\n\n      _this.removeClasses(node, 'exit');\n\n      _this.addClass(node, appearing ? 'appear' : 'enter', 'base');\n\n      if (_this.props.onEnter) {\n        _this.props.onEnter(maybeNode, maybeAppearing);\n      }\n    };\n\n    _this.onEntering = function (maybeNode, maybeAppearing) {\n      var _this$resolveArgument2 = _this.resolveArguments(maybeNode, maybeAppearing),\n          node = _this$resolveArgument2[0],\n          appearing = _this$resolveArgument2[1];\n\n      var type = appearing ? 'appear' : 'enter';\n\n      _this.addClass(node, type, 'active');\n\n      if (_this.props.onEntering) {\n        _this.props.onEntering(maybeNode, maybeAppearing);\n      }\n    };\n\n    _this.onEntered = function (maybeNode, maybeAppearing) {\n      var _this$resolveArgument3 = _this.resolveArguments(maybeNode, maybeAppearing),\n          node = _this$resolveArgument3[0],\n          appearing = _this$resolveArgument3[1];\n\n      var type = appearing ? 'appear' : 'enter';\n\n      _this.removeClasses(node, type);\n\n      _this.addClass(node, type, 'done');\n\n      if (_this.props.onEntered) {\n        _this.props.onEntered(maybeNode, maybeAppearing);\n      }\n    };\n\n    _this.onExit = function (maybeNode) {\n      var _this$resolveArgument4 = _this.resolveArguments(maybeNode),\n          node = _this$resolveArgument4[0];\n\n      _this.removeClasses(node, 'appear');\n\n      _this.removeClasses(node, 'enter');\n\n      _this.addClass(node, 'exit', 'base');\n\n      if (_this.props.onExit) {\n        _this.props.onExit(maybeNode);\n      }\n    };\n\n    _this.onExiting = function (maybeNode) {\n      var _this$resolveArgument5 = _this.resolveArguments(maybeNode),\n          node = _this$resolveArgument5[0];\n\n      _this.addClass(node, 'exit', 'active');\n\n      if (_this.props.onExiting) {\n        _this.props.onExiting(maybeNode);\n      }\n    };\n\n    _this.onExited = function (maybeNode) {\n      var _this$resolveArgument6 = _this.resolveArguments(maybeNode),\n          node = _this$resolveArgument6[0];\n\n      _this.removeClasses(node, 'exit');\n\n      _this.addClass(node, 'exit', 'done');\n\n      if (_this.props.onExited) {\n        _this.props.onExited(maybeNode);\n      }\n    };\n\n    _this.resolveArguments = function (maybeNode, maybeAppearing) {\n      return _this.props.nodeRef ? [_this.props.nodeRef.current, maybeNode] // here `maybeNode` is actually `appearing`\n      : [maybeNode, maybeAppearing];\n    };\n\n    _this.getClassNames = function (type) {\n      var classNames = _this.props.classNames;\n      var isStringClassNames = typeof classNames === 'string';\n      var prefix = isStringClassNames && classNames ? classNames + \"-\" : '';\n      var baseClassName = isStringClassNames ? \"\" + prefix + type : classNames[type];\n      var activeClassName = isStringClassNames ? baseClassName + \"-active\" : classNames[type + \"Active\"];\n      var doneClassName = isStringClassNames ? baseClassName + \"-done\" : classNames[type + \"Done\"];\n      return {\n        baseClassName: baseClassName,\n        activeClassName: activeClassName,\n        doneClassName: doneClassName\n      };\n    };\n\n    return _this;\n  }\n\n  var _proto = CSSTransition.prototype;\n\n  _proto.addClass = function addClass(node, type, phase) {\n    var className = this.getClassNames(type)[phase + \"ClassName\"];\n\n    var _this$getClassNames = this.getClassNames('enter'),\n        doneClassName = _this$getClassNames.doneClassName;\n\n    if (type === 'appear' && phase === 'done' && doneClassName) {\n      className += \" \" + doneClassName;\n    } // This is to force a repaint,\n    // which is necessary in order to transition styles when adding a class name.\n\n\n    if (phase === 'active') {\n      if (node) forceReflow(node);\n    }\n\n    if (className) {\n      this.appliedClasses[type][phase] = className;\n\n      _addClass(node, className);\n    }\n  };\n\n  _proto.removeClasses = function removeClasses(node, type) {\n    var _this$appliedClasses$ = this.appliedClasses[type],\n        baseClassName = _this$appliedClasses$.base,\n        activeClassName = _this$appliedClasses$.active,\n        doneClassName = _this$appliedClasses$.done;\n    this.appliedClasses[type] = {};\n\n    if (baseClassName) {\n      removeClass(node, baseClassName);\n    }\n\n    if (activeClassName) {\n      removeClass(node, activeClassName);\n    }\n\n    if (doneClassName) {\n      removeClass(node, doneClassName);\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        _ = _this$props.classNames,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"classNames\"]);\n\n    return /*#__PURE__*/React.createElement(Transition, _extends({}, props, {\n      onEnter: this.onEnter,\n      onEntered: this.onEntered,\n      onEntering: this.onEntering,\n      onExit: this.onExit,\n      onExiting: this.onExiting,\n      onExited: this.onExited\n    }));\n  };\n\n  return CSSTransition;\n}(React.Component);\n\nCSSTransition.defaultProps = {\n  classNames: ''\n};\nCSSTransition.propTypes = process.env.NODE_ENV !== \"production\" ? _extends({}, Transition.propTypes, {\n  /**\n   * The animation classNames applied to the component as it appears, enters,\n   * exits or has finished the transition. A single name can be provided, which\n   * will be suffixed for each stage, e.g. `classNames=\"fade\"` applies:\n   *\n   * - `fade-appear`, `fade-appear-active`, `fade-appear-done`\n   * - `fade-enter`, `fade-enter-active`, `fade-enter-done`\n   * - `fade-exit`, `fade-exit-active`, `fade-exit-done`\n   *\n   * A few details to note about how these classes are applied:\n   *\n   * 1. They are _joined_ with the ones that are already defined on the child\n   *    component, so if you want to add some base styles, you can use\n   *    `className` without worrying that it will be overridden.\n   *\n   * 2. If the transition component mounts with `in={false}`, no classes are\n   *    applied yet. You might be expecting `*-exit-done`, but if you think\n   *    about it, a component cannot finish exiting if it hasn't entered yet.\n   *\n   * 2. `fade-appear-done` and `fade-enter-done` will _both_ be applied. This\n   *    allows you to define different behavior for when appearing is done and\n   *    when regular entering is done, using selectors like\n   *    `.fade-enter-done:not(.fade-appear-done)`. For example, you could apply\n   *    an epic entrance animation when element first appears in the DOM using\n   *    [Animate.css](https://daneden.github.io/animate.css/). Otherwise you can\n   *    simply use `fade-enter-done` for defining both cases.\n   *\n   * Each individual classNames can also be specified independently like:\n   *\n   * ```js\n   * classNames={{\n   *  appear: 'my-appear',\n   *  appearActive: 'my-active-appear',\n   *  appearDone: 'my-done-appear',\n   *  enter: 'my-enter',\n   *  enterActive: 'my-active-enter',\n   *  enterDone: 'my-done-enter',\n   *  exit: 'my-exit',\n   *  exitActive: 'my-active-exit',\n   *  exitDone: 'my-done-exit',\n   * }}\n   * ```\n   *\n   * If you want to set these classes using CSS Modules:\n   *\n   * ```js\n   * import styles from './styles.css';\n   * ```\n   *\n   * you might want to use camelCase in your CSS file, that way could simply\n   * spread them instead of listing them one by one:\n   *\n   * ```js\n   * classNames={{ ...styles }}\n   * ```\n   *\n   * @type {string | {\n   *  appear?: string,\n   *  appearActive?: string,\n   *  appearDone?: string,\n   *  enter?: string,\n   *  enterActive?: string,\n   *  enterDone?: string,\n   *  exit?: string,\n   *  exitActive?: string,\n   *  exitDone?: string,\n   * }}\n   */\n  classNames: classNamesShape,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'enter' or 'appear' class is\n   * applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'enter-active' or\n   * 'appear-active' class is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'enter' or\n   * 'appear' classes are **removed** and the `done` class is added to the DOM node.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'exit' class is\n   * applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed\n   *\n   * @type Function(node: HtmlElement)\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'exit-active' is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed\n   *\n   * @type Function(node: HtmlElement)\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'exit' classes\n   * are **removed** and the `exit-done` class is added to the DOM node.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed\n   *\n   * @type Function(node: HtmlElement)\n   */\n  onExited: PropTypes.func\n}) : {};\nexport default CSSTransition;","import hasClass from './hasClass';\n/**\n * Adds a CSS class to a given element.\n * \n * @param element the element\n * @param className the CSS class name\n */\n\nexport default function addClass(element, className) {\n  if (element.classList) element.classList.add(className);else if (!hasClass(element, className)) if (typeof element.className === 'string') element.className = element.className + \" \" + className;else element.setAttribute('class', (element.className && element.className.baseVal || '') + \" \" + className);\n}","/**\n * Checks if a given element has a CSS class.\n * \n * @param element the element\n * @param className the CSS class name\n */\nexport default function hasClass(element, className) {\n  if (element.classList) return !!className && element.classList.contains(className);\n  return (\" \" + (element.className.baseVal || element.className) + \" \").indexOf(\" \" + className + \" \") !== -1;\n}","import { Children, cloneElement, isValidElement } from 'react';\n/**\n * Given `this.props.children`, return an object mapping key to child.\n *\n * @param {*} children `this.props.children`\n * @return {object} Mapping of key to child\n */\n\nexport function getChildMapping(children, mapFn) {\n  var mapper = function mapper(child) {\n    return mapFn && isValidElement(child) ? mapFn(child) : child;\n  };\n\n  var result = Object.create(null);\n  if (children) Children.map(children, function (c) {\n    return c;\n  }).forEach(function (child) {\n    // run the map function here instead so that the key is the computed one\n    result[child.key] = mapper(child);\n  });\n  return result;\n}\n/**\n * When you're adding or removing children some may be added or removed in the\n * same render pass. We want to show *both* since we want to simultaneously\n * animate elements in and out. This function takes a previous set of keys\n * and a new set of keys and merges them with its best guess of the correct\n * ordering. In the future we may expose some of the utilities in\n * ReactMultiChild to make this easy, but for now React itself does not\n * directly have this concept of the union of prevChildren and nextChildren\n * so we implement it here.\n *\n * @param {object} prev prev children as returned from\n * `ReactTransitionChildMapping.getChildMapping()`.\n * @param {object} next next children as returned from\n * `ReactTransitionChildMapping.getChildMapping()`.\n * @return {object} a key set that contains all keys in `prev` and all keys\n * in `next` in a reasonable order.\n */\n\nexport function mergeChildMappings(prev, next) {\n  prev = prev || {};\n  next = next || {};\n\n  function getValueForKey(key) {\n    return key in next ? next[key] : prev[key];\n  } // For each key of `next`, the list of keys to insert before that key in\n  // the combined list\n\n\n  var nextKeysPending = Object.create(null);\n  var pendingKeys = [];\n\n  for (var prevKey in prev) {\n    if (prevKey in next) {\n      if (pendingKeys.length) {\n        nextKeysPending[prevKey] = pendingKeys;\n        pendingKeys = [];\n      }\n    } else {\n      pendingKeys.push(prevKey);\n    }\n  }\n\n  var i;\n  var childMapping = {};\n\n  for (var nextKey in next) {\n    if (nextKeysPending[nextKey]) {\n      for (i = 0; i < nextKeysPending[nextKey].length; i++) {\n        var pendingNextKey = nextKeysPending[nextKey][i];\n        childMapping[nextKeysPending[nextKey][i]] = getValueForKey(pendingNextKey);\n      }\n    }\n\n    childMapping[nextKey] = getValueForKey(nextKey);\n  } // Finally, add the keys which didn't appear before any key in `next`\n\n\n  for (i = 0; i < pendingKeys.length; i++) {\n    childMapping[pendingKeys[i]] = getValueForKey(pendingKeys[i]);\n  }\n\n  return childMapping;\n}\n\nfunction getProp(child, prop, props) {\n  return props[prop] != null ? props[prop] : child.props[prop];\n}\n\nexport function getInitialChildMapping(props, onExited) {\n  return getChildMapping(props.children, function (child) {\n    return cloneElement(child, {\n      onExited: onExited.bind(null, child),\n      in: true,\n      appear: getProp(child, 'appear', props),\n      enter: getProp(child, 'enter', props),\n      exit: getProp(child, 'exit', props)\n    });\n  });\n}\nexport function getNextChildMapping(nextProps, prevChildMapping, onExited) {\n  var nextChildMapping = getChildMapping(nextProps.children);\n  var children = mergeChildMappings(prevChildMapping, nextChildMapping);\n  Object.keys(children).forEach(function (key) {\n    var child = children[key];\n    if (!isValidElement(child)) return;\n    var hasPrev = (key in prevChildMapping);\n    var hasNext = (key in nextChildMapping);\n    var prevChild = prevChildMapping[key];\n    var isLeaving = isValidElement(prevChild) && !prevChild.props.in; // item is new (entering)\n\n    if (hasNext && (!hasPrev || isLeaving)) {\n      // console.log('entering', key)\n      children[key] = cloneElement(child, {\n        onExited: onExited.bind(null, child),\n        in: true,\n        exit: getProp(child, 'exit', nextProps),\n        enter: getProp(child, 'enter', nextProps)\n      });\n    } else if (!hasNext && hasPrev && !isLeaving) {\n      // item is old (exiting)\n      // console.log('leaving', key)\n      children[key] = cloneElement(child, {\n        in: false\n      });\n    } else if (hasNext && hasPrev && isValidElement(prevChild)) {\n      // item hasn't changed transition states\n      // copy over the last transition props;\n      // console.log('unchanged', key)\n      children[key] = cloneElement(child, {\n        onExited: onExited.bind(null, child),\n        in: prevChild.props.in,\n        exit: getProp(child, 'exit', nextProps),\n        enter: getProp(child, 'enter', nextProps)\n      });\n    }\n  });\n  return children;\n}","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport TransitionGroupContext from './TransitionGroupContext';\nimport { getChildMapping, getInitialChildMapping, getNextChildMapping } from './utils/ChildMapping';\n\nvar values = Object.values || function (obj) {\n  return Object.keys(obj).map(function (k) {\n    return obj[k];\n  });\n};\n\nvar defaultProps = {\n  component: 'div',\n  childFactory: function childFactory(child) {\n    return child;\n  }\n};\n/**\n * The `<TransitionGroup>` component manages a set of transition components\n * (`<Transition>` and `<CSSTransition>`) in a list. Like with the transition\n * components, `<TransitionGroup>` is a state machine for managing the mounting\n * and unmounting of components over time.\n *\n * Consider the example below. As items are removed or added to the TodoList the\n * `in` prop is toggled automatically by the `<TransitionGroup>`.\n *\n * Note that `<TransitionGroup>`  does not define any animation behavior!\n * Exactly _how_ a list item animates is up to the individual transition\n * component. This means you can mix and match animations across different list\n * items.\n */\n\nvar TransitionGroup = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(TransitionGroup, _React$Component);\n\n  function TransitionGroup(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n\n    var handleExited = _this.handleExited.bind(_assertThisInitialized(_this)); // Initial children should all be entering, dependent on appear\n\n\n    _this.state = {\n      contextValue: {\n        isMounting: true\n      },\n      handleExited: handleExited,\n      firstRender: true\n    };\n    return _this;\n  }\n\n  var _proto = TransitionGroup.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.mounted = true;\n    this.setState({\n      contextValue: {\n        isMounting: false\n      }\n    });\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.mounted = false;\n  };\n\n  TransitionGroup.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, _ref) {\n    var prevChildMapping = _ref.children,\n        handleExited = _ref.handleExited,\n        firstRender = _ref.firstRender;\n    return {\n      children: firstRender ? getInitialChildMapping(nextProps, handleExited) : getNextChildMapping(nextProps, prevChildMapping, handleExited),\n      firstRender: false\n    };\n  } // node is `undefined` when user provided `nodeRef` prop\n  ;\n\n  _proto.handleExited = function handleExited(child, node) {\n    var currentChildMapping = getChildMapping(this.props.children);\n    if (child.key in currentChildMapping) return;\n\n    if (child.props.onExited) {\n      child.props.onExited(node);\n    }\n\n    if (this.mounted) {\n      this.setState(function (state) {\n        var children = _extends({}, state.children);\n\n        delete children[child.key];\n        return {\n          children: children\n        };\n      });\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        Component = _this$props.component,\n        childFactory = _this$props.childFactory,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"component\", \"childFactory\"]);\n\n    var contextValue = this.state.contextValue;\n    var children = values(this.state.children).map(childFactory);\n    delete props.appear;\n    delete props.enter;\n    delete props.exit;\n\n    if (Component === null) {\n      return /*#__PURE__*/React.createElement(TransitionGroupContext.Provider, {\n        value: contextValue\n      }, children);\n    }\n\n    return /*#__PURE__*/React.createElement(TransitionGroupContext.Provider, {\n      value: contextValue\n    }, /*#__PURE__*/React.createElement(Component, props, children));\n  };\n\n  return TransitionGroup;\n}(React.Component);\n\nTransitionGroup.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * `<TransitionGroup>` renders a `<div>` by default. You can change this\n   * behavior by providing a `component` prop.\n   * If you use React v16+ and would like to avoid a wrapping `<div>` element\n   * you can pass in `component={null}`. This is useful if the wrapping div\n   * borks your css styles.\n   */\n  component: PropTypes.any,\n\n  /**\n   * A set of `<Transition>` components, that are toggled `in` and out as they\n   * leave. the `<TransitionGroup>` will inject specific transition props, so\n   * remember to spread them through if you are wrapping the `<Transition>` as\n   * with our `<Fade>` example.\n   *\n   * While this component is meant for multiple `Transition` or `CSSTransition`\n   * children, sometimes you may want to have a single transition child with\n   * content that you want to be transitioned out and in when you change it\n   * (e.g. routes, images etc.) In that case you can change the `key` prop of\n   * the transition child as you change its content, this will cause\n   * `TransitionGroup` to transition the child out and back in.\n   */\n  children: PropTypes.node,\n\n  /**\n   * A convenience prop that enables or disables appear animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  appear: PropTypes.bool,\n\n  /**\n   * A convenience prop that enables or disables enter animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  enter: PropTypes.bool,\n\n  /**\n   * A convenience prop that enables or disables exit animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  exit: PropTypes.bool,\n\n  /**\n   * You may need to apply reactive updates to a child as it is exiting.\n   * This is generally done by using `cloneElement` however in the case of an exiting\n   * child the element has already been removed and not accessible to the consumer.\n   *\n   * If you do need to update a child as it leaves you can provide a `childFactory`\n   * to wrap every child, even the ones that are leaving.\n   *\n   * @type Function(child: ReactElement) -> ReactElement\n   */\n  childFactory: PropTypes.func\n} : {};\nTransitionGroup.defaultProps = defaultProps;\nexport default TransitionGroup;","import React, {Component} from 'react'\nimport {PropTypes} from 'prop-types'\nimport ReactDOM from 'react-dom'\nimport {CSSTransition, TransitionGroup} from 'react-transition-group'\nimport {closest} from '../src/util/dom.js'\n\nclass Events extends Component {\n  render () {\n    const transitionOptions = {\n      classNames: 'events',\n      in: true,\n      timeout: 500\n    }\n\n    const defaultContent = (<CSSTransition key='empty-entry' {...transitionOptions}>\n      <div>Nothing to see yet.</div>\n    </CSSTransition>)\n\n    const content = this.props.list.map(function (entry) {\n      return (<CSSTransition key={entry.id} {...transitionOptions}>\n        <div className='events-list-entry'>\n          <span className='event-name'>{entry.name}</span>\n          {entry.content}\n        </div>\n      </CSSTransition>)\n    })\n\n    return (<div className='events-list'>\n      <TransitionGroup\n        children={content.length ? content : defaultContent}\n        enter={true}\n        exit={false}\n      />\n    </div>)\n  }\n}\nEvents.propTypes = {\n  list: PropTypes.array\n}\n\nclass CursorPosition extends Component {\n  render () {\n    return (<span className='cursor-position'>\n      {this.props.before}\n      <i>&nbsp;</i>\n      {this.props.after}\n    </span>)\n  }\n}\nCursorPosition.propTypes = {\n  before: PropTypes.string,\n  after: PropTypes.string\n}\n\nclass Selection extends Component {\n  render () {\n    return <span className='selection'>{this.props.content}</span>\n  }\n}\nSelection.propTypes = {\n  content: PropTypes.string\n}\n\nclass Clipboard extends Component {\n  render () {\n    return (<span>\n      <span className='clipboard-action'>{this.props.action}</span> <span className='clipboard-content'>{this.props.content}</span>\n    </span>)\n  }\n}\nClipboard.propTypes = {\n  action: PropTypes.string,\n  content: PropTypes.string\n}\n\nlet guid = 0\nconst listLength = 7\nconst events = []\n\nfunction addToList (event) {\n  events.unshift(event)\n  if (events.length > listLength) removeFromList()\n}\n\nfunction removeFromList () {\n  events.pop()\n  draw()\n}\n\nfunction showEvent (event) {\n  event.id = ++guid\n  addToList(event)\n  draw()\n}\n\nfunction draw () {\n  ReactDOM.render(<Events list={events} />, document.querySelector('.paragraph-example-events'))\n}\n\nfunction isFromFirstExample (elem) {\n  return !!closest(elem, '.paragraph-example')\n}\n\nexport default function (editable) {\n  editable\n\n    .on('focus', (elem) => {\n      if (!isFromFirstExample(elem)) return\n      showEvent({\n        name: 'focus'\n      })\n    })\n\n    .on('blur', (elem) => {\n      if (!isFromFirstExample(elem)) return\n      showEvent({\n        name: 'blur'\n      })\n    })\n\n    .on('cursor', (elem, cursor) => {\n      if (!isFromFirstExample(elem)) return\n      if (!cursor) return\n      let before = cursor.before().textContent\n      let after = cursor.after().textContent\n      const beforeMatch = /[^ ]{0,10}[ ]?$/.exec(before)\n      const afterMatch = /^[ ]?[^ ]{0,10}/.exec(after)\n      if (beforeMatch) before = beforeMatch[0]\n      if (beforeMatch) after = afterMatch[0]\n      showEvent({\n        name: 'cursor',\n        content: <CursorPosition before={before} after={after} />\n      })\n    })\n\n    .on('selection', (elem, selection) => {\n      if (!isFromFirstExample(elem)) return\n      if (!selection) return\n      showEvent({\n        name: 'selection',\n        content: <Selection content={selection.text()} />\n      })\n    })\n\n    .on('change', (elem) => {\n      if (!isFromFirstExample(elem)) return\n      showEvent({\n        name: 'change'\n      })\n    })\n\n    .on('clipboard', (elem, action, selection) => {\n      if (!isFromFirstExample(elem)) return\n      showEvent({\n        name: 'clipboard',\n        content: <Clipboard action={action} content={selection.text()} />\n      })\n    })\n\n    .on('paste', (elem, blocks, cursor) => {\n      if (!isFromFirstExample(elem)) return\n\n      let text = blocks.join(' ')\n      if (text.length > 40) text = `${text.substring(0, 38)}...`\n\n      showEvent({\n        name: 'paste',\n        content: <Clipboard content={text} />\n      })\n    })\n\n    .on('insert', (elem, direction, cursor) => {\n      if (!isFromFirstExample(elem)) return\n      const content = direction === 'after'\n        ? 'Insert a new block after the current one'\n        : 'Insert a new block before the current one'\n\n      showEvent({\n        name: 'insert',\n        content\n      })\n    })\n\n    .on('split', (elem, fragmentA, fragmentB, cursor) => {\n      if (!isFromFirstExample(elem)) return\n      showEvent({\n        name: 'split',\n        content: <span>Split this block</span>\n      })\n    })\n\n    .on('merge', (elem, direction) => {\n      if (!isFromFirstExample(elem)) return\n      const content = direction === 'after'\n        ? 'Merge this block with the following block'\n        : 'Merge this block with the previous block'\n\n      showEvent({\n        name: 'merge',\n        content: <span>{content}</span>\n      })\n    })\n\n    .on('switch', (elem, direction, cursor) => {\n      if (!isFromFirstExample(elem)) return\n      const content = direction === 'down'\n        ? 'Set the focus to the following block'\n        : 'Set the focus to the previous block'\n\n      showEvent({\n        name: 'switch',\n        content: <span>{content}</span>\n      })\n    })\n\n    .on('newline', (elem) => {\n      if (!isFromFirstExample(elem)) return\n      showEvent({\n        name: 'newline'\n      })\n    })\n\n  draw()\n}\n","import Prism from 'prismjs'\n\nimport {Editable} from '../src/core.js'\nimport eventList from './events.js'\nimport {getSelectionCoordinates} from '../src/util/dom.js'\n\n// Paragraph Example\nconst editable = new Editable({browserSpellcheck: false})\n\n// Paragraph\n// ---------\neditable.enable('.paragraph-example p', {normalize: true})\neventList(editable)\n\n// Text formatting toolbar\neditable.enable('.formatting-example p', {normalize: true})\nsetupTooltip()\n\n// Plain Text\neditable.enable('.plain-text-example.example-sheet', {plainText: true})\n\neditable.enable('.styling-example p', {normalize: true})\nconst secondExample = document.querySelector('.formatting-example p')\nupdateCode(secondExample)\n\neditable.on('change', (elem) => {\n  if (elem === secondExample) updateCode(elem)\n})\n\n// Styling\n// -------\ndocument.querySelector('select[name=\"editable-styles\"]')\n  .addEventListener('change', (evt) => {\n    for (const el of document.querySelectorAll('.styling-example p')) {\n      el.classList.remove('example-style-default', 'example-style-dark')\n      el.classList.add(`example-style-${evt.target.value}`)\n    }\n  })\n\n// Inline element\neditable.add('.inline-example span')\n\n// IFrame\n// ------\ndocument.querySelector('.iframe-example')\n  .addEventListener('load', function () {\n    const iframeWindow = this.contentWindow\n    const iframeEditable = new Editable({\n      window: iframeWindow\n    })\n\n    const iframeBody = this.contentDocument.body\n    iframeEditable.add(iframeBody.querySelectorAll('.is-editable'))\n  })\n\n// Text Formatting\n// ---------------\n\nlet currentSelection\nfunction setupTooltip () {\n  const tooltipWrapper = document.createElement('div')\n  tooltipWrapper.innerHTML = '<div class=\"selection-tip\" style=\"display:none;\">' +\n    `<button class=\"js-format js-format-bold\"><img width=\"20\" height=20\" src=\"data:image/svg+xml;base64,${btoa(`<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" style=\"fill: #eee\"><path d=\"M13.5,15.5H10V12.5H13.5A1.5,1.5 0 0,1 15,14A1.5,1.5 0 0,1 13.5,15.5M10,6.5H13A1.5,1.5 0 0,1 14.5,8A1.5,1.5 0 0,1 13,9.5H10M15.6,10.79C16.57,10.11 17.25,9 17.25,8C17.25,5.74 15.5,4 13.25,4H7V18H14.04C16.14,18 17.75,16.3 17.75,14.21C17.75,12.69 16.89,11.39 15.6,10.79Z\" /></svg>`)}\"></button>` +\n    `<button class=\"js-format js-format-italic\"><img width=\"20\" height=20\" src=\"data:image/svg+xml;base64,${btoa(`<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" style=\"fill: #eee\"><path d=\"M10,4V7H12.21L8.79,15H6V18H14V15H11.79L15.21,7H18V4H10Z\" /></svg>`)}\"></button>` +\n    `<button class=\"js-format js-format-underline\"><img width=\"20\" height=20\" src=\"data:image/svg+xml;base64,${btoa(`<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" style=\"fill: #eee\"><path d=\"M5,21H19V19H5V21M12,17A6,6 0 0,0 18,11V3H15.5V11A3.5,3.5 0 0,1 12,14.5A3.5,3.5 0 0,1 8.5,11V3H6V11A6,6 0 0,0 12,17Z\" /></svg>`)}\"></button>` +\n    `<button class=\"js-format js-format-link\"><img width=\"20\" height=20\" src=\"data:image/svg+xml;base64,${btoa(`<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" style=\"fill: #eee\"><path d=\"M10.59,13.41C11,13.8 11,14.44 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C7.22,12.88 7.22,9.71 9.17,7.76V7.76L12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.59,9.17C9.41,10.34 9.41,12.24 10.59,13.41M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.78,11.12 16.78,14.29 14.83,16.24V16.24L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L13.41,14.83C14.59,13.66 14.59,11.76 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z\" /></svg>`)}\"></button>` +\n    `<button class=\"js-format js-format-quote\"><img width=\"20\" height=20\" src=\"data:image/svg+xml;base64,${btoa(`<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" style=\"fill: #eee\"><path d=\"M14,17H17L19,13V7H13V13H16M6,17H9L11,13V7H5V13H8L6,17Z\" /></svg>`)}\"></button>` +\n    `<button class=\"js-format js-format-comment\"><img width=\"20\" height=20\" src=\"data:image/svg+xml;base64,${btoa(`<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 -960 960 960\" style=\"fill: #eee\"><path d=\"M240-400h122l200-200q9-9 13.5-20.5T580-643q0-11-5-21.5T562-684l-36-38q-9-9-20-13.5t-23-4.5q-11 0-22.5 4.5T440-722L240-522v122Zm280-243-37-37 37 37ZM300-460v-38l101-101 20 18 18 20-101 101h-38Zm121-121 18 20-38-38 20 18Zm26 181h273v-80H527l-80 80ZM80-80v-720q0-33 23.5-56.5T160-880h640q33 0 56.5 23.5T880-800v480q0 33-23.5 56.5T800-240H240L80-80Zm126-240h594v-480H160v525l46-45Zm-46 0v-480 480Z\"/></svg>`)}\"></button>` +\n    `<button class=\"js-format js-format-emoji\"><img width=\"20\" height=20\" src=\"data:image/svg+xml;base64,${btoa(`<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" style=\"fill: #eee\"><path d=\"M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M15.5,8A1.5,1.5 0 0,1 17,9.5A1.5,1.5 0 0,1 15.5,11A1.5,1.5 0 0,1 14,9.5A1.5,1.5 0 0,1 15.5,8M8.5,8A1.5,1.5 0 0,1 10,9.5A1.5,1.5 0 0,1 8.5,11A1.5,1.5 0 0,1 7,9.5A1.5,1.5 0 0,1 8.5,8M12,17.5C9.67,17.5 7.69,16.04 6.89,14H17.11C16.3,16.04 14.33,17.5 12,17.5Z\" /></svg>`)}\"></button>` +\n    `<button class=\"js-format js-format-whitespace\"><img width=\"20\" height=20\" src=\"data:image/svg+xml;base64,${btoa(`<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" style=\"fill: #eee\"><path d=\"M3 15H5V19H19V15H21V19C21 20.1 20.1 21 19 21H5C3.9 21 3 20.1 3 19V15Z\" /></svg>`)}\"></button>` +\n    `<button class=\"js-format js-format-clear\"><img width=\"20\" height=20\" src=\"data:image/svg+xml;base64,${btoa(`<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" style=\"fill: #eee\"><path d=\"M16.24,3.56L21.19,8.5C21.97,9.29 21.97,10.55 21.19,11.34L12,20.53C10.44,22.09 7.91,22.09 6.34,20.53L2.81,17C2.03,16.21 2.03,14.95 2.81,14.16L13.41,3.56C14.2,2.78 15.46,2.78 16.24,3.56M4.22,15.58L7.76,19.11C8.54,19.9 9.8,19.9 10.59,19.11L14.12,15.58L9.17,10.63L4.22,15.58Z\" /></svg>`)}\"></button>` +\n    '</div>'\n\n  const tooltip = tooltipWrapper.firstElementChild\n  document.body.appendChild(tooltip)\n\n  editable\n    .selection((el, selection) => {\n      currentSelection = selection\n      if (!selection) {\n        tooltip.style.display = 'none'\n        return\n      }\n\n      const coords = getSelectionCoordinates(window.getSelection())?.[0]\n      tooltip.style.display = 'block'\n      tooltip.style.position = 'fixed'\n\n      // position tooltip\n      const top = coords.top - tooltip.offsetHeight - 15\n      // eslint-disable-next-line\n      const left = coords.left + (coords.width / 2) - (tooltip.offsetWidth / 2)\n      tooltip.style.top = `${top}px`\n      tooltip.style.left = `${left}px`\n    })\n    .blur(() => {\n      tooltip.style.display = 'none'\n    })\n\n  setupTooltipListeners(tooltip)\n}\n\nfunction setupTooltipListeners (tooltip) {\n  // prevent editable from loosing focus\n  // document\n  //   .addEventListener('mousedown', (evt) => {})\n  const on = (type, selector, func) => {\n    for (const el of tooltip.querySelectorAll(selector)) {\n      el.addEventListener(type, func)\n    }\n  }\n\n  on('mousedown', '.js-format', (event) => event.preventDefault())\n\n  on('click', '.js-format-bold', (event) => {\n    if (!currentSelection.isSelection) return\n\n    currentSelection.toggleBold()\n    currentSelection.triggerChange()\n  })\n\n  on('click', '.js-format-italic', (event) => {\n    if (!currentSelection.isSelection) return\n\n    currentSelection.toggleEmphasis()\n    currentSelection.triggerChange()\n  })\n\n  on('click', '.js-format-underline', (event) => {\n    if (!currentSelection.isSelection) return\n\n    currentSelection.toggleUnderline()\n    currentSelection.triggerChange()\n  })\n\n  on('click', '.js-format-link', (event) => {\n    if (!currentSelection.isSelection) return\n\n    currentSelection.toggleLink('www.livingdocs.io')\n    currentSelection.triggerChange()\n  })\n\n  on('click', '.js-format-quote', (event) => {\n    if (!currentSelection.isSelection) return\n\n    currentSelection.toggleSurround('', '')\n    currentSelection.triggerChange()\n  })\n\n  on('click', '.js-format-comment', (event) => {\n    if (!currentSelection.isSelection) return\n\n    const textRange = currentSelection.getTextRange()\n\n    currentSelection.highlightComment({textRange})\n    currentSelection.triggerChange()\n  })\n\n  on('click', '.js-format-emoji', (event) => {\n    if (!currentSelection.isSelection) return\n\n    currentSelection.insertCharacter('')\n    currentSelection.triggerChange()\n  })\n\n  on('click', '.js-format-whitespace', (event) => {\n    if (!currentSelection.isSelection) return\n\n    // insert a special whitespace 'em-space'\n    currentSelection.insertCharacter('')\n    currentSelection.triggerChange()\n  })\n\n  on('click', '.js-format-clear', (event) => {\n    if (!currentSelection.isSelection) return\n\n    currentSelection.removeFormatting()\n    currentSelection.triggerChange()\n  })\n}\n\nfunction updateCode (elem) {\n  const content = editable.getContent(elem)\n  const codeBlock = document.querySelector('.formatting-code-js')\n  codeBlock.textContent = content.trim()\n  Prism.highlightElement(codeBlock)\n}\n\n// Highlighting\n// ------------\n\nfunction highlightService (text, callback) {\n  callback(['happy'])\n}\n\neditable.setupHighlighting({\n  checkOnInit: true,\n  throttle: 0,\n  spellcheck: {\n    marker: '<span class=\"highlight-spellcheck\"></span>',\n    spellcheckService: highlightService\n  },\n  whitespace: {\n    marker: '<span class=\"highlight-whitespace\"></span>'\n  }\n})\n\nconst highlightExample = document.querySelector('.highlighting-example p')\neditable.add(highlightExample)\n\n\n// Whitespace Highlighting\n// -----------------------\n\nconst highlightExample2 = document.querySelector('.whitespace-highlighting-example p')\neditable.add(highlightExample2)\n\n\n// Pasting\n// -------\n\neditable.add('.pasting-example p')\n"],"names":["root","factory","exports","module","define","amd","a","i","self","React","formatProdErrorMessage","code","url","arguments","length","encodeURIComponent","noop","Internals","d","f","r","Error","D","C","L","m","X","S","M","p","findDOMNode","REACT_PORTAL_TYPE","Symbol","for","ReactSharedInternals","__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","getCrossOriginStringAs","as","input","__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","createPortal","children","container","key","nodeType","containerInfo","implementation","$$typeof","createPortal$1","flushSync","fn","previousTransition","T","previousUpdatePriority","preconnect","href","options","crossOrigin","prefetchDNS","preinit","integrity","fetchPriority","precedence","nonce","preinitModule","preload","type","referrerPolicy","imageSrcSet","imageSizes","media","preloadModule","requestFormReset","form","unstable_batchedUpdates","useFormState","action","initialState","permalink","H","useFormStatus","useHostTransitionStatus","version","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","props","propName","componentName","location","propFullName","secret","err","name","getShim","isRequired","ReactPropTypes","array","bigint","bool","func","number","object","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","Prism","_self","lang","uniqueId","plainTextGrammar","_","manual","disableWorkerMessageHandler","util","encode","tokens","Token","content","alias","Array","isArray","map","replace","o","Object","prototype","toString","call","slice","objId","obj","defineProperty","value","clone","deepClone","visited","id","hasOwnProperty","forEach","v","getLanguage","exec","className","toLowerCase","parentElement","setLanguage","language","RegExp","classList","add","currentScript","document","src","stack","scripts","getElementsByTagName","isActive","defaultActivation","no","contains","languages","plain","plaintext","text","txt","extend","redef","insertBefore","inside","before","insert","grammar","ret","token","newToken","old","DFS","this","callback","property","propertyType","plugins","highlightAll","async","highlightAllUnder","env","selector","hooks","run","elements","apply","querySelectorAll","highlightElement","parent","nodeName","textContent","insertHighlightedCode","highlightedCode","innerHTML","hasAttribute","setAttribute","Worker","worker","filename","onmessage","evt","data","postMessage","JSON","stringify","immediateClose","highlight","tokenize","rest","tokenList","LinkedList","addAfter","head","matchGrammar","list","next","tail","push","toArray","all","callbacks","matchedStr","matchPattern","pattern","pos","lookbehind","lastIndex","match","lookbehindLength","index","startNode","startPos","rematch","patterns","j","cause","patternObj","greedy","global","flags","source","currentNode","reach","str","removeCount","from","to","k","matchStr","after","removeFrom","prev","removeRange","nestedRematch","newNode","count","s","e","tag","classes","attributes","aliases","join","addEventListener","message","parse","close","script","highlightAutomaticallyCallback","readyState","defer","window","requestAnimationFrame","setTimeout","WorkerGlobalScope","g","markup","tagName","includedCdataInside","def","attrName","html","mathml","svg","xml","ssml","atom","rss","css","addInlined","addAttribute","clike","javascript","regex","js","Element","matches","msMatchesSelector","webkitMatchesSelector","EXTENSIONS","STATUS_ATTR","STATUS_LOADING","STATUS_LOADED","SELECTOR","pre","appendChild","createElement","getAttribute","extension","autoloader","loadLanguages","success","error","xhr","XMLHttpRequest","open","onreadystatechange","status","responseText","range","start","Number","comma","end","undefined","parseRange","lines","split","Math","max","min","String","statusText","send","loadFile","fileHighlight","logged","console","warn","REACT_ELEMENT_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_CONSUMER_TYPE","REACT_CONTEXT_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","MAYBE_ITERATOR_SYMBOL","iterator","ReactNoopUpdateQueue","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","assign","emptyObject","Component","context","updater","refs","ComponentDummy","PureComponent","isReactComponent","setState","partialState","forceUpdate","pureComponentPrototype","constructor","isPureReactComponent","isArrayImpl","A","ReactElement","owner","ref","isValidElement","userProvidedKeyEscapeRegex","getElementKey","escaperLookup","noop$1","mapIntoArray","escapedPrefix","nameSoFar","oldElement","newKey","invokeCallback","_init","_payload","c","maybeIterable","nextNamePrefix","done","then","thenable","reason","fulfilledValue","resolveThenable","keys","mapChildren","result","child","lazyInitializer","payload","_status","ctor","_result","moduleObject","default","reportGlobalError","reportError","ErrorEvent","event","bubbles","cancelable","dispatchEvent","process","emit","Children","forEachFunc","forEachContext","n","only","Fragment","Profiler","StrictMode","Suspense","act","cache","cloneElement","config","childArray","createContext","defaultValue","_currentValue","_currentValue2","_threadCount","Provider","Consumer","_context","childrenLength","defaultProps","createRef","current","forwardRef","render","lazy","memo","compare","startTransition","scope","prevTransition","currentTransition","returnValue","onStartTransitionFinish","unstable_useCacheRefresh","useCacheRefresh","use","usable","useActionState","useCallback","deps","useContext","Context","useDebugValue","useDeferredValue","initialValue","useEffect","create","useId","useImperativeHandle","useInsertionEffect","useLayoutEffect","useMemo","useOptimistic","passthrough","reducer","useReducer","initialArg","init","useRef","useState","useSyncExternalStore","subscribe","getSnapshot","getServerSnapshot","useTransition","checkDCE","__REACT_DEVTOOLS_GLOBAL_HOOK__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","definition","enumerable","get","globalThis","Function","prop","toStringTag","_classCallCheck","TypeError","_typeof","toPropertyKey","t","toPrimitive","_defineProperties","configurable","writable","_createClass","log","logErrors","editableClass","editableDisabledClass","pastingAttribute","trimLeadingAndTrailingWhitespaces","boldMarkup","attribs","trim","italicMarkup","underlineMarkup","linkMarkup","pastedHtmlRules","allowedElements","allowedPlainTextElements","requiredAttributes","transformElements","splitIntoBlocks","blockLevelElements","blacklistedElements","keepInternalRelativeLinks","replaceQuotes","args","htmlCharacters","trimRight","isString","elementNode","textNode","documentFragmentNode","NodeIterator","method","previous","nextNode","iteratorFunc","getNext","getPrevious","firstChild","nextSibling","parentNode","lastChild","previousSibling","replacement","domArray","target","domSelector","querySelector","el","firstElementChild","closest","elem","createRange","getSelection","getNodes","nodeTypes","filterFunc","nodes","nodeIterator","createNodeIterator","commonAncestorContainer","NodeFilter","SHOW_ALL","acceptNode","intersectsNode","includes","FILTER_ACCEPT","FILTER_SKIP","normalizeBoundaries","startContainer","compareDocumentPosition","endContainer","Node","DOCUMENT_POSITION_FOLLOWING","setStartBefore","DOCUMENT_POSITION_PRECEDING","setEndAfter","containsNodeText","nodeRange","selectNodeContents","comparisonStart","compareBoundaryPoints","Range","START_TO_START","comparisonEnd","END_TO_END","isCharacterDataNode","TEXT_NODE","COMMENT_NODE","splitDataNode","offset","splitText","splitBoundaries","startOffset","endOffset","newStartContainer","setStart","toCharacterRange","startRange","cloneRange","setEnd","rangeText","rangesAreEqual","range1","range2","findStartExcludingWhitespace","_ref","whitespacesOnTheLeft","childNodes","offsetAfterWhitespace","getNextTextNode","previousTextNode","getPreviousTextNode","findEndExcludingWhitespace","_ref2","whitespacesOnTheRight","isFirstNode","offsetBeforeWhitespace","getHost","jquery","concat","getNodeIndex","isVoid","_step","_iterator","_createForOfIteratorHelper","isVoidTextNode","nodeValue","isWhitespaceOnly","lastOffsetWithContent","isLinebreak","lastOffset","reverse","every","isBeginningOfHost","host","isStartOffset","offsetInParent","isEndOfHost","isEndOffset","isTextEndOfHost","isTextEndOffset","isSameNode","len","attr","latestChild","isDocumentFragmentWithoutChildren","fragment","isInlineElement","currentStyle","getComputedStyle","display","boundaryMarkerId","markerTextChar","isSecondChildOfCommonAncestor","rangeContainer","possibleChild","insertRangeBoundaryMarker","atStart","ownerDocument","doc","defaultView","markerEl","style","lineHeight","createTextNode","directlyBeforeFormatTag","directlyAfterFormatTag","startParentElem","endParentElem","boundaryRange","collapse","insertNode","setRangeBoundary","markerId","getMarker","remove","save","rangeInfo","startEl","endEl","collapsed","startMarkerId","endMarkerId","setEndBefore","setStartAfter","restore","restored","previousNode","restoreRange","rangeSaveRestore","zeroWidthSpace","zeroWidthNonBreakingSpace","whitespaceExceptSpace","everythingWhitespace","leadingWhitespace","trailingWhitespace","tidyHtml","normalizeTags","createDocumentFragment","removeWhitespaces","sibling","parser","_step2","_iterator2","siblingChild","cloneNode","removeChild","normalizeWhitespace","cleanInternals","extractContent","keepUiElements","innerHtml","getInnerHtmlOfFragment","unwrapInternalNodes","documentFragment","div","createFragmentFromString","htmlString","wrapper","adoptElement","adoptNode","cloneRangeContents","cloneContents","_elem","firstCall","test","startsWith","unwrap","getTags","innerTags","getInnerTags","ancestorTags","getAncestorTags","tags","getTagsByName","toUpperCase","getTagsByNameAndAttributes","areSameAttributes","attrs1","attrs2","getContainedTags","filter","getTagNames","isAffectedBy","some","isExactSelection","visible","elemRange","END_TO_START","elemText","expandTo","toggleTag","elems","removeFormattingElem","forceWrap","isWrappable","boundariesInvalid","ELEMENT_NODE","isNodeFullyContained","canSurroundContents","restoredRange","nukeElem","nuke","wrap","surroundContents","removeFormatting","insertCharacter","character","insertEl","surround","startCharacter","endCharacter","deleteCharacter","containsString","rangeCount","indexOf","replaceAll","nukeTag","nextBlockId","state","getSibling","normalize","plainText","shouldSpellcheck","setBlockId","Boolean","isPlainTextBlock","_toConsumableArray","replacements","doubleQuotePairs","singleQuotePairs","apostrophe","quotesRegex","beforeOpeningQuote","afterClosingQuote","replaceAllQuotes","replaceQuotesRules","quotes","singleQuotes","matchAll","char","getAllQuotes","replaceMatchedQuotes","replaceExistingQuotes","position","closingTag","findClosingQuote","nestedMatches","replaceApostrophe","openingQuote","possibleClosingSingleQuotes","getPossibleClosingQuotes","possibleClosingDoubleQuotes","pairs","quotePair","quote","whitespaceOnly","blockPlaceholder","updateConfig","conf","rules","paste","block","cursor","clipboardContent","isSelection","deleteExactSurroundingTags","deleteContainedTags","deleteContent","pasteHolder","blocks","_ref$plainText","filterHtmlElements","entry","group","parseContent","removeAttribute","reduce","stripInternalHost","origin","requiredAttrs","hasRequiredAttributes","shouldKeepNode","transformNodeName","_allowedElements$node","filterAttributes","conditionalNodeWrap","documentElement","contentEditable","isBlink","navigator","userAgent","isWebkit","webKit","selectionchange","osc","onselectionchange","hasNativeSelectionchangeSupport","contenteditableSpanBug","eventable","notifyContext","events","listeners","addListener","listener","unshift","on","eventType","off","eventListeners","splice","removeListener","notify","switchContext","shift","getEventableModule","getScrollPosition","win","x","pageXOffset","body","scrollLeft","y","pageYOffset","scrollTop","Cursor","editableHost","setHost","isCursor","hostRange","hostCoords","getRangeBoundingClientRect","cursorCoords","isCloseTo","bottom","top","preceedingElement","setVisibleSelection","activeElement","_viewport$getScrollPo","viewport","scrollTo","selection","removeAllRanges","addRange","getBoundingClientRect","positioning","coords","_viewport$getScrollPo2","left","right","height","width","updateHost","moveAtEnd","savedRangeInfo","isEqualNode","attributeName","attributeValue","Event","b","abs","_slicedToArray","l","u","_assertThisInitialized","ReferenceError","_possibleConstructorReturn","_getPrototypeOf","setPrototypeOf","getPrototypeOf","bind","__proto__","_setPrototypeOf","_inherits","extractText","convertBRs","getText","part","highlightMatches","countBRs","wordId","currentMatchIndex","totalOffset","currentMatch","portions","nodeText","nodeEndOffset","startIndex","endIndex","isFirstPortion","isLastPortion","portion","substring","lastNode","wrapMatch","marker","title","replaceCurrent","stencilElement","_this","wrapPortion","pop","findMatches","searchTexts","matchMode","_obj$ownerDocument","HTMLElement","isElement","createWordRegex","createHighlightRegex","matchedText","escapedWords","word","escapeRegEx","letterChars","highlightSupport","highlightText","highlightId","dispatcher","hasHighlight","blockText","searchTerm","searchText","createMarkerNode","highlightRange","removeHighlight","actualStartIndex","actualEndIndex","updateHighlight","addCssClass","removeCssClass","extractHighlightedRanges","findMarkersQuery","markers","_step3","groups","_iterator3","res","extractMarkerNodePosition","selectNode","textRange","nativeRange","cleanupStaleMarkerNodes","highlightType","_step4","_iterator4","markerMarkup","Selection","_Cursor","rangeToHtml","getClientRects","attrs","link","trimRange","textToTrim","search","lastNonWhitespace","_findStartExcludingWh2","_findEndExcludingWhit2","links","firstLink","unlink","textBefore","currentTextContent","markerNode","_ref3","_ref3$trim","customElem","toggle","_ref4","_ref4$trim","bold","em","chars","removeSurround","ancestorTag","containedTag","deleteContents","onlyVisible","RangeContainer","isAnythingSelected","getCursor","otherRangeContainer","other","SelectionWatcher","currentSelection","currentRange","_this$selection","successfulSync","syncSelection","getRangeAt","hostNode","getRangeContainer","forceCursor","newRangeContainer","isDifferentFrom","lastSelection","Keyboard","selectionWatcher","notifyCharacterEvent","keyCode","up","down","tab","shiftKey","esc","backspace","preventContenteditableBug","enter","ctrl","alt","ctrlKey","metaKey","getFreshRange","nodeToRemove","getNodeToRemove","selectionRange","startNodeElement","startNodeRange","testRange","containerRange","contentNodeTypes","firstContentNode","rangeStartingBeforeCurrentElement","delete","isValidQuotePairConfig","isSingleQuote","isApostrophe","isSeparatorOrWhitespace","replaceQuote","quoteType","replaceWith","Dispatcher","editable","editableSelector","keyboard","activeListeners","setup","getEditableBlockByEvent","capture","setupKeyboardEvents","setupEventListeners","removeEventListener","suspended","setupElementListeners","setupKeydownListener","setupSelectionChangeListeners","setupSelectionChangeFallbackListeners","currentInput","setupDocumentListener","getFreshSelection","preventDefault","clipboardData","getData","_clipboard$paste","clipboard","innerText","retainVisibleSelection","searchValue","lastOccurrenceIndex","lastIndexOf","replaceLast","smartQuotes","isContentEditable","shouldApplySmartQuotes","_selection$range","cursorOffset","isCharSingleQuote","newTextNode","indexCharBefore","textArr","indexCharAfter","hasCharAfter","singleOpeningQuote","hasSingleOpeningQuote","closingQuote","shouldBeOpeningQuote","applySmartQuotes","direction","altKey","positionX","isAtFirstLine","stopPropagation","isAtLastLine","dispatchKeyEvent","dispatchSwitchEvent","isAtBeginning","isAtTextEnd","selectionDirty","suppressSelectionChanges","isAtEnd","selectionChanged","mouseMoveSelectionChanges","once","_this2","ListCache","entries","clear","set","__data__","size","has","freeSelf","objectProto","nativeObjectToString","symToStringTag","isOwn","unmasked","uid","maskSrcKey","IE_PROTO","funcToString","reIsHostCtor","reIsNative","Hash","MapCache","Stack","LARGE_ARRAY_SIZE","iteratee","keysFunc","iterable","freeExports","freeModule","Buffer","allocUnsafe","Uint8Array","typedArray","isDeep","arrayBuffer","buffer","byteLength","byteOffset","objectCreate","proto","transform","arg","Ctor","propertyIsEnumerable","isBuffer","objectCtorString","typedArrayTags","freeProcess","nodeUtil","require","types","binding","nodeIsTypedArray","isTypedArray","objValue","reIsUint","inherited","isArr","isArg","isBuff","isType","skipIndexes","isProto","customizer","isNew","newValue","srcIndex","mergeFunc","srcValue","stacked","isCommon","isTyped","copy","baseMerge","nativeMax","nativeNow","Date","now","lastCalled","stamp","remaining","otherArgs","thisArg","assigner","sources","guard","SpellcheckService","spellcheckService","condensedText","misspelledWords","characters","specialWhitespaceCharsRegex","WhitespaceHighlighting","prepareMatch","unicode","charCodeAt","description","MatchCollection","matches1","matches2","length1","length2","lastEndIndex","output","a1","i1","a2","i2","pickNext","mergeMatches","item1","item2","MonitoredHighlighting","configuration","spellcheckConfig","focusedEditableHost","currentlyCheckedEditableHost","timeout","_merge","checkOnInit","checkOnFocus","checkOnChange","throttle","removeOnCorrection","spellcheck","whitespace","spellcheckMarker","whitespaceMarker","whitespaceMarkerNode","spellcheckMarkerNode","setupListeners","onFocus","onBlur","onChange","onInit","editableHasChanged","removeHighlightsAtCursor","clearTimeout","timeoutId","_this3","check","isConnected","matchCollection","words","searchAllWords","addMatches","safeHighlightMatches","_this4","removeHighlights","elementAtCursor","trace","textNodesUnder","getTextNodeAndRelativeOffset","targetNode","textNodes","absOffset","cumulativeOffset","relativeOffset","moveLeft","rightLimit","currentOffset","floor","leftLimit","moveRight","ceil","createRangeAtCharacterOffset","_getTextNodeAndRelati","newRange","Editable","instanceConfig","defaultInstanceConfig","defaultBehavior","browserSpellcheck","behavior","focus","blur","newline","_br$nextSibling","br","insertAfter","newElement","merge","merger","appendTo","prependTo","empty","moveAtTextEnd","moveAtBeginning","move","currentElement","createCursorAtEnd","toggleBold","toggleEmphasis","createDefaultBehavior","flow","createDefaultEvents","enable","targets","disable","_ref$normalize","suspend","_step5","_iterator5","findHost","nextCursor","createCursor","inputElement","contentToAppend","contentToPrepend","nodeContainsRange","hightlightingConfig","highlighting","outerHTML","setupHighlighting","checkSpelling","raiseEvents","_ref3$type","_ref5","_ref6","handler","_len","_key","unload","_ref7","origCoordinates","_ref7$requiredOnFirst","requiredOnFirstLine","_ref7$requiredOnLastL","requiredOnLastLine","totalCharCount","acc","wasFound","distance","safety","finalDistance","binaryCursorSearch","globalConfig","_extends","_objectWithoutPropertiesLoose","_inheritsLoose","replaceClassName","origClass","classToRemove","forceReflow","UNMOUNTED","EXITED","ENTERING","ENTERED","EXITING","Transition","_React$Component","initialStatus","appear","isMounting","appearStatus","in","unmountOnExit","mountOnEnter","nextCallback","getDerivedStateFromProps","prevState","_proto","componentDidMount","updateStatus","componentDidUpdate","prevProps","nextStatus","componentWillUnmount","cancelNextCallback","getTimeouts","exit","mounting","nodeRef","performEnter","performExit","appearing","maybeNode","maybeAppearing","timeouts","enterTimeout","onEnter","safeSetState","onEntering","onTransitionEnd","onEntered","onExit","onExiting","onExited","cancel","nextState","setNextCallback","active","doesNotHaveTimeoutOrListener","addEndListener","maybeNextCallback","_this$props","childProps","TransitionGroupContext","contextType","propTypes","removeClass","baseVal","CSSTransition","appliedClasses","_this$resolveArgument","resolveArguments","removeClasses","addClass","_this$resolveArgument2","_this$resolveArgument3","getClassNames","classNames","isStringClassNames","baseClassName","activeClassName","doneClassName","phase","hasClass","_addClass","_this$appliedClasses$","base","getChildMapping","mapFn","mapper","getProp","getNextChildMapping","nextProps","prevChildMapping","nextChildMapping","getValueForKey","nextKeysPending","pendingKeys","prevKey","childMapping","nextKey","pendingNextKey","mergeChildMappings","hasPrev","hasNext","prevChild","isLeaving","values","TransitionGroup","handleExited","contextValue","firstRender","mounted","currentChildMapping","component","childFactory","Events","_Component","_callSuper","transitionOptions","defaultContent","CursorPosition","_Component2","_Component3","Clipboard","_Component4","guid","showEvent","draw","addToList","ReactDOM","isFromFirstExample","beforeMatch","afterMatch","fragmentA","fragmentB","eventList","tooltipWrapper","btoa","tooltip","_getSelectionCoordina","rects","coordinates","rect","getSelectionCoordinates","offsetHeight","offsetWidth","triggerChange","toggleUnderline","toggleLink","toggleSurround","getTextRange","highlightComment","setupTooltipListeners","setupTooltip","secondExample","updateCode","getContent","codeBlock","iframeWindow","contentWindow","iframeEditable","iframeBody","contentDocument","highlightExample","highlightExample2"],"sourceRoot":""}